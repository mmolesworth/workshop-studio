{
  "version": 3,
  "sources": ["../../@material/material-color-utilities/utils/math_utils.ts", "../../@material/material-color-utilities/utils/color_utils.ts", "../../@material/material-color-utilities/hct/viewing_conditions.ts", "../../@material/material-color-utilities/hct/cam16.ts", "../../@material/material-color-utilities/hct/hct_solver.ts", "../../@material/material-color-utilities/hct/hct.ts", "../../@material/material-color-utilities/contrast/contrast.ts", "../../@material/material-color-utilities/dislike/dislike_analyzer.ts", "../../@material/material-color-utilities/dynamiccolor/dynamic_color.ts", "../../@material/material-color-utilities/palettes/tonal_palette.ts", "../../@material/material-color-utilities/dynamiccolor/contrast_curve.ts", "../../@material/material-color-utilities/dynamiccolor/tone_delta_pair.ts", "../../@material/material-color-utilities/dynamiccolor/variant.ts", "../../@material/material-color-utilities/dynamiccolor/material_dynamic_colors.ts", "../../@material/material-color-utilities/dynamiccolor/dynamic_scheme.ts", "../../@material/material-color-utilities/scheme/scheme_expressive.ts", "../../@material/material-color-utilities/scheme/scheme_vibrant.ts", "../../@material/material-color-utilities/score/score.ts", "../../@material/material-color-utilities/utils/string_utils.ts", "../../@cloudscape-design/theming-runtime/shared/theme/color-generation/hct-utils.js", "../../@cloudscape-design/theming-runtime/shared/theme/color-generation/palette-spec.js", "../../@cloudscape-design/theming-runtime/shared/theme/color-generation/neutral-spec.js", "../../@cloudscape-design/theming-runtime/shared/theme/color-generation/primary-spec.js", "../../@cloudscape-design/theming-runtime/shared/theme/color-generation/warning-spec.js", "../../@cloudscape-design/theming-runtime/shared/theme/color-generation/palette-generator.js", "../../@cloudscape-design/theming-runtime/shared/theme/utils.js", "../../@cloudscape-design/theming-runtime/shared/theme/process.js", "../../@cloudscape-design/theming-runtime/shared/theme/builder.js", "../../@cloudscape-design/theming-runtime/shared/utils.js", "../../@cloudscape-design/theming-runtime/shared/theme/resolve.js", "../../@cloudscape-design/theming-runtime/shared/theme/validate.js", "../../@cloudscape-design/theming-runtime/shared/theme/merge.js", "../../@cloudscape-design/theming-runtime/shared/declaration/stylesheet.js", "../../@cloudscape-design/theming-runtime/shared/declaration/rule.js", "../../@cloudscape-design/theming-runtime/shared/declaration/abstract.js", "../../@cloudscape-design/theming-runtime/shared/declaration/utils.js", "../../@cloudscape-design/theming-runtime/shared/declaration/single.js", "../../@cloudscape-design/theming-runtime/shared/styles/selector.js", "../../@cloudscape-design/theming-runtime/shared/declaration/multi.js", "../../@cloudscape-design/theming-runtime/shared/declaration/selector.js", "../../@cloudscape-design/theming-runtime/shared/declaration/registry.js", "../../@cloudscape-design/theming-runtime/shared/declaration/transformer.js", "../../@cloudscape-design/theming-runtime/shared/declaration/index.js", "../../@cloudscape-design/theming-runtime/browser/dom.js", "../../@cloudscape-design/theming-runtime/shared/declaration/customizer.js", "../../@cloudscape-design/theming-runtime/browser/index.js"],
  "sourcesContent": ["/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// This file is automatically generated. Do not modify it.\n\n/**\n * Utility methods for mathematical operations.\n */\n\n/**\n * The signum function.\n *\n * @return 1 if num > 0, -1 if num < 0, and 0 if num = 0\n */\nexport function signum(num: number): number {\n  if (num < 0) {\n    return -1;\n  } else if (num === 0) {\n    return 0;\n  } else {\n    return 1;\n  }\n}\n\n/**\n * The linear interpolation function.\n *\n * @return start if amount = 0 and stop if amount = 1\n */\nexport function lerp(start: number, stop: number, amount: number): number {\n  return (1.0 - amount) * start + amount * stop;\n}\n\n/**\n * Clamps an integer between two integers.\n *\n * @return input when min <= input <= max, and either min or max\n * otherwise.\n */\nexport function clampInt(min: number, max: number, input: number): number {\n  if (input < min) {\n    return min;\n  } else if (input > max) {\n    return max;\n  }\n\n  return input;\n}\n\n/**\n * Clamps an integer between two floating-point numbers.\n *\n * @return input when min <= input <= max, and either min or max\n * otherwise.\n */\nexport function clampDouble(min: number, max: number, input: number): number {\n  if (input < min) {\n    return min;\n  } else if (input > max) {\n    return max;\n  }\n\n  return input;\n}\n\n/**\n * Sanitizes a degree measure as an integer.\n *\n * @return a degree measure between 0 (inclusive) and 360\n * (exclusive).\n */\nexport function sanitizeDegreesInt(degrees: number): number {\n  degrees = degrees % 360;\n  if (degrees < 0) {\n    degrees = degrees + 360;\n  }\n  return degrees;\n}\n\n/**\n * Sanitizes a degree measure as a floating-point number.\n *\n * @return a degree measure between 0.0 (inclusive) and 360.0\n * (exclusive).\n */\nexport function sanitizeDegreesDouble(degrees: number): number {\n  degrees = degrees % 360.0;\n  if (degrees < 0) {\n    degrees = degrees + 360.0;\n  }\n  return degrees;\n}\n\n/**\n * Sign of direction change needed to travel from one angle to\n * another.\n *\n * For angles that are 180 degrees apart from each other, both\n * directions have the same travel distance, so either direction is\n * shortest. The value 1.0 is returned in this case.\n *\n * @param from The angle travel starts from, in degrees.\n * @param to The angle travel ends at, in degrees.\n * @return -1 if decreasing from leads to the shortest travel\n * distance, 1 if increasing from leads to the shortest travel\n * distance.\n */\nexport function rotationDirection(from: number, to: number): number {\n  const increasingDifference = sanitizeDegreesDouble(to - from);\n  return increasingDifference <= 180.0 ? 1.0 : -1.0;\n}\n\n/**\n * Distance of two points on a circle, represented using degrees.\n */\nexport function differenceDegrees(a: number, b: number): number {\n  return 180.0 - Math.abs(Math.abs(a - b) - 180.0);\n}\n\n/**\n * Multiplies a 1x3 row vector with a 3x3 matrix.\n */\nexport function matrixMultiply(row: number[], matrix: number[][]): number[] {\n  const a =\n      row[0] * matrix[0][0] + row[1] * matrix[0][1] + row[2] * matrix[0][2];\n  const b =\n      row[0] * matrix[1][0] + row[1] * matrix[1][1] + row[2] * matrix[1][2];\n  const c =\n      row[0] * matrix[2][0] + row[1] * matrix[2][1] + row[2] * matrix[2][2];\n  return [a, b, c];\n}\n", "/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// This file is automatically generated. Do not modify it.\n\nimport * as mathUtils from './math_utils.js';\n\n/**\n * Color science utilities.\n *\n * Utility methods for color science constants and color space\n * conversions that aren't HCT or CAM16.\n */\n\nconst SRGB_TO_XYZ = [\n  [0.41233895, 0.35762064, 0.18051042],\n  [0.2126, 0.7152, 0.0722],\n  [0.01932141, 0.11916382, 0.95034478],\n];\n\nconst XYZ_TO_SRGB = [\n  [\n    3.2413774792388685,\n    -1.5376652402851851,\n    -0.49885366846268053,\n  ],\n  [\n    -0.9691452513005321,\n    1.8758853451067872,\n    0.04156585616912061,\n  ],\n  [\n    0.05562093689691305,\n    -0.20395524564742123,\n    1.0571799111220335,\n  ],\n];\n\nconst WHITE_POINT_D65 = [95.047, 100.0, 108.883];\n\n/**\n * Converts a color from RGB components to ARGB format.\n */\nexport function argbFromRgb(red: number, green: number, blue: number): number {\n  return (255 << 24 | (red & 255) << 16 | (green & 255) << 8 | blue & 255) >>>\n      0;\n}\n\n/**\n * Converts a color from linear RGB components to ARGB format.\n */\nexport function argbFromLinrgb(linrgb: number[]): number {\n  const r = delinearized(linrgb[0]);\n  const g = delinearized(linrgb[1]);\n  const b = delinearized(linrgb[2]);\n  return argbFromRgb(r, g, b);\n}\n\n/**\n * Returns the alpha component of a color in ARGB format.\n */\nexport function alphaFromArgb(argb: number): number {\n  return argb >> 24 & 255;\n}\n\n/**\n * Returns the red component of a color in ARGB format.\n */\nexport function redFromArgb(argb: number): number {\n  return argb >> 16 & 255;\n}\n\n/**\n * Returns the green component of a color in ARGB format.\n */\nexport function greenFromArgb(argb: number): number {\n  return argb >> 8 & 255;\n}\n\n/**\n * Returns the blue component of a color in ARGB format.\n */\nexport function blueFromArgb(argb: number): number {\n  return argb & 255;\n}\n\n/**\n * Returns whether a color in ARGB format is opaque.\n */\nexport function isOpaque(argb: number): boolean {\n  return alphaFromArgb(argb) >= 255;\n}\n\n/**\n * Converts a color from ARGB to XYZ.\n */\nexport function argbFromXyz(x: number, y: number, z: number): number {\n  const matrix = XYZ_TO_SRGB;\n  const linearR = matrix[0][0] * x + matrix[0][1] * y + matrix[0][2] * z;\n  const linearG = matrix[1][0] * x + matrix[1][1] * y + matrix[1][2] * z;\n  const linearB = matrix[2][0] * x + matrix[2][1] * y + matrix[2][2] * z;\n  const r = delinearized(linearR);\n  const g = delinearized(linearG);\n  const b = delinearized(linearB);\n  return argbFromRgb(r, g, b);\n}\n\n/**\n * Converts a color from XYZ to ARGB.\n */\nexport function xyzFromArgb(argb: number): number[] {\n  const r = linearized(redFromArgb(argb));\n  const g = linearized(greenFromArgb(argb));\n  const b = linearized(blueFromArgb(argb));\n  return mathUtils.matrixMultiply([r, g, b], SRGB_TO_XYZ);\n}\n\n/**\n * Converts a color represented in Lab color space into an ARGB\n * integer.\n */\nexport function argbFromLab(l: number, a: number, b: number): number {\n  const whitePoint = WHITE_POINT_D65;\n  const fy = (l + 16.0) / 116.0;\n  const fx = a / 500.0 + fy;\n  const fz = fy - b / 200.0;\n  const xNormalized = labInvf(fx);\n  const yNormalized = labInvf(fy);\n  const zNormalized = labInvf(fz);\n  const x = xNormalized * whitePoint[0];\n  const y = yNormalized * whitePoint[1];\n  const z = zNormalized * whitePoint[2];\n  return argbFromXyz(x, y, z);\n}\n\n/**\n * Converts a color from ARGB representation to L*a*b*\n * representation.\n *\n * @param argb the ARGB representation of a color\n * @return a Lab object representing the color\n */\nexport function labFromArgb(argb: number): number[] {\n  const linearR = linearized(redFromArgb(argb));\n  const linearG = linearized(greenFromArgb(argb));\n  const linearB = linearized(blueFromArgb(argb));\n  const matrix = SRGB_TO_XYZ;\n  const x =\n      matrix[0][0] * linearR + matrix[0][1] * linearG + matrix[0][2] * linearB;\n  const y =\n      matrix[1][0] * linearR + matrix[1][1] * linearG + matrix[1][2] * linearB;\n  const z =\n      matrix[2][0] * linearR + matrix[2][1] * linearG + matrix[2][2] * linearB;\n  const whitePoint = WHITE_POINT_D65;\n  const xNormalized = x / whitePoint[0];\n  const yNormalized = y / whitePoint[1];\n  const zNormalized = z / whitePoint[2];\n  const fx = labF(xNormalized);\n  const fy = labF(yNormalized);\n  const fz = labF(zNormalized);\n  const l = 116.0 * fy - 16;\n  const a = 500.0 * (fx - fy);\n  const b = 200.0 * (fy - fz);\n  return [l, a, b];\n}\n\n/**\n * Converts an L* value to an ARGB representation.\n *\n * @param lstar L* in L*a*b*\n * @return ARGB representation of grayscale color with lightness\n * matching L*\n */\nexport function argbFromLstar(lstar: number): number {\n  const y = yFromLstar(lstar);\n  const component = delinearized(y);\n  return argbFromRgb(component, component, component);\n}\n\n/**\n * Computes the L* value of a color in ARGB representation.\n *\n * @param argb ARGB representation of a color\n * @return L*, from L*a*b*, coordinate of the color\n */\nexport function lstarFromArgb(argb: number): number {\n  const y = xyzFromArgb(argb)[1];\n  return 116.0 * labF(y / 100.0) - 16.0;\n}\n\n/**\n * Converts an L* value to a Y value.\n *\n * L* in L*a*b* and Y in XYZ measure the same quantity, luminance.\n *\n * L* measures perceptual luminance, a linear scale. Y in XYZ\n * measures relative luminance, a logarithmic scale.\n *\n * @param lstar L* in L*a*b*\n * @return Y in XYZ\n */\nexport function yFromLstar(lstar: number): number {\n  return 100.0 * labInvf((lstar + 16.0) / 116.0);\n}\n\n/**\n * Converts a Y value to an L* value.\n *\n * L* in L*a*b* and Y in XYZ measure the same quantity, luminance.\n *\n * L* measures perceptual luminance, a linear scale. Y in XYZ\n * measures relative luminance, a logarithmic scale.\n *\n * @param y Y in XYZ\n * @return L* in L*a*b*\n */\nexport function lstarFromY(y: number): number {\n  return labF(y / 100.0) * 116.0 - 16.0;\n}\n\n/**\n * Linearizes an RGB component.\n *\n * @param rgbComponent 0 <= rgb_component <= 255, represents R/G/B\n * channel\n * @return 0.0 <= output <= 100.0, color channel converted to\n * linear RGB space\n */\nexport function linearized(rgbComponent: number): number {\n  const normalized = rgbComponent / 255.0;\n  if (normalized <= 0.040449936) {\n    return normalized / 12.92 * 100.0;\n  } else {\n    return Math.pow((normalized + 0.055) / 1.055, 2.4) * 100.0;\n  }\n}\n\n/**\n * Delinearizes an RGB component.\n *\n * @param rgbComponent 0.0 <= rgb_component <= 100.0, represents\n * linear R/G/B channel\n * @return 0 <= output <= 255, color channel converted to regular\n * RGB space\n */\nexport function delinearized(rgbComponent: number): number {\n  const normalized = rgbComponent / 100.0;\n  let delinearized = 0.0;\n  if (normalized <= 0.0031308) {\n    delinearized = normalized * 12.92;\n  } else {\n    delinearized = 1.055 * Math.pow(normalized, 1.0 / 2.4) - 0.055;\n  }\n  return mathUtils.clampInt(0, 255, Math.round(delinearized * 255.0));\n}\n\n/**\n * Returns the standard white point; white on a sunny day.\n *\n * @return The white point\n */\nexport function whitePointD65(): number[] {\n  return WHITE_POINT_D65;\n}\n\n/**\n * RGBA component\n * \n * @param r Red value should be between 0-255\n * @param g Green value should be between 0-255\n * @param b Blue value should be between 0-255\n * @param a Alpha value should be between 0-255\n */\nexport interface Rgba {\n  r: number;\n  g: number;\n  b: number;\n  a: number;\n}\n\n/**\n * Return RGBA from a given int32 color\n *\n * @param argb ARGB representation of a int32 color.\n * @return RGBA representation of a int32 color.\n */\nexport function rgbaFromArgb(argb: number): Rgba {\n  const r = redFromArgb(argb);\n  const g = greenFromArgb(argb);\n  const b = blueFromArgb(argb);\n  const a = alphaFromArgb(argb);\n  return {r, g, b, a};\n}\n\n/**\n * Return int32 color from a given RGBA component\n * \n * @param rgba RGBA representation of a int32 color.\n * @returns ARGB representation of a int32 color.\n */\nexport function argbFromRgba({r, g, b, a}: Rgba): number {\n  const rValue = clampComponent(r);\n  const gValue = clampComponent(g);\n  const bValue = clampComponent(b);\n  const aValue = clampComponent(a);\n  return (aValue << 24) | (rValue << 16) | (gValue << 8) | bValue;\n}\n\nfunction clampComponent(value: number) {\n  if (value < 0) return 0;\n  if (value > 255) return 255;\n  return value\n}\n\nfunction labF(t: number): number {\n  const e = 216.0 / 24389.0;\n  const kappa = 24389.0 / 27.0;\n  if (t > e) {\n    return Math.pow(t, 1.0 / 3.0);\n  } else {\n    return (kappa * t + 16) / 116;\n  }\n}\n\nfunction labInvf(ft: number): number {\n  const e = 216.0 / 24389.0;\n  const kappa = 24389.0 / 27.0;\n  const ft3 = ft * ft * ft;\n  if (ft3 > e) {\n    return ft3;\n  } else {\n    return (116 * ft - 16) / kappa;\n  }\n}\n", "/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as utils from '../utils/color_utils.js';\nimport * as math from '../utils/math_utils.js';\n\n/**\n * In traditional color spaces, a color can be identified solely by the\n * observer's measurement of the color. Color appearance models such as CAM16\n * also use information about the environment where the color was\n * observed, known as the viewing conditions.\n *\n * For example, white under the traditional assumption of a midday sun white\n * point is accurately measured as a slightly chromatic blue by CAM16. (roughly,\n * hue 203, chroma 3, lightness 100)\n *\n * This class caches intermediate values of the CAM16 conversion process that\n * depend only on viewing conditions, enabling speed ups.\n */\nexport class ViewingConditions {\n  /** sRGB-like viewing conditions.  */\n  static DEFAULT = ViewingConditions.make();\n\n  /**\n   * Create ViewingConditions from a simple, physically relevant, set of\n   * parameters.\n   *\n   * @param whitePoint White point, measured in the XYZ color space.\n   *     default = D65, or sunny day afternoon\n   * @param adaptingLuminance The luminance of the adapting field. Informally,\n   *     how bright it is in the room where the color is viewed. Can be\n   *     calculated from lux by multiplying lux by 0.0586. default = 11.72,\n   *     or 200 lux.\n   * @param backgroundLstar The lightness of the area surrounding the color.\n   *     measured by L* in L*a*b*. default = 50.0\n   * @param surround A general description of the lighting surrounding the\n   *     color. 0 is pitch dark, like watching a movie in a theater. 1.0 is a\n   *     dimly light room, like watching TV at home at night. 2.0 means there\n   *     is no difference between the lighting on the color and around it.\n   *     default = 2.0\n   * @param discountingIlluminant Whether the eye accounts for the tint of the\n   *     ambient lighting, such as knowing an apple is still red in green light.\n   *     default = false, the eye does not perform this process on\n   *       self-luminous objects like displays.\n   */\n  static make(\n      whitePoint = utils.whitePointD65(),\n      adaptingLuminance = (200.0 / Math.PI) * utils.yFromLstar(50.0) / 100.0,\n      backgroundLstar = 50.0, surround = 2.0,\n      discountingIlluminant = false): ViewingConditions {\n    const xyz = whitePoint;\n    const rW = xyz[0] * 0.401288 + xyz[1] * 0.650173 + xyz[2] * -0.051461;\n    const gW = xyz[0] * -0.250268 + xyz[1] * 1.204414 + xyz[2] * 0.045854;\n    const bW = xyz[0] * -0.002079 + xyz[1] * 0.048952 + xyz[2] * 0.953127;\n    const f = 0.8 + surround / 10.0;\n    const c = f >= 0.9 ? math.lerp(0.59, 0.69, (f - 0.9) * 10.0) :\n                         math.lerp(0.525, 0.59, (f - 0.8) * 10.0);\n    let d = discountingIlluminant ?\n        1.0 :\n        f * (1.0 - (1.0 / 3.6) * Math.exp((-adaptingLuminance - 42.0) / 92.0));\n    d = d > 1.0 ? 1.0 : d < 0.0 ? 0.0 : d;\n    const nc = f;\n    const rgbD = [\n      d * (100.0 / rW) + 1.0 - d,\n      d * (100.0 / gW) + 1.0 - d,\n      d * (100.0 / bW) + 1.0 - d,\n    ];\n    const k = 1.0 / (5.0 * adaptingLuminance + 1.0);\n    const k4 = k * k * k * k;\n    const k4F = 1.0 - k4;\n    const fl = k4 * adaptingLuminance +\n        0.1 * k4F * k4F * Math.cbrt(5.0 * adaptingLuminance);\n    const n = utils.yFromLstar(backgroundLstar) / whitePoint[1];\n    const z = 1.48 + Math.sqrt(n);\n    const nbb = 0.725 / Math.pow(n, 0.2);\n    const ncb = nbb;\n    const rgbAFactors = [\n      Math.pow((fl * rgbD[0] * rW) / 100.0, 0.42),\n      Math.pow((fl * rgbD[1] * gW) / 100.0, 0.42),\n      Math.pow((fl * rgbD[2] * bW) / 100.0, 0.42),\n    ];\n    const rgbA = [\n      (400.0 * rgbAFactors[0]) / (rgbAFactors[0] + 27.13),\n      (400.0 * rgbAFactors[1]) / (rgbAFactors[1] + 27.13),\n      (400.0 * rgbAFactors[2]) / (rgbAFactors[2] + 27.13),\n    ];\n    const aw = (2.0 * rgbA[0] + rgbA[1] + 0.05 * rgbA[2]) * nbb;\n    return new ViewingConditions(\n        n, aw, nbb, ncb, c, nc, rgbD, fl, Math.pow(fl, 0.25), z);\n  }\n\n  /**\n   * Parameters are intermediate values of the CAM16 conversion process. Their\n   * names are shorthand for technical color science terminology, this class\n   * would not benefit from documenting them individually. A brief overview\n   * is available in the CAM16 specification, and a complete overview requires\n   * a color science textbook, such as Fairchild's Color Appearance Models.\n   */\n  private constructor(\n      public n: number, public aw: number, public nbb: number,\n      public ncb: number, public c: number, public nc: number,\n      public rgbD: number[], public fl: number, public fLRoot: number,\n      public z: number) {}\n}\n", "/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as utils from '../utils/color_utils.js';\nimport * as math from '../utils/math_utils.js';\n\nimport {ViewingConditions} from './viewing_conditions.js';\n\n/**\n * CAM16, a color appearance model. Colors are not just defined by their hex\n * code, but rather, a hex code and viewing conditions.\n *\n * CAM16 instances also have coordinates in the CAM16-UCS space, called J*, a*,\n * b*, or jstar, astar, bstar in code. CAM16-UCS is included in the CAM16\n * specification, and should be used when measuring distances between colors.\n *\n * In traditional color spaces, a color can be identified solely by the\n * observer's measurement of the color. Color appearance models such as CAM16\n * also use information about the environment where the color was\n * observed, known as the viewing conditions.\n *\n * For example, white under the traditional assumption of a midday sun white\n * point is accurately measured as a slightly chromatic blue by CAM16. (roughly,\n * hue 203, chroma 3, lightness 100)\n */\nexport class Cam16 {\n  /**\n   * All of the CAM16 dimensions can be calculated from 3 of the dimensions, in\n   * the following combinations:\n   *      -  {j or q} and {c, m, or s} and hue\n   *      - jstar, astar, bstar\n   * Prefer using a static method that constructs from 3 of those dimensions.\n   * This constructor is intended for those methods to use to return all\n   * possible dimensions.\n   *\n   * @param hue\n   * @param chroma informally, colorfulness / color intensity. like saturation\n   *     in HSL, except perceptually accurate.\n   * @param j lightness\n   * @param q brightness; ratio of lightness to white point's lightness\n   * @param m colorfulness\n   * @param s saturation; ratio of chroma to white point's chroma\n   * @param jstar CAM16-UCS J coordinate\n   * @param astar CAM16-UCS a coordinate\n   * @param bstar CAM16-UCS b coordinate\n   */\n  constructor(\n      readonly hue: number, readonly chroma: number, readonly j: number,\n      readonly q: number, readonly m: number, readonly s: number,\n      readonly jstar: number, readonly astar: number, readonly bstar: number) {}\n\n  /**\n   * CAM16 instances also have coordinates in the CAM16-UCS space, called J*,\n   * a*, b*, or jstar, astar, bstar in code. CAM16-UCS is included in the CAM16\n   * specification, and is used to measure distances between colors.\n   */\n  distance(other: Cam16): number {\n    const dJ = this.jstar - other.jstar;\n    const dA = this.astar - other.astar;\n    const dB = this.bstar - other.bstar;\n    const dEPrime = Math.sqrt(dJ * dJ + dA * dA + dB * dB);\n    const dE = 1.41 * Math.pow(dEPrime, 0.63);\n    return dE;\n  }\n\n  /**\n   * @param argb ARGB representation of a color.\n   * @return CAM16 color, assuming the color was viewed in default viewing\n   *     conditions.\n   */\n  static fromInt(argb: number): Cam16 {\n    return Cam16.fromIntInViewingConditions(argb, ViewingConditions.DEFAULT);\n  }\n\n  /**\n   * @param argb ARGB representation of a color.\n   * @param viewingConditions Information about the environment where the color\n   *     was observed.\n   * @return CAM16 color.\n   */\n  static fromIntInViewingConditions(\n      argb: number, viewingConditions: ViewingConditions): Cam16 {\n    const red = (argb & 0x00ff0000) >> 16;\n    const green = (argb & 0x0000ff00) >> 8;\n    const blue = (argb & 0x000000ff);\n    const redL = utils.linearized(red);\n    const greenL = utils.linearized(green);\n    const blueL = utils.linearized(blue);\n    const x = 0.41233895 * redL + 0.35762064 * greenL + 0.18051042 * blueL;\n    const y = 0.2126 * redL + 0.7152 * greenL + 0.0722 * blueL;\n    const z = 0.01932141 * redL + 0.11916382 * greenL + 0.95034478 * blueL;\n\n    const rC = 0.401288 * x + 0.650173 * y - 0.051461 * z;\n    const gC = -0.250268 * x + 1.204414 * y + 0.045854 * z;\n    const bC = -0.002079 * x + 0.048952 * y + 0.953127 * z;\n\n    const rD = viewingConditions.rgbD[0] * rC;\n    const gD = viewingConditions.rgbD[1] * gC;\n    const bD = viewingConditions.rgbD[2] * bC;\n\n    const rAF = Math.pow((viewingConditions.fl * Math.abs(rD)) / 100.0, 0.42);\n    const gAF = Math.pow((viewingConditions.fl * Math.abs(gD)) / 100.0, 0.42);\n    const bAF = Math.pow((viewingConditions.fl * Math.abs(bD)) / 100.0, 0.42);\n\n    const rA = (math.signum(rD) * 400.0 * rAF) / (rAF + 27.13);\n    const gA = (math.signum(gD) * 400.0 * gAF) / (gAF + 27.13);\n    const bA = (math.signum(bD) * 400.0 * bAF) / (bAF + 27.13);\n\n    const a = (11.0 * rA + -12.0 * gA + bA) / 11.0;\n    const b = (rA + gA - 2.0 * bA) / 9.0;\n    const u = (20.0 * rA + 20.0 * gA + 21.0 * bA) / 20.0;\n    const p2 = (40.0 * rA + 20.0 * gA + bA) / 20.0;\n    const atan2 = Math.atan2(b, a);\n    const atanDegrees = (atan2 * 180.0) / Math.PI;\n    const hue = atanDegrees < 0 ? atanDegrees + 360.0 :\n        atanDegrees >= 360      ? atanDegrees - 360.0 :\n                                  atanDegrees;\n    const hueRadians = (hue * Math.PI) / 180.0;\n\n    const ac = p2 * viewingConditions.nbb;\n    const j = 100.0 *\n        Math.pow(\n            ac / viewingConditions.aw,\n            viewingConditions.c * viewingConditions.z);\n    const q = (4.0 / viewingConditions.c) * Math.sqrt(j / 100.0) *\n        (viewingConditions.aw + 4.0) * viewingConditions.fLRoot;\n    const huePrime = hue < 20.14 ? hue + 360 : hue;\n    const eHue = 0.25 * (Math.cos((huePrime * Math.PI) / 180.0 + 2.0) + 3.8);\n    const p1 =\n        (50000.0 / 13.0) * eHue * viewingConditions.nc * viewingConditions.ncb;\n    const t = (p1 * Math.sqrt(a * a + b * b)) / (u + 0.305);\n    const alpha = Math.pow(t, 0.9) *\n        Math.pow(1.64 - Math.pow(0.29, viewingConditions.n), 0.73);\n    const c = alpha * Math.sqrt(j / 100.0);\n    const m = c * viewingConditions.fLRoot;\n    const s = 50.0 *\n        Math.sqrt((alpha * viewingConditions.c) / (viewingConditions.aw + 4.0));\n    const jstar = ((1.0 + 100.0 * 0.007) * j) / (1.0 + 0.007 * j);\n    const mstar = (1.0 / 0.0228) * Math.log(1.0 + 0.0228 * m);\n    const astar = mstar * Math.cos(hueRadians);\n    const bstar = mstar * Math.sin(hueRadians);\n\n    return new Cam16(hue, c, j, q, m, s, jstar, astar, bstar);\n  }\n\n  /**\n   * @param j CAM16 lightness\n   * @param c CAM16 chroma\n   * @param h CAM16 hue\n   */\n  static fromJch(j: number, c: number, h: number): Cam16 {\n    return Cam16.fromJchInViewingConditions(j, c, h, ViewingConditions.DEFAULT);\n  }\n\n  /**\n   * @param j CAM16 lightness\n   * @param c CAM16 chroma\n   * @param h CAM16 hue\n   * @param viewingConditions Information about the environment where the color\n   *     was observed.\n   */\n  static fromJchInViewingConditions(\n      j: number, c: number, h: number,\n      viewingConditions: ViewingConditions): Cam16 {\n    const q = (4.0 / viewingConditions.c) * Math.sqrt(j / 100.0) *\n        (viewingConditions.aw + 4.0) * viewingConditions.fLRoot;\n    const m = c * viewingConditions.fLRoot;\n    const alpha = c / Math.sqrt(j / 100.0);\n    const s = 50.0 *\n        Math.sqrt((alpha * viewingConditions.c) / (viewingConditions.aw + 4.0));\n    const hueRadians = (h * Math.PI) / 180.0;\n    const jstar = ((1.0 + 100.0 * 0.007) * j) / (1.0 + 0.007 * j);\n    const mstar = (1.0 / 0.0228) * Math.log(1.0 + 0.0228 * m);\n    const astar = mstar * Math.cos(hueRadians);\n    const bstar = mstar * Math.sin(hueRadians);\n    return new Cam16(h, c, j, q, m, s, jstar, astar, bstar);\n  }\n\n  /**\n   * @param jstar CAM16-UCS lightness.\n   * @param astar CAM16-UCS a dimension. Like a* in L*a*b*, it is a Cartesian\n   *     coordinate on the Y axis.\n   * @param bstar CAM16-UCS b dimension. Like a* in L*a*b*, it is a Cartesian\n   *     coordinate on the X axis.\n   */\n  static fromUcs(jstar: number, astar: number, bstar: number): Cam16 {\n    return Cam16.fromUcsInViewingConditions(\n        jstar, astar, bstar, ViewingConditions.DEFAULT);\n  }\n\n  /**\n   * @param jstar CAM16-UCS lightness.\n   * @param astar CAM16-UCS a dimension. Like a* in L*a*b*, it is a Cartesian\n   *     coordinate on the Y axis.\n   * @param bstar CAM16-UCS b dimension. Like a* in L*a*b*, it is a Cartesian\n   *     coordinate on the X axis.\n   * @param viewingConditions Information about the environment where the color\n   *     was observed.\n   */\n  static fromUcsInViewingConditions(\n      jstar: number, astar: number, bstar: number,\n      viewingConditions: ViewingConditions): Cam16 {\n    const a = astar;\n    const b = bstar;\n    const m = Math.sqrt(a * a + b * b);\n    const M = (Math.exp(m * 0.0228) - 1.0) / 0.0228;\n    const c = M / viewingConditions.fLRoot;\n    let h = Math.atan2(b, a) * (180.0 / Math.PI);\n    if (h < 0.0) {\n      h += 360.0;\n    }\n    const j = jstar / (1 - (jstar - 100) * 0.007);\n    return Cam16.fromJchInViewingConditions(j, c, h, viewingConditions);\n  }\n\n  /**\n   *  @return ARGB representation of color, assuming the color was viewed in\n   *     default viewing conditions, which are near-identical to the default\n   *     viewing conditions for sRGB.\n   */\n  toInt(): number {\n    return this.viewed(ViewingConditions.DEFAULT);\n  }\n\n  /**\n   * @param viewingConditions Information about the environment where the color\n   *     will be viewed.\n   * @return ARGB representation of color\n   */\n  viewed(viewingConditions: ViewingConditions): number {\n    const alpha = this.chroma === 0.0 || this.j === 0.0 ?\n        0.0 :\n        this.chroma / Math.sqrt(this.j / 100.0);\n\n    const t = Math.pow(\n        alpha / Math.pow(1.64 - Math.pow(0.29, viewingConditions.n), 0.73),\n        1.0 / 0.9);\n    const hRad = (this.hue * Math.PI) / 180.0;\n\n    const eHue = 0.25 * (Math.cos(hRad + 2.0) + 3.8);\n    const ac = viewingConditions.aw *\n        Math.pow(\n            this.j / 100.0, 1.0 / viewingConditions.c / viewingConditions.z);\n    const p1 =\n        eHue * (50000.0 / 13.0) * viewingConditions.nc * viewingConditions.ncb;\n    const p2 = ac / viewingConditions.nbb;\n\n    const hSin = Math.sin(hRad);\n    const hCos = Math.cos(hRad);\n\n    const gamma = (23.0 * (p2 + 0.305) * t) /\n        (23.0 * p1 + 11.0 * t * hCos + 108.0 * t * hSin);\n    const a = gamma * hCos;\n    const b = gamma * hSin;\n    const rA = (460.0 * p2 + 451.0 * a + 288.0 * b) / 1403.0;\n    const gA = (460.0 * p2 - 891.0 * a - 261.0 * b) / 1403.0;\n    const bA = (460.0 * p2 - 220.0 * a - 6300.0 * b) / 1403.0;\n\n    const rCBase = Math.max(0, (27.13 * Math.abs(rA)) / (400.0 - Math.abs(rA)));\n    const rC = math.signum(rA) * (100.0 / viewingConditions.fl) *\n        Math.pow(rCBase, 1.0 / 0.42);\n    const gCBase = Math.max(0, (27.13 * Math.abs(gA)) / (400.0 - Math.abs(gA)));\n    const gC = math.signum(gA) * (100.0 / viewingConditions.fl) *\n        Math.pow(gCBase, 1.0 / 0.42);\n    const bCBase = Math.max(0, (27.13 * Math.abs(bA)) / (400.0 - Math.abs(bA)));\n    const bC = math.signum(bA) * (100.0 / viewingConditions.fl) *\n        Math.pow(bCBase, 1.0 / 0.42);\n    const rF = rC / viewingConditions.rgbD[0];\n    const gF = gC / viewingConditions.rgbD[1];\n    const bF = bC / viewingConditions.rgbD[2];\n\n    const x = 1.86206786 * rF - 1.01125463 * gF + 0.14918677 * bF;\n    const y = 0.38752654 * rF + 0.62144744 * gF - 0.00897398 * bF;\n    const z = -0.01584150 * rF - 0.03412294 * gF + 1.04996444 * bF;\n\n    const argb = utils.argbFromXyz(x, y, z);\n    return argb;\n  }\n\n  /// Given color expressed in XYZ and viewed in [viewingConditions], convert to\n  /// CAM16.\n  static fromXyzInViewingConditions(\n      x: number, y: number, z: number,\n      viewingConditions: ViewingConditions): Cam16 {\n    // Transform XYZ to 'cone'/'rgb' responses\n\n    const rC = 0.401288 * x + 0.650173 * y - 0.051461 * z;\n    const gC = -0.250268 * x + 1.204414 * y + 0.045854 * z;\n    const bC = -0.002079 * x + 0.048952 * y + 0.953127 * z;\n\n    // Discount illuminant\n    const rD = viewingConditions.rgbD[0] * rC;\n    const gD = viewingConditions.rgbD[1] * gC;\n    const bD = viewingConditions.rgbD[2] * bC;\n\n    // chromatic adaptation\n    const rAF = Math.pow(viewingConditions.fl * Math.abs(rD) / 100.0, 0.42);\n    const gAF = Math.pow(viewingConditions.fl * Math.abs(gD) / 100.0, 0.42);\n    const bAF = Math.pow(viewingConditions.fl * Math.abs(bD) / 100.0, 0.42);\n    const rA = math.signum(rD) * 400.0 * rAF / (rAF + 27.13);\n    const gA = math.signum(gD) * 400.0 * gAF / (gAF + 27.13);\n    const bA = math.signum(bD) * 400.0 * bAF / (bAF + 27.13);\n\n    // redness-greenness\n    const a = (11.0 * rA + -12.0 * gA + bA) / 11.0;\n    // yellowness-blueness\n    const b = (rA + gA - 2.0 * bA) / 9.0;\n\n    // auxiliary components\n    const u = (20.0 * rA + 20.0 * gA + 21.0 * bA) / 20.0;\n    const p2 = (40.0 * rA + 20.0 * gA + bA) / 20.0;\n\n    // hue\n    const atan2 = Math.atan2(b, a);\n    const atanDegrees = atan2 * 180.0 / Math.PI;\n    const hue = atanDegrees < 0 ? atanDegrees + 360.0 :\n        atanDegrees >= 360      ? atanDegrees - 360 :\n                                  atanDegrees;\n    const hueRadians = hue * Math.PI / 180.0;\n\n    // achromatic response to color\n    const ac = p2 * viewingConditions.nbb;\n\n    // CAM16 lightness and brightness\n    const J = 100.0 *\n        Math.pow(\n            ac / viewingConditions.aw,\n            viewingConditions.c * viewingConditions.z);\n    const Q = (4.0 / viewingConditions.c) * Math.sqrt(J / 100.0) *\n        (viewingConditions.aw + 4.0) * (viewingConditions.fLRoot);\n\n    const huePrime = (hue < 20.14) ? hue + 360 : hue;\n    const eHue =\n        (1.0 / 4.0) * (Math.cos(huePrime * Math.PI / 180.0 + 2.0) + 3.8);\n    const p1 =\n        50000.0 / 13.0 * eHue * viewingConditions.nc * viewingConditions.ncb;\n    const t = p1 * Math.sqrt(a * a + b * b) / (u + 0.305);\n    const alpha = Math.pow(t, 0.9) *\n        Math.pow(1.64 - Math.pow(0.29, viewingConditions.n), 0.73);\n    // CAM16 chroma, colorfulness, chroma\n    const C = alpha * Math.sqrt(J / 100.0);\n    const M = C * viewingConditions.fLRoot;\n    const s = 50.0 *\n        Math.sqrt((alpha * viewingConditions.c) / (viewingConditions.aw + 4.0));\n\n    // CAM16-UCS components\n    const jstar = (1.0 + 100.0 * 0.007) * J / (1.0 + 0.007 * J);\n    const mstar = Math.log(1.0 + 0.0228 * M) / 0.0228;\n    const astar = mstar * Math.cos(hueRadians);\n    const bstar = mstar * Math.sin(hueRadians);\n    return new Cam16(hue, C, J, Q, M, s, jstar, astar, bstar);\n  }\n\n  /// XYZ representation of CAM16 seen in [viewingConditions].\n  xyzInViewingConditions(viewingConditions: ViewingConditions): number[] {\n    const alpha = (this.chroma === 0.0 || this.j === 0.0) ?\n        0.0 :\n        this.chroma / Math.sqrt(this.j / 100.0);\n\n    const t = Math.pow(\n        alpha / Math.pow(1.64 - Math.pow(0.29, viewingConditions.n), 0.73),\n        1.0 / 0.9);\n    const hRad = this.hue * Math.PI / 180.0;\n\n    const eHue = 0.25 * (Math.cos(hRad + 2.0) + 3.8);\n    const ac = viewingConditions.aw *\n        Math.pow(\n            this.j / 100.0, 1.0 / viewingConditions.c / viewingConditions.z);\n    const p1 =\n        eHue * (50000.0 / 13.0) * viewingConditions.nc * viewingConditions.ncb;\n\n    const p2 = (ac / viewingConditions.nbb);\n\n    const hSin = Math.sin(hRad);\n    const hCos = Math.cos(hRad);\n\n    const gamma = 23.0 * (p2 + 0.305) * t /\n        (23.0 * p1 + 11 * t * hCos + 108.0 * t * hSin);\n    const a = gamma * hCos;\n    const b = gamma * hSin;\n    const rA = (460.0 * p2 + 451.0 * a + 288.0 * b) / 1403.0;\n    const gA = (460.0 * p2 - 891.0 * a - 261.0 * b) / 1403.0;\n    const bA = (460.0 * p2 - 220.0 * a - 6300.0 * b) / 1403.0;\n\n    const rCBase = Math.max(0, (27.13 * Math.abs(rA)) / (400.0 - Math.abs(rA)));\n    const rC = math.signum(rA) * (100.0 / viewingConditions.fl) *\n        Math.pow(rCBase, 1.0 / 0.42);\n    const gCBase = Math.max(0, (27.13 * Math.abs(gA)) / (400.0 - Math.abs(gA)));\n    const gC = math.signum(gA) * (100.0 / viewingConditions.fl) *\n        Math.pow(gCBase, 1.0 / 0.42);\n    const bCBase = Math.max(0, (27.13 * Math.abs(bA)) / (400.0 - Math.abs(bA)));\n    const bC = math.signum(bA) * (100.0 / viewingConditions.fl) *\n        Math.pow(bCBase, 1.0 / 0.42);\n    const rF = rC / viewingConditions.rgbD[0];\n    const gF = gC / viewingConditions.rgbD[1];\n    const bF = bC / viewingConditions.rgbD[2];\n\n    const x = 1.86206786 * rF - 1.01125463 * gF + 0.14918677 * bF;\n    const y = 0.38752654 * rF + 0.62144744 * gF - 0.00897398 * bF;\n    const z = -0.01584150 * rF - 0.03412294 * gF + 1.04996444 * bF;\n\n    return [x, y, z];\n  }\n}\n", "/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// This file is automatically generated. Do not modify it.\n\nimport * as colorUtils from '../utils/color_utils.js';\nimport * as mathUtils from '../utils/math_utils.js';\n\nimport {Cam16} from './cam16.js';\nimport {ViewingConditions} from './viewing_conditions.js';\n\n\n// material_color_utilities is designed to have a consistent API across\n// platforms and modular components that can be moved around easily. Using a\n// class as a namespace facilitates this.\n//\n// tslint:disable:class-as-namespace\n/**\n * A class that solves the HCT equation.\n */\nexport class HctSolver {\n  static SCALED_DISCOUNT_FROM_LINRGB = [\n    [\n      0.001200833568784504,\n      0.002389694492170889,\n      0.0002795742885861124,\n    ],\n    [\n      0.0005891086651375999,\n      0.0029785502573438758,\n      0.0003270666104008398,\n    ],\n    [\n      0.00010146692491640572,\n      0.0005364214359186694,\n      0.0032979401770712076,\n    ],\n  ];\n\n  static LINRGB_FROM_SCALED_DISCOUNT = [\n    [\n      1373.2198709594231,\n      -1100.4251190754821,\n      -7.278681089101213,\n    ],\n    [\n      -271.815969077903,\n      559.6580465940733,\n      -32.46047482791194,\n    ],\n    [\n      1.9622899599665666,\n      -57.173814538844006,\n      308.7233197812385,\n    ],\n  ];\n\n  static Y_FROM_LINRGB = [0.2126, 0.7152, 0.0722];\n\n  static CRITICAL_PLANES = [\n    0.015176349177441876, 0.045529047532325624, 0.07588174588720938,\n    0.10623444424209313,  0.13658714259697685,  0.16693984095186062,\n    0.19729253930674434,  0.2276452376616281,   0.2579979360165119,\n    0.28835063437139563,  0.3188300904430532,   0.350925934958123,\n    0.3848314933096426,   0.42057480301049466,  0.458183274052838,\n    0.4976837250274023,   0.5391024159806381,   0.5824650784040898,\n    0.6277969426914107,   0.6751227633498623,   0.7244668422128921,\n    0.775853049866786,    0.829304845476233,    0.8848452951698498,\n    0.942497089126609,    1.0022825574869039,   1.0642236851973577,\n    1.1283421258858297,   1.1946592148522128,   1.2631959812511864,\n    1.3339731595349034,   1.407011200216447,    1.4823302800086415,\n    1.5599503113873272,   1.6398909516233677,   1.7221716113234105,\n    1.8068114625156377,   1.8938294463134073,   1.9832442801866852,\n    2.075074464868551,    2.1693382909216234,   2.2660538449872063,\n    2.36523901573795,     2.4669114995532007,   2.5710888059345764,\n    2.6777882626779785,   2.7870270208169257,   2.898822059350997,\n    3.0131901897720907,   3.1301480604002863,   3.2497121605402226,\n    3.3718988244681087,   3.4967242352587946,   3.624204428461639,\n    3.754355295633311,    3.887192587735158,    4.022731918402185,\n    4.160988767090289,    4.301978482107941,    4.445716283538092,\n    4.592217266055746,    4.741496401646282,    4.893568542229298,\n    5.048448422192488,    5.20615066083972,     5.3666897647573375,\n    5.5300801301023865,   5.696336044816294,    5.865471690767354,\n    6.037501145825082,    6.212438385869475,    6.390297286737924,\n    6.571091626112461,    6.7548350853498045,   6.941541251256611,\n    7.131223617812143,    7.323895587840543,    7.5195704746346665,\n    7.7182615035334345,   7.919981813454504,    8.124744458384042,\n    8.332562408825165,    8.543448553206703,    8.757415699253682,\n    8.974476575321063,    9.194643831691977,    9.417930041841839,\n    9.644347703669503,    9.873909240696694,    10.106627003236781,\n    10.342513269534024,   10.58158024687427,    10.8238400726681,\n    11.069304815507364,   11.317986476196008,   11.569896988756009,\n    11.825048221409341,   12.083451977536606,   12.345119996613247,\n    12.610063955123938,   12.878295467455942,   13.149826086772048,\n    13.42466730586372,    13.702830557985108,   13.984327217668513,\n    14.269168601521828,   14.55736596900856,    14.848930523210871,\n    15.143873411576273,   15.44220572664832,    15.743938506781891,\n    16.04908273684337,    16.35764934889634,    16.66964922287304,\n    16.985093187232053,   17.30399201960269,    17.62635644741625,\n    17.95219714852476,    18.281524751807332,   18.614349837764564,\n    18.95068293910138,    19.290534541298456,   19.633915083172692,\n    19.98083495742689,    20.331304511189067,   20.685334046541502,\n    21.042933821039977,   21.404114048223256,   21.76888489811322,\n    22.137256497705877,   22.50923893145328,    22.884842241736916,\n    23.264076429332462,   23.6469514538663,     24.033477234264016,\n    24.42366364919083,    24.817520537484558,   25.21505769858089,\n    25.61628489293138,    26.021211842414342,   26.429848230738664,\n    26.842203703840827,   27.258287870275353,   27.678110301598522,\n    28.10168053274597,    28.529008062403893,   28.96010235337422,\n    29.39497283293396,    29.83362889318845,    30.276079891419332,\n    30.722335150426627,   31.172403958865512,   31.62629557157785,\n    32.08401920991837,    32.54558406207592,    33.010999283389665,\n    33.4802739966603,     33.953417292456834,   34.430438229418264,\n    34.911345834551085,   35.39614910352207,    35.88485700094671,\n    36.37747846067349,    36.87402238606382,    37.37449765026789,\n    37.87891309649659,    38.38727753828926,    38.89959975977785,\n    39.41588851594697,    39.93615253289054,    40.460400508064545,\n    40.98864111053629,    41.520882981230194,   42.05713473317016,\n    42.597404951718396,   43.141702194811224,   43.6900349931913,\n    44.24241185063697,    44.798841244188324,   45.35933162437017,\n    45.92389141541209,    46.49252901546552,    47.065252796817916,\n    47.64207110610409,    48.22299226451468,    48.808024568002054,\n    49.3971762874833,     49.9904556690408,     50.587870934119984,\n    51.189430279724725,   51.79514187861014,    52.40501387947288,\n    53.0190544071392,     53.637271562750364,   54.259673423945976,\n    54.88626804504493,    55.517063457223934,   56.15206766869424,\n    56.79128866487574,    57.43473440856916,    58.08241284012621,\n    58.734331877617365,   59.39049941699807,    60.05092333227251,\n    60.715611475655585,   61.38457167773311,    62.057811747619894,\n    62.7353394731159,     63.417162620860914,   64.10328893648692,\n    64.79372614476921,    65.48848194977529,    66.18756403501224,\n    66.89098006357258,    67.59873767827808,    68.31084450182222,\n    69.02730813691093,    69.74813616640164,    70.47333615344107,\n    71.20291564160104,    71.93688215501312,    72.67524319850172,\n    73.41800625771542,    74.16517879925733,    74.9167682708136,\n    75.67278210128072,    76.43322770089146,    77.1981124613393,\n    77.96744375590167,    78.74122893956174,    79.51947534912904,\n    80.30219030335869,    81.08938110306934,    81.88105503125999,\n    82.67721935322541,    83.4778813166706,     84.28304815182372,\n    85.09272707154808,    85.90692527145302,    86.72564993000343,\n    87.54890820862819,    88.3767072518277,     89.2090541872801,\n    90.04595612594655,    90.88742016217518,    91.73345337380438,\n    92.58406282226491,    93.43925555268066,    94.29903859396902,\n    95.16341895893969,    96.03240364439274,    96.9059996312159,\n    97.78421388448044,    98.6670533535366,     99.55452497210776,\n  ];\n\n  /**\n   * Sanitizes a small enough angle in radians.\n   *\n   * @param angle An angle in radians; must not deviate too much\n   * from 0.\n   * @return A coterminal angle between 0 and 2pi.\n   */\n  private static sanitizeRadians(angle: number): number {\n    return (angle + Math.PI * 8) % (Math.PI * 2);\n  }\n\n  /**\n   * Delinearizes an RGB component, returning a floating-point\n   * number.\n   *\n   * @param rgbComponent 0.0 <= rgb_component <= 100.0, represents\n   * linear R/G/B channel\n   * @return 0.0 <= output <= 255.0, color channel converted to\n   * regular RGB space\n   */\n  private static trueDelinearized(rgbComponent: number): number {\n    const normalized = rgbComponent / 100.0;\n    let delinearized = 0.0;\n    if (normalized <= 0.0031308) {\n      delinearized = normalized * 12.92;\n    } else {\n      delinearized = 1.055 * Math.pow(normalized, 1.0 / 2.4) - 0.055;\n    }\n    return delinearized * 255.0;\n  }\n\n  private static chromaticAdaptation(component: number): number {\n    const af = Math.pow(Math.abs(component), 0.42);\n    return mathUtils.signum(component) * 400.0 * af / (af + 27.13);\n  }\n\n  /**\n   * Returns the hue of a linear RGB color in CAM16.\n   *\n   * @param linrgb The linear RGB coordinates of a color.\n   * @return The hue of the color in CAM16, in radians.\n   */\n  private static hueOf(linrgb: number[]): number {\n    const scaledDiscount =\n        mathUtils.matrixMultiply(linrgb, HctSolver.SCALED_DISCOUNT_FROM_LINRGB);\n    const rA = HctSolver.chromaticAdaptation(scaledDiscount[0]);\n    const gA = HctSolver.chromaticAdaptation(scaledDiscount[1]);\n    const bA = HctSolver.chromaticAdaptation(scaledDiscount[2]);\n    // redness-greenness\n    const a = (11.0 * rA + -12.0 * gA + bA) / 11.0;\n    // yellowness-blueness\n    const b = (rA + gA - 2.0 * bA) / 9.0;\n    return Math.atan2(b, a);\n  }\n\n  private static areInCyclicOrder(a: number, b: number, c: number): boolean {\n    const deltaAB = HctSolver.sanitizeRadians(b - a);\n    const deltaAC = HctSolver.sanitizeRadians(c - a);\n    return deltaAB < deltaAC;\n  }\n\n  /**\n   * Solves the lerp equation.\n   *\n   * @param source The starting number.\n   * @param mid The number in the middle.\n   * @param target The ending number.\n   * @return A number t such that lerp(source, target, t) = mid.\n   */\n  private static intercept(source: number, mid: number, target: number):\n      number {\n    return (mid - source) / (target - source);\n  }\n\n  private static lerpPoint(source: number[], t: number, target: number[]):\n      number[] {\n    return [\n      source[0] + (target[0] - source[0]) * t,\n      source[1] + (target[1] - source[1]) * t,\n      source[2] + (target[2] - source[2]) * t,\n    ];\n  }\n\n  /**\n   * Intersects a segment with a plane.\n   *\n   * @param source The coordinates of point A.\n   * @param coordinate The R-, G-, or B-coordinate of the plane.\n   * @param target The coordinates of point B.\n   * @param axis The axis the plane is perpendicular with. (0: R, 1:\n   * G, 2: B)\n   * @return The intersection point of the segment AB with the plane\n   * R=coordinate, G=coordinate, or B=coordinate\n   */\n  private static setCoordinate(\n      source: number[],\n      coordinate: number,\n      target: number[],\n      axis: number,\n      ): number[] {\n    const t = HctSolver.intercept(source[axis], coordinate, target[axis]);\n    return HctSolver.lerpPoint(source, t, target);\n  }\n\n  private static isBounded(x: number): boolean {\n    return 0.0 <= x && x <= 100.0;\n  }\n\n  /**\n   * Returns the nth possible vertex of the polygonal intersection.\n   *\n   * @param y The Y value of the plane.\n   * @param n The zero-based index of the point. 0 <= n <= 11.\n   * @return The nth possible vertex of the polygonal intersection\n   * of the y plane and the RGB cube, in linear RGB coordinates, if\n   * it exists. If this possible vertex lies outside of the cube,\n   * [-1.0, -1.0, -1.0] is returned.\n   */\n  private static nthVertex(y: number, n: number): number[] {\n    const kR = HctSolver.Y_FROM_LINRGB[0];\n    const kG = HctSolver.Y_FROM_LINRGB[1];\n    const kB = HctSolver.Y_FROM_LINRGB[2];\n    const coordA = n % 4 <= 1 ? 0.0 : 100.0;\n    const coordB = n % 2 === 0 ? 0.0 : 100.0;\n    if (n < 4) {\n      const g = coordA;\n      const b = coordB;\n      const r = (y - g * kG - b * kB) / kR;\n      if (HctSolver.isBounded(r)) {\n        return [r, g, b];\n      } else {\n        return [-1.0, -1.0, -1.0];\n      }\n    } else if (n < 8) {\n      const b = coordA;\n      const r = coordB;\n      const g = (y - r * kR - b * kB) / kG;\n      if (HctSolver.isBounded(g)) {\n        return [r, g, b];\n      } else {\n        return [-1.0, -1.0, -1.0];\n      }\n    } else {\n      const r = coordA;\n      const g = coordB;\n      const b = (y - r * kR - g * kG) / kB;\n      if (HctSolver.isBounded(b)) {\n        return [r, g, b];\n      } else {\n        return [-1.0, -1.0, -1.0];\n      }\n    }\n  }\n\n  /**\n   * Finds the segment containing the desired color.\n   *\n   * @param y The Y value of the color.\n   * @param targetHue The hue of the color.\n   * @return A list of two sets of linear RGB coordinates, each\n   * corresponding to an endpoint of the segment containing the\n   * desired color.\n   */\n  private static bisectToSegment(y: number, targetHue: number): number[][] {\n    let left = [-1.0, -1.0, -1.0];\n    let right = left;\n    let leftHue = 0.0;\n    let rightHue = 0.0;\n    let initialized = false;\n    let uncut = true;\n    for (let n = 0; n < 12; n++) {\n      const mid = HctSolver.nthVertex(y, n);\n      if (mid[0] < 0) {\n        continue;\n      }\n      const midHue = HctSolver.hueOf(mid);\n      if (!initialized) {\n        left = mid;\n        right = mid;\n        leftHue = midHue;\n        rightHue = midHue;\n        initialized = true;\n        continue;\n      }\n      if (uncut || HctSolver.areInCyclicOrder(leftHue, midHue, rightHue)) {\n        uncut = false;\n        if (HctSolver.areInCyclicOrder(leftHue, targetHue, midHue)) {\n          right = mid;\n          rightHue = midHue;\n        } else {\n          left = mid;\n          leftHue = midHue;\n        }\n      }\n    }\n    return [left, right];\n  }\n\n  private static midpoint(a: number[], b: number[]): number[] {\n    return [\n      (a[0] + b[0]) / 2,\n      (a[1] + b[1]) / 2,\n      (a[2] + b[2]) / 2,\n    ];\n  }\n\n  private static criticalPlaneBelow(x: number): number {\n    return Math.floor(x - 0.5);\n  }\n\n  private static criticalPlaneAbove(x: number): number {\n    return Math.ceil(x - 0.5);\n  }\n\n  /**\n   * Finds a color with the given Y and hue on the boundary of the\n   * cube.\n   *\n   * @param y The Y value of the color.\n   * @param targetHue The hue of the color.\n   * @return The desired color, in linear RGB coordinates.\n   */\n  private static bisectToLimit(y: number, targetHue: number): number[] {\n    const segment = HctSolver.bisectToSegment(y, targetHue);\n    let left = segment[0];\n    let leftHue = HctSolver.hueOf(left);\n    let right = segment[1];\n    for (let axis = 0; axis < 3; axis++) {\n      if (left[axis] !== right[axis]) {\n        let lPlane = -1;\n        let rPlane = 255;\n        if (left[axis] < right[axis]) {\n          lPlane = HctSolver.criticalPlaneBelow(\n              HctSolver.trueDelinearized(left[axis]));\n          rPlane = HctSolver.criticalPlaneAbove(\n              HctSolver.trueDelinearized(right[axis]));\n        } else {\n          lPlane = HctSolver.criticalPlaneAbove(\n              HctSolver.trueDelinearized(left[axis]));\n          rPlane = HctSolver.criticalPlaneBelow(\n              HctSolver.trueDelinearized(right[axis]));\n        }\n        for (let i = 0; i < 8; i++) {\n          if (Math.abs(rPlane - lPlane) <= 1) {\n            break;\n          } else {\n            const mPlane = Math.floor((lPlane + rPlane) / 2.0);\n            const midPlaneCoordinate = HctSolver.CRITICAL_PLANES[mPlane];\n            const mid =\n                HctSolver.setCoordinate(left, midPlaneCoordinate, right, axis);\n            const midHue = HctSolver.hueOf(mid);\n            if (HctSolver.areInCyclicOrder(leftHue, targetHue, midHue)) {\n              right = mid;\n              rPlane = mPlane;\n            } else {\n              left = mid;\n              leftHue = midHue;\n              lPlane = mPlane;\n            }\n          }\n        }\n      }\n    }\n    return HctSolver.midpoint(left, right);\n  }\n\n  private static inverseChromaticAdaptation(adapted: number): number {\n    const adaptedAbs = Math.abs(adapted);\n    const base = Math.max(0, 27.13 * adaptedAbs / (400.0 - adaptedAbs));\n    return mathUtils.signum(adapted) * Math.pow(base, 1.0 / 0.42);\n  }\n\n  /**\n   * Finds a color with the given hue, chroma, and Y.\n   *\n   * @param hueRadians The desired hue in radians.\n   * @param chroma The desired chroma.\n   * @param y The desired Y.\n   * @return The desired color as a hexadecimal integer, if found; 0\n   * otherwise.\n   */\n  private static findResultByJ(hueRadians: number, chroma: number, y: number):\n      number {\n    // Initial estimate of j.\n    let j = Math.sqrt(y) * 11.0;\n    // ===========================================================\n    // Operations inlined from Cam16 to avoid repeated calculation\n    // ===========================================================\n    const viewingConditions = ViewingConditions.DEFAULT;\n    const tInnerCoeff =\n        1 / Math.pow(1.64 - Math.pow(0.29, viewingConditions.n), 0.73);\n    const eHue = 0.25 * (Math.cos(hueRadians + 2.0) + 3.8);\n    const p1 =\n        eHue * (50000.0 / 13.0) * viewingConditions.nc * viewingConditions.ncb;\n    const hSin = Math.sin(hueRadians);\n    const hCos = Math.cos(hueRadians);\n    for (let iterationRound = 0; iterationRound < 5; iterationRound++) {\n      // ===========================================================\n      // Operations inlined from Cam16 to avoid repeated calculation\n      // ===========================================================\n      const jNormalized = j / 100.0;\n      const alpha =\n          chroma === 0.0 || j === 0.0 ? 0.0 : chroma / Math.sqrt(jNormalized);\n      const t = Math.pow(alpha * tInnerCoeff, 1.0 / 0.9);\n      const ac = viewingConditions.aw *\n          Math.pow(\n              jNormalized,\n              1.0 / viewingConditions.c / viewingConditions.z,\n          );\n      const p2 = ac / viewingConditions.nbb;\n      const gamma = 23.0 * (p2 + 0.305) * t /\n          (23.0 * p1 + 11 * t * hCos + 108.0 * t * hSin);\n      const a = gamma * hCos;\n      const b = gamma * hSin;\n      const rA = (460.0 * p2 + 451.0 * a + 288.0 * b) / 1403.0;\n      const gA = (460.0 * p2 - 891.0 * a - 261.0 * b) / 1403.0;\n      const bA = (460.0 * p2 - 220.0 * a - 6300.0 * b) / 1403.0;\n      const rCScaled = HctSolver.inverseChromaticAdaptation(rA);\n      const gCScaled = HctSolver.inverseChromaticAdaptation(gA);\n      const bCScaled = HctSolver.inverseChromaticAdaptation(bA);\n      const linrgb = mathUtils.matrixMultiply(\n          [rCScaled, gCScaled, bCScaled],\n          HctSolver.LINRGB_FROM_SCALED_DISCOUNT,\n      );\n      // ===========================================================\n      // Operations inlined from Cam16 to avoid repeated calculation\n      // ===========================================================\n      if (linrgb[0] < 0 || linrgb[1] < 0 || linrgb[2] < 0) {\n        return 0;\n      }\n      const kR = HctSolver.Y_FROM_LINRGB[0];\n      const kG = HctSolver.Y_FROM_LINRGB[1];\n      const kB = HctSolver.Y_FROM_LINRGB[2];\n      const fnj = kR * linrgb[0] + kG * linrgb[1] + kB * linrgb[2];\n      if (fnj <= 0) {\n        return 0;\n      }\n      if (iterationRound === 4 || Math.abs(fnj - y) < 0.002) {\n        if (linrgb[0] > 100.01 || linrgb[1] > 100.01 || linrgb[2] > 100.01) {\n          return 0;\n        }\n        return colorUtils.argbFromLinrgb(linrgb);\n      }\n      // Iterates with Newton method,\n      // Using 2 * fn(j) / j as the approximation of fn'(j)\n      j = j - (fnj - y) * j / (2 * fnj);\n    }\n    return 0;\n  }\n\n  /**\n   * Finds an sRGB color with the given hue, chroma, and L*, if\n   * possible.\n   *\n   * @param hueDegrees The desired hue, in degrees.\n   * @param chroma The desired chroma.\n   * @param lstar The desired L*.\n   * @return A hexadecimal representing the sRGB color. The color\n   * has sufficiently close hue, chroma, and L* to the desired\n   * values, if possible; otherwise, the hue and L* will be\n   * sufficiently close, and chroma will be maximized.\n   */\n  static solveToInt(hueDegrees: number, chroma: number, lstar: number): number {\n    if (chroma < 0.0001 || lstar < 0.0001 || lstar > 99.9999) {\n      return colorUtils.argbFromLstar(lstar);\n    }\n    hueDegrees = mathUtils.sanitizeDegreesDouble(hueDegrees);\n    const hueRadians = hueDegrees / 180 * Math.PI;\n    const y = colorUtils.yFromLstar(lstar);\n    const exactAnswer = HctSolver.findResultByJ(hueRadians, chroma, y);\n    if (exactAnswer !== 0) {\n      return exactAnswer;\n    }\n    const linrgb = HctSolver.bisectToLimit(y, hueRadians);\n    return colorUtils.argbFromLinrgb(linrgb);\n  }\n\n  /**\n   * Finds an sRGB color with the given hue, chroma, and L*, if\n   * possible.\n   *\n   * @param hueDegrees The desired hue, in degrees.\n   * @param chroma The desired chroma.\n   * @param lstar The desired L*.\n   * @return An CAM16 object representing the sRGB color. The color\n   * has sufficiently close hue, chroma, and L* to the desired\n   * values, if possible; otherwise, the hue and L* will be\n   * sufficiently close, and chroma will be maximized.\n   */\n  static solveToCam(hueDegrees: number, chroma: number, lstar: number): Cam16 {\n    return Cam16.fromInt(HctSolver.solveToInt(hueDegrees, chroma, lstar));\n  }\n}\n", "/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * A color system built using CAM16 hue and chroma, and L* from\n * L*a*b*.\n *\n * Using L* creates a link between the color system, contrast, and thus\n * accessibility. Contrast ratio depends on relative luminance, or Y in the XYZ\n * color space. L*, or perceptual luminance can be calculated from Y.\n *\n * Unlike Y, L* is linear to human perception, allowing trivial creation of\n * accurate color tones.\n *\n * Unlike contrast ratio, measuring contrast in L* is linear, and simple to\n * calculate. A difference of 40 in HCT tone guarantees a contrast ratio >= 3.0,\n * and a difference of 50 guarantees a contrast ratio >= 4.5.\n */\n\nimport * as utils from '../utils/color_utils.js';\n\nimport {Cam16} from './cam16.js';\nimport {HctSolver} from './hct_solver.js';\nimport {ViewingConditions} from './viewing_conditions.js';\n\n\n/**\n * HCT, hue, chroma, and tone. A color system that provides a perceptually\n * accurate color measurement system that can also accurately render what colors\n * will appear as in different lighting environments.\n */\nexport class Hct {\n  /**\n   * @param hue 0 <= hue < 360; invalid values are corrected.\n   * @param chroma 0 <= chroma < ?; Informally, colorfulness. The color\n   *     returned may be lower than the requested chroma. Chroma has a different\n   *     maximum for any given hue and tone.\n   * @param tone 0 <= tone <= 100; invalid values are corrected.\n   * @return HCT representation of a color in default viewing conditions.\n   */\n\n  internalHue: number;\n  internalChroma: number;\n  internalTone: number;\n\n  static from(hue: number, chroma: number, tone: number) {\n    return new Hct(HctSolver.solveToInt(hue, chroma, tone));\n  }\n\n  /**\n   * @param argb ARGB representation of a color.\n   * @return HCT representation of a color in default viewing conditions\n   */\n  static fromInt(argb: number) {\n    return new Hct(argb);\n  }\n\n  toInt(): number {\n    return this.argb;\n  }\n\n  /**\n   * A number, in degrees, representing ex. red, orange, yellow, etc.\n   * Ranges from 0 <= hue < 360.\n   */\n  get hue(): number {\n    return this.internalHue;\n  }\n\n  /**\n   * @param newHue 0 <= newHue < 360; invalid values are corrected.\n   * Chroma may decrease because chroma has a different maximum for any given\n   * hue and tone.\n   */\n  set hue(newHue: number) {\n    this.setInternalState(\n        HctSolver.solveToInt(\n            newHue,\n            this.internalChroma,\n            this.internalTone,\n            ),\n    );\n  }\n\n  get chroma(): number {\n    return this.internalChroma;\n  }\n\n  /**\n   * @param newChroma 0 <= newChroma < ?\n   * Chroma may decrease because chroma has a different maximum for any given\n   * hue and tone.\n   */\n  set chroma(newChroma: number) {\n    this.setInternalState(\n        HctSolver.solveToInt(\n            this.internalHue,\n            newChroma,\n            this.internalTone,\n            ),\n    );\n  }\n\n  /** Lightness. Ranges from 0 to 100. */\n  get tone(): number {\n    return this.internalTone;\n  }\n\n  /**\n   * @param newTone 0 <= newTone <= 100; invalid valids are corrected.\n   * Chroma may decrease because chroma has a different maximum for any given\n   * hue and tone.\n   */\n  set tone(newTone: number) {\n    this.setInternalState(\n        HctSolver.solveToInt(\n            this.internalHue,\n            this.internalChroma,\n            newTone,\n            ),\n    );\n  }\n\n  private constructor(private argb: number) {\n    const cam = Cam16.fromInt(argb);\n    this.internalHue = cam.hue;\n    this.internalChroma = cam.chroma;\n    this.internalTone = utils.lstarFromArgb(argb);\n    this.argb = argb;\n  }\n\n  private setInternalState(argb: number) {\n    const cam = Cam16.fromInt(argb);\n    this.internalHue = cam.hue;\n    this.internalChroma = cam.chroma;\n    this.internalTone = utils.lstarFromArgb(argb);\n    this.argb = argb;\n  }\n\n  /**\n   * Translates a color into different [ViewingConditions].\n   *\n   * Colors change appearance. They look different with lights on versus off,\n   * the same color, as in hex code, on white looks different when on black.\n   * This is called color relativity, most famously explicated by Josef Albers\n   * in Interaction of Color.\n   *\n   * In color science, color appearance models can account for this and\n   * calculate the appearance of a color in different settings. HCT is based on\n   * CAM16, a color appearance model, and uses it to make these calculations.\n   *\n   * See [ViewingConditions.make] for parameters affecting color appearance.\n   */\n  inViewingConditions(vc: ViewingConditions): Hct {\n    // 1. Use CAM16 to find XYZ coordinates of color in specified VC.\n    const cam = Cam16.fromInt(this.toInt());\n    const viewedInVc = cam.xyzInViewingConditions(vc);\n\n    // 2. Create CAM16 of those XYZ coordinates in default VC.\n    const recastInVc = Cam16.fromXyzInViewingConditions(\n        viewedInVc[0],\n        viewedInVc[1],\n        viewedInVc[2],\n        ViewingConditions.make(),\n    );\n\n    // 3. Create HCT from:\n    // - CAM16 using default VC with XYZ coordinates in specified VC.\n    // - L* converted from Y in XYZ coordinates in specified VC.\n    const recastHct = Hct.from(\n        recastInVc.hue,\n        recastInVc.chroma,\n        utils.lstarFromY(viewedInVc[1]),\n    );\n    return recastHct;\n  }\n}\n", "/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// material_color_utilities is designed to have a consistent API across\n// platforms and modular components that can be moved around easily. Using a\n// class as a namespace facilitates this.\n//\n// tslint:disable:class-as-namespace\n\nimport * as utils from '../utils/color_utils.js';\nimport * as math from '../utils/math_utils.js';\n\n/**\n * Utility methods for calculating contrast given two colors, or calculating a\n * color given one color and a contrast ratio.\n *\n * Contrast ratio is calculated using XYZ's Y. When linearized to match human\n * perception, Y becomes HCT's tone and L*a*b*'s' L*. Informally, this is the\n * lightness of a color.\n *\n * Methods refer to tone, T in the the HCT color space.\n * Tone is equivalent to L* in the L*a*b* color space, or L in the LCH color\n * space.\n */\nexport class Contrast {\n  /**\n   * Returns a contrast ratio, which ranges from 1 to 21.\n   *\n   * @param toneA Tone between 0 and 100. Values outside will be clamped.\n   * @param toneB Tone between 0 and 100. Values outside will be clamped.\n   */\n  static ratioOfTones(toneA: number, toneB: number): number {\n    toneA = math.clampDouble(0.0, 100.0, toneA);\n    toneB = math.clampDouble(0.0, 100.0, toneB);\n    return Contrast.ratioOfYs(utils.yFromLstar(toneA), utils.yFromLstar(toneB));\n  }\n\n  static ratioOfYs(y1: number, y2: number): number {\n    const lighter = y1 > y2 ? y1 : y2;\n    const darker = (lighter === y2) ? y1 : y2;\n    return (lighter + 5.0) / (darker + 5.0);\n  }\n\n  /**\n   * Returns a tone >= tone parameter that ensures ratio parameter.\n   * Return value is between 0 and 100.\n   * Returns -1 if ratio cannot be achieved with tone parameter.\n   *\n   * @param tone Tone return value must contrast with.\n   * Range is 0 to 100. Invalid values will result in -1 being returned.\n   * @param ratio Contrast ratio of return value and tone.\n   * Range is 1 to 21, invalid values have undefined behavior.\n   */\n  static lighter(tone: number, ratio: number): number {\n    if (tone < 0.0 || tone > 100.0) {\n      return -1.0;\n    }\n\n    const darkY = utils.yFromLstar(tone);\n    const lightY = ratio * (darkY + 5.0) - 5.0;\n    const realContrast = Contrast.ratioOfYs(lightY, darkY);\n    const delta = Math.abs(realContrast - ratio);\n    if (realContrast < ratio && delta > 0.04) {\n      return -1;\n    }\n\n    // Ensure gamut mapping, which requires a 'range' on tone, will still result\n    // the correct ratio by darkening slightly.\n    const returnValue = utils.lstarFromY(lightY) + 0.4;\n    if (returnValue < 0 || returnValue > 100) {\n      return -1;\n    }\n    return returnValue;\n  }\n\n  /**\n   * Returns a tone <= tone parameter that ensures ratio parameter.\n   * Return value is between 0 and 100.\n   * Returns -1 if ratio cannot be achieved with tone parameter.\n   *\n   * @param tone Tone return value must contrast with.\n   * Range is 0 to 100. Invalid values will result in -1 being returned.\n   * @param ratio Contrast ratio of return value and tone.\n   * Range is 1 to 21, invalid values have undefined behavior.\n   */\n  static darker(tone: number, ratio: number): number {\n    if (tone < 0.0 || tone > 100.0) {\n      return -1.0;\n    }\n\n    const lightY = utils.yFromLstar(tone);\n    const darkY = ((lightY + 5.0) / ratio) - 5.0;\n    const realContrast = Contrast.ratioOfYs(lightY, darkY);\n\n    const delta = Math.abs(realContrast - ratio);\n    if (realContrast < ratio && delta > 0.04) {\n      return -1;\n    }\n\n    // Ensure gamut mapping, which requires a 'range' on tone, will still result\n    // the correct ratio by darkening slightly.\n    const returnValue = utils.lstarFromY(darkY) - 0.4;\n    if (returnValue < 0 || returnValue > 100) {\n      return -1;\n    }\n    return returnValue;\n  }\n\n  /**\n   * Returns a tone >= tone parameter that ensures ratio parameter.\n   * Return value is between 0 and 100.\n   * Returns 100 if ratio cannot be achieved with tone parameter.\n   *\n   * This method is unsafe because the returned value is guaranteed to be in\n   * bounds for tone, i.e. between 0 and 100. However, that value may not reach\n   * the ratio with tone. For example, there is no color lighter than T100.\n   *\n   * @param tone Tone return value must contrast with.\n   * Range is 0 to 100. Invalid values will result in 100 being returned.\n   * @param ratio Desired contrast ratio of return value and tone parameter.\n   * Range is 1 to 21, invalid values have undefined behavior.\n   */\n  static lighterUnsafe(tone: number, ratio: number): number {\n    const lighterSafe = Contrast.lighter(tone, ratio);\n    return (lighterSafe < 0.0) ? 100.0 : lighterSafe;\n  }\n\n  /**\n   * Returns a tone >= tone parameter that ensures ratio parameter.\n   * Return value is between 0 and 100.\n   * Returns 100 if ratio cannot be achieved with tone parameter.\n   *\n   * This method is unsafe because the returned value is guaranteed to be in\n   * bounds for tone, i.e. between 0 and 100. However, that value may not reach\n   * the [ratio with [tone]. For example, there is no color darker than T0.\n   *\n   * @param tone Tone return value must contrast with.\n   * Range is 0 to 100. Invalid values will result in 0 being returned.\n   * @param ratio Desired contrast ratio of return value and tone parameter.\n   * Range is 1 to 21, invalid values have undefined behavior.\n   */\n  static darkerUnsafe(tone: number, ratio: number): number {\n    const darkerSafe = Contrast.darker(tone, ratio);\n    return (darkerSafe < 0.0) ? 0.0 : darkerSafe;\n  }\n}", "/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Hct} from '../hct/hct.js';\n\n// material_color_utilities is designed to have a consistent API across\n// platforms and modular components that can be moved around easily. Using a\n// class as a namespace facilitates this.\n//\n// tslint:disable:class-as-namespace\n\n/**\n * Check and/or fix universally disliked colors.\n * Color science studies of color preference indicate universal distaste for\n * dark yellow-greens, and also show this is correlated to distate for\n * biological waste and rotting food.\n *\n * See Palmer and Schloss, 2010 or Schloss and Palmer's Chapter 21 in Handbook\n * of Color Psychology (2015).\n */\nexport class DislikeAnalyzer {\n  /**\n   * Returns true if a color is disliked.\n   *\n   * @param hct A color to be judged.\n   * @return Whether the color is disliked.\n   *\n   * Disliked is defined as a dark yellow-green that is not neutral.\n   */\n  static isDisliked(hct: Hct): boolean {\n    const huePasses =\n        Math.round(hct.hue) >= 90.0 && Math.round(hct.hue) <= 111.0;\n    const chromaPasses = Math.round(hct.chroma) > 16.0;\n    const tonePasses = Math.round(hct.tone) < 65.0;\n\n    return huePasses && chromaPasses && tonePasses;\n  }\n\n  /**\n   * If a color is disliked, lighten it to make it likable.\n   *\n   * @param hct A color to be judged.\n   * @return A new color if the original color is disliked, or the original\n   *   color if it is acceptable.\n   */\n  static fixIfDisliked(hct: Hct): Hct {\n    if (DislikeAnalyzer.isDisliked(hct)) {\n      return Hct.from(\n          hct.hue,\n          hct.chroma,\n          70.0,\n      );\n    }\n\n    return hct;\n  }\n}\n", "/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Contrast} from '../contrast/contrast.js';\nimport {Hct} from '../hct/hct.js';\nimport {TonalPalette} from '../palettes/tonal_palette.js';\nimport * as math from '../utils/math_utils.js';\n\nimport {ContrastCurve} from './contrast_curve.js';\nimport {DynamicScheme} from './dynamic_scheme.js';\nimport {ToneDeltaPair} from './tone_delta_pair.js';\n\n/**\n * @param name The name of the dynamic color. Defaults to empty.\n * @param palette Function that provides a TonalPalette given\n * DynamicScheme. A TonalPalette is defined by a hue and chroma, so this\n * replaces the need to specify hue/chroma. By providing a tonal palette, when\n * contrast adjustments are made, intended chroma can be preserved.\n * @param tone Function that provides a tone given DynamicScheme.\n * @param isBackground Whether this dynamic color is a background, with\n * some other color as the foreground. Defaults to false.\n * @param background The background of the dynamic color (as a function of a\n *     `DynamicScheme`), if it exists.\n * @param secondBackground A second background of the dynamic color (as a\n *     function of a `DynamicScheme`), if it\n * exists.\n * @param contrastCurve A `ContrastCurve` object specifying how its contrast\n * against its background should behave in various contrast levels options.\n * @param toneDeltaPair A `ToneDeltaPair` object specifying a tone delta\n * constraint between two colors. One of them must be the color being\n * constructed.\n */\ninterface FromPaletteOptions {\n  name?: string;\n  palette: (scheme: DynamicScheme) => TonalPalette;\n  tone: (scheme: DynamicScheme) => number;\n  isBackground?: boolean;\n  background?: (scheme: DynamicScheme) => DynamicColor;\n  secondBackground?: (scheme: DynamicScheme) => DynamicColor;\n  contrastCurve?: ContrastCurve;\n  toneDeltaPair?: (scheme: DynamicScheme) => ToneDeltaPair;\n}\n\n/**\n * A color that adjusts itself based on UI state provided by DynamicScheme.\n *\n * Colors without backgrounds do not change tone when contrast changes. Colors\n * with backgrounds become closer to their background as contrast lowers, and\n * further when contrast increases.\n *\n * Prefer static constructors. They require either a hexcode, a palette and\n * tone, or a hue and chroma. Optionally, they can provide a background\n * DynamicColor.\n */\nexport class DynamicColor {\n  private readonly hctCache = new Map<DynamicScheme, Hct>();\n\n  /**\n   * Create a DynamicColor defined by a TonalPalette and HCT tone.\n   *\n   * @param args Functions with DynamicScheme as input. Must provide a palette\n   * and tone. May provide a background DynamicColor and ToneDeltaConstraint.\n   */\n  static fromPalette(args: FromPaletteOptions): DynamicColor {\n    return new DynamicColor(\n        args.name ?? '',\n        args.palette,\n        args.tone,\n        args.isBackground ?? false,\n        args.background,\n        args.secondBackground,\n        args.contrastCurve,\n        args.toneDeltaPair,\n    );\n  }\n\n  /**\n   * The base constructor for DynamicColor.\n   *\n   * _Strongly_ prefer using one of the convenience constructors. This class is\n   * arguably too flexible to ensure it can support any scenario. Functional\n   * arguments allow  overriding without risks that come with subclasses.\n   *\n   * For example, the default behavior of adjust tone at max contrast\n   * to be at a 7.0 ratio with its background is principled and\n   * matches accessibility guidance. That does not mean it's the desired\n   * approach for _every_ design system, and every color pairing,\n   * always, in every case.\n   *\n   * @param name The name of the dynamic color. Defaults to empty.\n   * @param palette Function that provides a TonalPalette given\n   * DynamicScheme. A TonalPalette is defined by a hue and chroma, so this\n   * replaces the need to specify hue/chroma. By providing a tonal palette, when\n   * contrast adjustments are made, intended chroma can be preserved.\n   * @param tone Function that provides a tone, given a DynamicScheme.\n   * @param isBackground Whether this dynamic color is a background, with\n   * some other color as the foreground. Defaults to false.\n   * @param background The background of the dynamic color (as a function of a\n   *     `DynamicScheme`), if it exists.\n   * @param secondBackground A second background of the dynamic color (as a\n   *     function of a `DynamicScheme`), if it\n   * exists.\n   * @param contrastCurve A `ContrastCurve` object specifying how its contrast\n   * against its background should behave in various contrast levels options.\n   * @param toneDeltaPair A `ToneDeltaPair` object specifying a tone delta\n   * constraint between two colors. One of them must be the color being\n   * constructed.\n   */\n  constructor(\n      readonly name: string,\n      readonly palette: (scheme: DynamicScheme) => TonalPalette,\n      readonly tone: (scheme: DynamicScheme) => number,\n      readonly isBackground: boolean,\n      readonly background?: (scheme: DynamicScheme) => DynamicColor,\n      readonly secondBackground?: (scheme: DynamicScheme) => DynamicColor,\n      readonly contrastCurve?: ContrastCurve,\n      readonly toneDeltaPair?: (scheme: DynamicScheme) => ToneDeltaPair,\n  ) {\n    if ((!background) && secondBackground) {\n      throw new Error(\n          `Color ${name} has secondBackground` +\n          `defined, but background is not defined.`);\n    }\n    if ((!background) && contrastCurve) {\n      throw new Error(\n          `Color ${name} has contrastCurve` +\n          `defined, but background is not defined.`);\n    }\n    if (background && !contrastCurve) {\n      throw new Error(\n          `Color ${name} has background` +\n          `defined, but contrastCurve is not defined.`);\n    }\n  }\n\n  /**\n   * Return a ARGB integer (i.e. a hex code).\n   *\n   * @param scheme Defines the conditions of the user interface, for example,\n   * whether or not it is dark mode or light mode, and what the desired\n   * contrast level is.\n   */\n  getArgb(scheme: DynamicScheme): number {\n    return this.getHct(scheme).toInt();\n  }\n\n  /**\n   * Return a color, expressed in the HCT color space, that this\n   * DynamicColor is under the conditions in scheme.\n   *\n   * @param scheme Defines the conditions of the user interface, for example,\n   * whether or not it is dark mode or light mode, and what the desired\n   * contrast level is.\n   */\n  getHct(scheme: DynamicScheme): Hct {\n    const cachedAnswer = this.hctCache.get(scheme);\n    if (cachedAnswer != null) {\n      return cachedAnswer;\n    }\n    const tone = this.getTone(scheme);\n    const answer = this.palette(scheme).getHct(tone);\n    if (this.hctCache.size > 4) {\n      this.hctCache.clear();\n    }\n    this.hctCache.set(scheme, answer);\n    return answer;\n  }\n\n  /**\n   * Return a tone, T in the HCT color space, that this DynamicColor is under\n   * the conditions in scheme.\n   *\n   * @param scheme Defines the conditions of the user interface, for example,\n   * whether or not it is dark mode or light mode, and what the desired\n   * contrast level is.\n   */\n  getTone(scheme: DynamicScheme): number {\n    const decreasingContrast = scheme.contrastLevel < 0;\n\n    // Case 1: dual foreground, pair of colors with delta constraint.\n    if (this.toneDeltaPair) {\n      const toneDeltaPair = this.toneDeltaPair(scheme);\n      const roleA = toneDeltaPair.roleA;\n      const roleB = toneDeltaPair.roleB;\n      const delta = toneDeltaPair.delta;\n      const polarity = toneDeltaPair.polarity;\n      const stayTogether = toneDeltaPair.stayTogether;\n\n      const bg = this.background!(scheme);\n      const bgTone = bg.getTone(scheme);\n\n      const aIsNearer =\n          (polarity === 'nearer' ||\n           (polarity === 'lighter' && !scheme.isDark) ||\n           (polarity === 'darker' && scheme.isDark));\n      const nearer = aIsNearer ? roleA : roleB;\n      const farther = aIsNearer ? roleB : roleA;\n      const amNearer = this.name === nearer.name;\n      const expansionDir = scheme.isDark ? 1 : -1;\n\n      // 1st round: solve to min, each\n      const nContrast = nearer.contrastCurve!.get(scheme.contrastLevel);\n      const fContrast = farther.contrastCurve!.get(scheme.contrastLevel);\n\n      // If a color is good enough, it is not adjusted.\n      // Initial and adjusted tones for `nearer`\n      const nInitialTone = nearer.tone(scheme);\n      let nTone = Contrast.ratioOfTones(bgTone, nInitialTone) >= nContrast ?\n          nInitialTone :\n          DynamicColor.foregroundTone(bgTone, nContrast);\n      // Initial and adjusted tones for `farther`\n      const fInitialTone = farther.tone(scheme);\n      let fTone = Contrast.ratioOfTones(bgTone, fInitialTone) >= fContrast ?\n          fInitialTone :\n          DynamicColor.foregroundTone(bgTone, fContrast);\n\n      if (decreasingContrast) {\n        // If decreasing contrast, adjust color to the \"bare minimum\"\n        // that satisfies contrast.\n        nTone = DynamicColor.foregroundTone(bgTone, nContrast);\n        fTone = DynamicColor.foregroundTone(bgTone, fContrast);\n      }\n\n      if ((fTone - nTone) * expansionDir >= delta) {\n        // Good! Tones satisfy the constraint; no change needed.\n      } else {\n        // 2nd round: expand farther to match delta.\n        fTone = math.clampDouble(0, 100, nTone + delta * expansionDir);\n        if ((fTone - nTone) * expansionDir >= delta) {\n          // Good! Tones now satisfy the constraint; no change needed.\n        } else {\n          // 3rd round: contract nearer to match delta.\n          nTone = math.clampDouble(0, 100, fTone - delta * expansionDir);\n        }\n      }\n\n      // Avoids the 50-59 awkward zone.\n      if (50 <= nTone && nTone < 60) {\n        // If `nearer` is in the awkward zone, move it away, together with\n        // `farther`.\n        if (expansionDir > 0) {\n          nTone = 60;\n          fTone = Math.max(fTone, nTone + delta * expansionDir);\n        } else {\n          nTone = 49;\n          fTone = Math.min(fTone, nTone + delta * expansionDir);\n        }\n      } else if (50 <= fTone && fTone < 60) {\n        if (stayTogether) {\n          // Fixes both, to avoid two colors on opposite sides of the \"awkward\n          // zone\".\n          if (expansionDir > 0) {\n            nTone = 60;\n            fTone = Math.max(fTone, nTone + delta * expansionDir);\n          } else {\n            nTone = 49;\n            fTone = Math.min(fTone, nTone + delta * expansionDir);\n          }\n        } else {\n          // Not required to stay together; fixes just one.\n          if (expansionDir > 0) {\n            fTone = 60;\n          } else {\n            fTone = 49;\n          }\n        }\n      }\n\n      // Returns `nTone` if this color is `nearer`, otherwise `fTone`.\n      return amNearer ? nTone : fTone;\n    }\n\n    else {\n      // Case 2: No contrast pair; just solve for itself.\n      let answer = this.tone(scheme);\n\n      if (this.background == null) {\n        return answer;  // No adjustment for colors with no background.\n      }\n\n      const bgTone = this.background(scheme).getTone(scheme);\n\n      const desiredRatio = this.contrastCurve!.get(scheme.contrastLevel);\n\n      if (Contrast.ratioOfTones(bgTone, answer) >= desiredRatio) {\n        // Don't \"improve\" what's good enough.\n      } else {\n        // Rough improvement.\n        answer = DynamicColor.foregroundTone(bgTone, desiredRatio);\n      }\n\n      if (decreasingContrast) {\n        answer = DynamicColor.foregroundTone(bgTone, desiredRatio);\n      }\n\n      if (this.isBackground && 50 <= answer && answer < 60) {\n        // Must adjust\n        if (Contrast.ratioOfTones(49, bgTone) >= desiredRatio) {\n          answer = 49;\n        } else {\n          answer = 60;\n        }\n      }\n\n      if (this.secondBackground) {\n        // Case 3: Adjust for dual backgrounds.\n\n        const [bg1, bg2] = [this.background, this.secondBackground];\n        const [bgTone1, bgTone2] =\n            [bg1(scheme).getTone(scheme), bg2(scheme).getTone(scheme)];\n        const [upper, lower] =\n            [Math.max(bgTone1, bgTone2), Math.min(bgTone1, bgTone2)];\n\n        if (Contrast.ratioOfTones(upper, answer) >= desiredRatio &&\n            Contrast.ratioOfTones(lower, answer) >= desiredRatio) {\n          return answer;\n        }\n\n        // The darkest light tone that satisfies the desired ratio,\n        // or -1 if such ratio cannot be reached.\n        const lightOption = Contrast.lighter(upper, desiredRatio);\n\n        // The lightest dark tone that satisfies the desired ratio,\n        // or -1 if such ratio cannot be reached.\n        const darkOption = Contrast.darker(lower, desiredRatio);\n\n        // Tones suitable for the foreground.\n        const availables = [];\n        if (lightOption !== -1) availables.push(lightOption);\n        if (darkOption !== -1) availables.push(darkOption);\n\n        const prefersLight = DynamicColor.tonePrefersLightForeground(bgTone1) ||\n            DynamicColor.tonePrefersLightForeground(bgTone2);\n        if (prefersLight) {\n          return (lightOption < 0) ? 100 : lightOption;\n        }\n        if (availables.length === 1) {\n          return availables[0];\n        }\n        return (darkOption < 0) ? 0 : darkOption;\n      }\n\n      return answer;\n    }\n  }\n\n  /**\n   * Given a background tone, find a foreground tone, while ensuring they reach\n   * a contrast ratio that is as close to [ratio] as possible.\n   *\n   * @param bgTone Tone in HCT. Range is 0 to 100, undefined behavior when it\n   *     falls outside that range.\n   * @param ratio The contrast ratio desired between bgTone and the return\n   *     value.\n   */\n  static foregroundTone(bgTone: number, ratio: number): number {\n    const lighterTone = Contrast.lighterUnsafe(bgTone, ratio);\n    const darkerTone = Contrast.darkerUnsafe(bgTone, ratio);\n    const lighterRatio = Contrast.ratioOfTones(lighterTone, bgTone);\n    const darkerRatio = Contrast.ratioOfTones(darkerTone, bgTone);\n    const preferLighter = DynamicColor.tonePrefersLightForeground(bgTone);\n\n    if (preferLighter) {\n      // This handles an edge case where the initial contrast ratio is high\n      // (ex. 13.0), and the ratio passed to the function is that high\n      // ratio, and both the lighter and darker ratio fails to pass that\n      // ratio.\n      //\n      // This was observed with Tonal Spot's On Primary Container turning\n      // black momentarily between high and max contrast in light mode. PC's\n      // standard tone was T90, OPC's was T10, it was light mode, and the\n      // contrast value was 0.6568521221032331.\n      const negligibleDifference = Math.abs(lighterRatio - darkerRatio) < 0.1 &&\n          lighterRatio < ratio && darkerRatio < ratio;\n      return lighterRatio >= ratio || lighterRatio >= darkerRatio ||\n              negligibleDifference ?\n          lighterTone :\n          darkerTone;\n    } else {\n      return darkerRatio >= ratio || darkerRatio >= lighterRatio ? darkerTone :\n                                                                   lighterTone;\n    }\n  }\n\n  /**\n   * Returns whether [tone] prefers a light foreground.\n   *\n   * People prefer white foregrounds on ~T60-70. Observed over time, and also\n   * by Andrew Somers during research for APCA.\n   *\n   * T60 used as to create the smallest discontinuity possible when skipping\n   * down to T49 in order to ensure light foregrounds.\n   * Since `tertiaryContainer` in dark monochrome scheme requires a tone of\n   * 60, it should not be adjusted. Therefore, 60 is excluded here.\n   */\n  static tonePrefersLightForeground(tone: number): boolean {\n    return Math.round(tone) < 60.0;\n  }\n\n  /**\n   * Returns whether [tone] can reach a contrast ratio of 4.5 with a lighter\n   * color.\n   */\n  static toneAllowsLightForeground(tone: number): boolean {\n    return Math.round(tone) <= 49.0;\n  }\n\n  /**\n   * Adjust a tone such that white has 4.5 contrast, if the tone is\n   * reasonably close to supporting it.\n   */\n  static enableLightForeground(tone: number): number {\n    if (DynamicColor.tonePrefersLightForeground(tone) &&\n        !DynamicColor.toneAllowsLightForeground(tone)) {\n      return 49.0;\n    }\n    return tone;\n  }\n}\n", "/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Hct} from '../hct/hct.js';\n\n/**\n *  A convenience class for retrieving colors that are constant in hue and\n *  chroma, but vary in tone.\n */\nexport class TonalPalette {\n  private readonly cache = new Map<number, number>();\n\n  /**\n   * @param argb ARGB representation of a color\n   * @return Tones matching that color's hue and chroma.\n   */\n  static fromInt(argb: number): TonalPalette {\n    const hct = Hct.fromInt(argb);\n    return TonalPalette.fromHct(hct);\n  }\n\n  /**\n   * @param hct Hct\n   * @return Tones matching that color's hue and chroma.\n   */\n  static fromHct(hct: Hct) {\n    return new TonalPalette(hct.hue, hct.chroma, hct);\n  }\n\n  /**\n   * @param hue HCT hue\n   * @param chroma HCT chroma\n   * @return Tones matching hue and chroma.\n   */\n  static fromHueAndChroma(hue: number, chroma: number): TonalPalette {\n    const keyColor = new KeyColor(hue, chroma).create();\n    return new TonalPalette(hue, chroma, keyColor);\n  }\n\n  private constructor(readonly hue: number, readonly chroma: number, readonly keyColor: Hct) {}\n\n  /**\n   * @param tone HCT tone, measured from 0 to 100.\n   * @return ARGB representation of a color with that tone.\n   */\n  tone(tone: number): number {\n    let argb = this.cache.get(tone);\n    if (argb === undefined) {\n      argb = Hct.from(this.hue, this.chroma, tone).toInt();\n      this.cache.set(tone, argb);\n    }\n    return argb;\n  }\n\n  /**\n   * @param tone HCT tone.\n   * @return HCT representation of a color with that tone.\n   */\n  getHct(tone: number): Hct {\n    return Hct.fromInt(this.tone(tone));\n  }\n}\n\n/**\n * Key color is a color that represents the hue and chroma of a tonal palette\n */\nclass KeyColor {\n  // Cache that maps tone to max chroma to avoid duplicated HCT calculation.\n  private readonly chromaCache = new Map<number, number>();\n  private readonly maxChromaValue = 200.0;\n\n  constructor(readonly hue: number, readonly requestedChroma: number) {}\n\n  /**\n   * Creates a key color from a [hue] and a [chroma].\n   * The key color is the first tone, starting from T50, matching the given hue\n   * and chroma.\n   *\n   * @return Key color [Hct]\n   */\n  create(): Hct {\n    // Pivot around T50 because T50 has the most chroma available, on\n    // average. Thus it is most likely to have a direct answer.\n    const pivotTone = 50;\n    const toneStepSize = 1;\n    // Epsilon to accept values slightly higher than the requested chroma.\n    const epsilon = 0.01;\n\n    // Binary search to find the tone that can provide a chroma that is closest\n    // to the requested chroma.\n    let lowerTone = 0;\n    let upperTone = 100;\n    while (lowerTone < upperTone) {\n      const midTone = Math.floor((lowerTone + upperTone) / 2);\n      const isAscending =\n          this.maxChroma(midTone) < this.maxChroma(midTone + toneStepSize);\n      const sufficientChroma =\n          this.maxChroma(midTone) >= this.requestedChroma - epsilon;\n\n      if (sufficientChroma) {\n        // Either range [lowerTone, midTone] or [midTone, upperTone] has\n        // the answer, so search in the range that is closer the pivot tone.\n        if (Math.abs(lowerTone - pivotTone) < Math.abs(upperTone - pivotTone)) {\n          upperTone = midTone;\n        } else {\n          if (lowerTone === midTone) {\n            return Hct.from(this.hue, this.requestedChroma, lowerTone);\n          }\n          lowerTone = midTone;\n        }\n      } else {\n        // As there is no sufficient chroma in the midTone, follow the direction\n        // to the chroma peak.\n        if (isAscending) {\n          lowerTone = midTone + toneStepSize;\n        } else {\n          // Keep midTone for potential chroma peak.\n          upperTone = midTone;\n        }\n      }\n    }\n\n    return Hct.from(this.hue, this.requestedChroma, lowerTone);\n  }\n\n  // Find the maximum chroma for a given tone\n  private maxChroma(tone: number): number {\n    if (this.chromaCache.has(tone)) {\n      return this.chromaCache.get(tone)!;\n    }\n    const chroma = Hct.from(this.hue, this.maxChromaValue, tone).chroma;\n    this.chromaCache.set(tone, chroma);\n    return chroma;\n  }\n}\n", "/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as math from '../utils/math_utils.js';\n\n/**\n * A class containing a value that changes with the contrast level.\n *\n * Usually represents the contrast requirements for a dynamic color on its\n * background. The four values correspond to values for contrast levels -1.0,\n * 0.0, 0.5, and 1.0, respectively.\n */\nexport class ContrastCurve {\n  /**\n   * Creates a `ContrastCurve` object.\n   *\n   * @param low Value for contrast level -1.0\n   * @param normal Value for contrast level 0.0\n   * @param medium Value for contrast level 0.5\n   * @param high Value for contrast level 1.0\n   */\n  constructor(\n      readonly low: number,\n      readonly normal: number,\n      readonly medium: number,\n      readonly high: number,\n  ) {}\n\n  /**\n   * Returns the value at a given contrast level.\n   *\n   * @param contrastLevel The contrast level. 0.0 is the default (normal); -1.0\n   *     is the lowest; 1.0 is the highest.\n   * @return The value. For contrast ratios, a number between 1.0 and 21.0.\n   */\n  get(contrastLevel: number): number {\n    if (contrastLevel <= -1.0) {\n      return this.low;\n    } else if (contrastLevel < 0.0) {\n      return math.lerp(this.low, this.normal, (contrastLevel - (-1)) / 1);\n    } else if (contrastLevel < 0.5) {\n      return math.lerp(this.normal, this.medium, (contrastLevel - 0) / 0.5);\n    } else if (contrastLevel < 1.0) {\n      return math.lerp(this.medium, this.high, (contrastLevel - 0.5) / 0.5);\n    } else {\n      return this.high;\n    }\n  }\n}\n", "/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {DynamicColor} from './dynamic_color.js';\n\n/**\n * Describes the different in tone between colors.\n */\nexport type TonePolarity = 'darker'|'lighter'|'nearer'|'farther';\n\n/**\n * Documents a constraint between two DynamicColors, in which their tones must\n * have a certain distance from each other.\n *\n * Prefer a DynamicColor with a background, this is for special cases when\n * designers want tonal distance, literally contrast, between two colors that\n * don't have a background / foreground relationship or a contrast guarantee.\n */\nexport class ToneDeltaPair {\n  /**\n   * Documents a constraint in tone distance between two DynamicColors.\n   *\n   * The polarity is an adjective that describes \"A\", compared to \"B\".\n   *\n   * For instance, ToneDeltaPair(A, B, 15, 'darker', stayTogether) states that\n   * A's tone should be at least 15 darker than B's.\n   *\n   * 'nearer' and 'farther' describes closeness to the surface roles. For\n   * instance, ToneDeltaPair(A, B, 10, 'nearer', stayTogether) states that A\n   * should be 10 lighter than B in light mode, and 10 darker than B in dark\n   * mode.\n   *\n   * @param roleA The first role in a pair.\n   * @param roleB The second role in a pair.\n   * @param delta Required difference between tones. Absolute value, negative\n   * values have undefined behavior.\n   * @param polarity The relative relation between tones of roleA and roleB,\n   * as described above.\n   * @param stayTogether Whether these two roles should stay on the same side of\n   * the \"awkward zone\" (T50-59). This is necessary for certain cases where\n   * one role has two backgrounds.\n   */\n  constructor(\n      readonly roleA: DynamicColor,\n      readonly roleB: DynamicColor,\n      readonly delta: number,\n      readonly polarity: TonePolarity,\n      readonly stayTogether: boolean,\n  ) {}\n}\n", "/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Set of themes supported by Dynamic Color.\n * Instantiate the corresponding subclass, ex. SchemeTonalSpot, to create\n * colors corresponding to the theme.\n */\nexport enum Variant {\n  MONOCHROME,\n  NEUTRAL,\n  TONAL_SPOT,\n  VIBRANT,\n  EXPRESSIVE,\n  FIDELITY,\n  CONTENT,\n  RAINBOW,\n  FRUIT_SALAD\n}\n", "/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {DislikeAnalyzer} from '../dislike/dislike_analyzer.js';\nimport {Hct} from '../hct/hct.js';\n\nimport {ContrastCurve} from './contrast_curve.js';\nimport {DynamicColor} from './dynamic_color.js';\nimport {DynamicScheme} from './dynamic_scheme.js';\nimport {ToneDeltaPair} from './tone_delta_pair.js';\nimport {Variant} from './variant.js';\n\nfunction isFidelity(scheme: DynamicScheme): boolean {\n  return scheme.variant === Variant.FIDELITY ||\n      scheme.variant === Variant.CONTENT;\n}\n\nfunction isMonochrome(scheme: DynamicScheme): boolean {\n  return scheme.variant === Variant.MONOCHROME;\n}\n\nfunction findDesiredChromaByTone(\n    hue: number, chroma: number, tone: number,\n    byDecreasingTone: boolean): number {\n  let answer = tone;\n\n  let closestToChroma = Hct.from(hue, chroma, tone);\n  if (closestToChroma.chroma < chroma) {\n    let chromaPeak = closestToChroma.chroma;\n    while (closestToChroma.chroma < chroma) {\n      answer += byDecreasingTone ? -1.0 : 1.0;\n      const potentialSolution = Hct.from(hue, chroma, answer);\n      if (chromaPeak > potentialSolution.chroma) {\n        break;\n      }\n      if (Math.abs(potentialSolution.chroma - chroma) < 0.4) {\n        break;\n      }\n\n      const potentialDelta = Math.abs(potentialSolution.chroma - chroma);\n      const currentDelta = Math.abs(closestToChroma.chroma - chroma);\n      if (potentialDelta < currentDelta) {\n        closestToChroma = potentialSolution;\n      }\n      chromaPeak = Math.max(chromaPeak, potentialSolution.chroma);\n    }\n  }\n\n  return answer;\n}\n\n/**\n * DynamicColors for the colors in the Material Design system.\n */\n// Material Color Utilities namespaces the various utilities it provides.\n// tslint:disable-next-line:class-as-namespace\nexport class MaterialDynamicColors {\n  static contentAccentToneDelta = 15.0;\n  static highestSurface(s: DynamicScheme): DynamicColor {\n    return s.isDark ? MaterialDynamicColors.surfaceBright :\n                      MaterialDynamicColors.surfaceDim;\n  }\n\n  static primaryPaletteKeyColor = DynamicColor.fromPalette({\n    name: 'primary_palette_key_color',\n    palette: (s) => s.primaryPalette,\n    tone: (s) => s.primaryPalette.keyColor.tone,\n  });\n\n  static secondaryPaletteKeyColor = DynamicColor.fromPalette({\n    name: 'secondary_palette_key_color',\n    palette: (s) => s.secondaryPalette,\n    tone: (s) => s.secondaryPalette.keyColor.tone,\n  });\n\n  static tertiaryPaletteKeyColor = DynamicColor.fromPalette({\n    name: 'tertiary_palette_key_color',\n    palette: (s) => s.tertiaryPalette,\n    tone: (s) => s.tertiaryPalette.keyColor.tone,\n  });\n\n  static neutralPaletteKeyColor = DynamicColor.fromPalette({\n    name: 'neutral_palette_key_color',\n    palette: (s) => s.neutralPalette,\n    tone: (s) => s.neutralPalette.keyColor.tone,\n  });\n\n  static neutralVariantPaletteKeyColor = DynamicColor.fromPalette({\n    name: 'neutral_variant_palette_key_color',\n    palette: (s) => s.neutralVariantPalette,\n    tone: (s) => s.neutralVariantPalette.keyColor.tone,\n  });\n\n  static background = DynamicColor.fromPalette({\n    name: 'background',\n    palette: (s) => s.neutralPalette,\n    tone: (s) => s.isDark ? 6 : 98,\n    isBackground: true,\n  });\n\n  static onBackground = DynamicColor.fromPalette({\n    name: 'on_background',\n    palette: (s) => s.neutralPalette,\n    tone: (s) => s.isDark ? 90 : 10,\n    background: (s) => MaterialDynamicColors.background,\n    contrastCurve: new ContrastCurve(3, 3, 4.5, 7),\n  });\n\n  static surface = DynamicColor.fromPalette({\n    name: 'surface',\n    palette: (s) => s.neutralPalette,\n    tone: (s) => s.isDark ? 6 : 98,\n    isBackground: true,\n  });\n\n  static surfaceDim = DynamicColor.fromPalette({\n    name: 'surface_dim',\n    palette: (s) => s.neutralPalette,\n    tone: (s) =>\n        s.isDark ? 6 : new ContrastCurve(87, 87, 80, 75).get(s.contrastLevel),\n    isBackground: true,\n  });\n\n  static surfaceBright = DynamicColor.fromPalette({\n    name: 'surface_bright',\n    palette: (s) => s.neutralPalette,\n    tone: (s) =>\n        s.isDark ? new ContrastCurve(24, 24, 29, 34).get(s.contrastLevel) : 98,\n    isBackground: true,\n  });\n\n  static surfaceContainerLowest = DynamicColor.fromPalette({\n    name: 'surface_container_lowest',\n    palette: (s) => s.neutralPalette,\n    tone: (s) =>\n        s.isDark ? new ContrastCurve(4, 4, 2, 0).get(s.contrastLevel) : 100,\n    isBackground: true,\n  });\n\n  static surfaceContainerLow = DynamicColor.fromPalette({\n    name: 'surface_container_low',\n    palette: (s) => s.neutralPalette,\n    tone: (s) => s.isDark ?\n        new ContrastCurve(10, 10, 11, 12).get(s.contrastLevel) :\n        new ContrastCurve(96, 96, 96, 95).get(s.contrastLevel),\n    isBackground: true,\n  });\n\n  static surfaceContainer = DynamicColor.fromPalette({\n    name: 'surface_container',\n    palette: (s) => s.neutralPalette,\n    tone: (s) => s.isDark ?\n        new ContrastCurve(12, 12, 16, 20).get(s.contrastLevel) :\n        new ContrastCurve(94, 94, 92, 90).get(s.contrastLevel),\n    isBackground: true,\n  });\n\n  static surfaceContainerHigh = DynamicColor.fromPalette({\n    name: 'surface_container_high',\n    palette: (s) => s.neutralPalette,\n    tone: (s) => s.isDark ?\n        new ContrastCurve(17, 17, 21, 25).get(s.contrastLevel) :\n        new ContrastCurve(92, 92, 88, 85).get(s.contrastLevel),\n    isBackground: true,\n  });\n\n  static surfaceContainerHighest = DynamicColor.fromPalette({\n    name: 'surface_container_highest',\n    palette: (s) => s.neutralPalette,\n    tone: (s) => s.isDark ?\n        new ContrastCurve(22, 22, 26, 30).get(s.contrastLevel) :\n        new ContrastCurve(90, 90, 84, 80).get(s.contrastLevel),\n    isBackground: true,\n  });\n\n  static onSurface = DynamicColor.fromPalette({\n    name: 'on_surface',\n    palette: (s) => s.neutralPalette,\n    tone: (s) => s.isDark ? 90 : 10,\n    background: (s) => MaterialDynamicColors.highestSurface(s),\n    contrastCurve: new ContrastCurve(4.5, 7, 11, 21),\n  });\n\n  static surfaceVariant = DynamicColor.fromPalette({\n    name: 'surface_variant',\n    palette: (s) => s.neutralVariantPalette,\n    tone: (s) => s.isDark ? 30 : 90,\n    isBackground: true,\n  });\n\n  static onSurfaceVariant = DynamicColor.fromPalette({\n    name: 'on_surface_variant',\n    palette: (s) => s.neutralVariantPalette,\n    tone: (s) => s.isDark ? 80 : 30,\n    background: (s) => MaterialDynamicColors.highestSurface(s),\n    contrastCurve: new ContrastCurve(3, 4.5, 7, 11),\n  });\n\n  static inverseSurface = DynamicColor.fromPalette({\n    name: 'inverse_surface',\n    palette: (s) => s.neutralPalette,\n    tone: (s) => s.isDark ? 90 : 20,\n  });\n\n  static inverseOnSurface = DynamicColor.fromPalette({\n    name: 'inverse_on_surface',\n    palette: (s) => s.neutralPalette,\n    tone: (s) => s.isDark ? 20 : 95,\n    background: (s) => MaterialDynamicColors.inverseSurface,\n    contrastCurve: new ContrastCurve(4.5, 7, 11, 21),\n  });\n\n  static outline = DynamicColor.fromPalette({\n    name: 'outline',\n    palette: (s) => s.neutralVariantPalette,\n    tone: (s) => s.isDark ? 60 : 50,\n    background: (s) => MaterialDynamicColors.highestSurface(s),\n    contrastCurve: new ContrastCurve(1.5, 3, 4.5, 7),\n  });\n\n  static outlineVariant = DynamicColor.fromPalette({\n    name: 'outline_variant',\n    palette: (s) => s.neutralVariantPalette,\n    tone: (s) => s.isDark ? 30 : 80,\n    background: (s) => MaterialDynamicColors.highestSurface(s),\n    contrastCurve: new ContrastCurve(1, 1, 3, 4.5),\n  });\n\n  static shadow = DynamicColor.fromPalette({\n    name: 'shadow',\n    palette: (s) => s.neutralPalette,\n    tone: (s) => 0,\n  });\n\n  static scrim = DynamicColor.fromPalette({\n    name: 'scrim',\n    palette: (s) => s.neutralPalette,\n    tone: (s) => 0,\n  });\n\n  static surfaceTint = DynamicColor.fromPalette({\n    name: 'surface_tint',\n    palette: (s) => s.primaryPalette,\n    tone: (s) => s.isDark ? 80 : 40,\n    isBackground: true,\n  });\n\n  static primary = DynamicColor.fromPalette({\n    name: 'primary',\n    palette: (s) => s.primaryPalette,\n    tone:\n        (s) => {\n          if (isMonochrome(s)) {\n            return s.isDark ? 100 : 0;\n          }\n          return s.isDark ? 80 : 40;\n        },\n    isBackground: true,\n    background: (s) => MaterialDynamicColors.highestSurface(s),\n    contrastCurve: new ContrastCurve(3, 4.5, 7, 7),\n    toneDeltaPair: (s) => new ToneDeltaPair(\n        MaterialDynamicColors.primaryContainer, MaterialDynamicColors.primary,\n        10, 'nearer', false),\n  });\n\n  static onPrimary = DynamicColor.fromPalette({\n    name: 'on_primary',\n    palette: (s) => s.primaryPalette,\n    tone:\n        (s) => {\n          if (isMonochrome(s)) {\n            return s.isDark ? 10 : 90;\n          }\n          return s.isDark ? 20 : 100;\n        },\n    background: (s) => MaterialDynamicColors.primary,\n    contrastCurve: new ContrastCurve(4.5, 7, 11, 21),\n  });\n\n  static primaryContainer = DynamicColor.fromPalette({\n    name: 'primary_container',\n    palette: (s) => s.primaryPalette,\n    tone:\n        (s) => {\n          if (isFidelity(s)) {\n            return s.sourceColorHct.tone;\n          }\n          if (isMonochrome(s)) {\n            return s.isDark ? 85 : 25;\n          }\n          return s.isDark ? 30 : 90;\n        },\n    isBackground: true,\n    background: (s) => MaterialDynamicColors.highestSurface(s),\n    contrastCurve: new ContrastCurve(1, 1, 3, 4.5),\n    toneDeltaPair: (s) => new ToneDeltaPair(\n        MaterialDynamicColors.primaryContainer, MaterialDynamicColors.primary,\n        10, 'nearer', false),\n  });\n\n  static onPrimaryContainer = DynamicColor.fromPalette({\n    name: 'on_primary_container',\n    palette: (s) => s.primaryPalette,\n    tone:\n        (s) => {\n          if (isFidelity(s)) {\n            return DynamicColor.foregroundTone(\n                MaterialDynamicColors.primaryContainer.tone(s), 4.5);\n          }\n          if (isMonochrome(s)) {\n            return s.isDark ? 0 : 100;\n          }\n          return s.isDark ? 90 : 30;\n        },\n    background: (s) => MaterialDynamicColors.primaryContainer,\n    contrastCurve: new ContrastCurve(3, 4.5, 7, 11),\n  });\n\n  static inversePrimary = DynamicColor.fromPalette({\n    name: 'inverse_primary',\n    palette: (s) => s.primaryPalette,\n    tone: (s) => s.isDark ? 40 : 80,\n    background: (s) => MaterialDynamicColors.inverseSurface,\n    contrastCurve: new ContrastCurve(3, 4.5, 7, 7),\n  });\n\n  static secondary = DynamicColor.fromPalette({\n    name: 'secondary',\n    palette: (s) => s.secondaryPalette,\n    tone: (s) => s.isDark ? 80 : 40,\n    isBackground: true,\n    background: (s) => MaterialDynamicColors.highestSurface(s),\n    contrastCurve: new ContrastCurve(3, 4.5, 7, 7),\n    toneDeltaPair: (s) => new ToneDeltaPair(\n        MaterialDynamicColors.secondaryContainer,\n        MaterialDynamicColors.secondary, 10, 'nearer', false),\n  });\n\n  static onSecondary = DynamicColor.fromPalette({\n    name: 'on_secondary',\n    palette: (s) => s.secondaryPalette,\n    tone:\n        (s) => {\n          if (isMonochrome(s)) {\n            return s.isDark ? 10 : 100;\n          } else {\n            return s.isDark ? 20 : 100;\n          }\n        },\n    background: (s) => MaterialDynamicColors.secondary,\n    contrastCurve: new ContrastCurve(4.5, 7, 11, 21),\n  });\n\n  static secondaryContainer = DynamicColor.fromPalette({\n    name: 'secondary_container',\n    palette: (s) => s.secondaryPalette,\n    tone:\n        (s) => {\n          const initialTone = s.isDark ? 30 : 90;\n          if (isMonochrome(s)) {\n            return s.isDark ? 30 : 85;\n          }\n          if (!isFidelity(s)) {\n            return initialTone;\n          }\n          return findDesiredChromaByTone(\n              s.secondaryPalette.hue, s.secondaryPalette.chroma, initialTone,\n              s.isDark ? false : true);\n        },\n    isBackground: true,\n    background: (s) => MaterialDynamicColors.highestSurface(s),\n    contrastCurve: new ContrastCurve(1, 1, 3, 4.5),\n    toneDeltaPair: (s) => new ToneDeltaPair(\n        MaterialDynamicColors.secondaryContainer,\n        MaterialDynamicColors.secondary, 10, 'nearer', false),\n  });\n\n  static onSecondaryContainer = DynamicColor.fromPalette({\n    name: 'on_secondary_container',\n    palette: (s) => s.secondaryPalette,\n    tone:\n        (s) => {\n          if (isMonochrome(s)) {\n            return s.isDark ? 90 : 10;\n          }\n          if (!isFidelity(s)) {\n            return s.isDark ? 90 : 30;\n          }\n          return DynamicColor.foregroundTone(\n              MaterialDynamicColors.secondaryContainer.tone(s), 4.5);\n        },\n    background: (s) => MaterialDynamicColors.secondaryContainer,\n    contrastCurve: new ContrastCurve(3, 4.5, 7, 11),\n  });\n\n  static tertiary = DynamicColor.fromPalette({\n    name: 'tertiary',\n    palette: (s) => s.tertiaryPalette,\n    tone:\n        (s) => {\n          if (isMonochrome(s)) {\n            return s.isDark ? 90 : 25;\n          }\n          return s.isDark ? 80 : 40;\n        },\n    isBackground: true,\n    background: (s) => MaterialDynamicColors.highestSurface(s),\n    contrastCurve: new ContrastCurve(3, 4.5, 7, 7),\n    toneDeltaPair: (s) => new ToneDeltaPair(\n        MaterialDynamicColors.tertiaryContainer, MaterialDynamicColors.tertiary,\n        10, 'nearer', false),\n  });\n\n  static onTertiary = DynamicColor.fromPalette({\n    name: 'on_tertiary',\n    palette: (s) => s.tertiaryPalette,\n    tone:\n        (s) => {\n          if (isMonochrome(s)) {\n            return s.isDark ? 10 : 90;\n          }\n          return s.isDark ? 20 : 100;\n        },\n    background: (s) => MaterialDynamicColors.tertiary,\n    contrastCurve: new ContrastCurve(4.5, 7, 11, 21),\n  });\n\n  static tertiaryContainer = DynamicColor.fromPalette({\n    name: 'tertiary_container',\n    palette: (s) => s.tertiaryPalette,\n    tone:\n        (s) => {\n          if (isMonochrome(s)) {\n            return s.isDark ? 60 : 49;\n          }\n          if (!isFidelity(s)) {\n            return s.isDark ? 30 : 90;\n          }\n          const proposedHct = s.tertiaryPalette.getHct(s.sourceColorHct.tone);\n          return DislikeAnalyzer.fixIfDisliked(proposedHct).tone;\n        },\n    isBackground: true,\n    background: (s) => MaterialDynamicColors.highestSurface(s),\n    contrastCurve: new ContrastCurve(1, 1, 3, 4.5),\n    toneDeltaPair: (s) => new ToneDeltaPair(\n        MaterialDynamicColors.tertiaryContainer, MaterialDynamicColors.tertiary,\n        10, 'nearer', false),\n  });\n\n  static onTertiaryContainer = DynamicColor.fromPalette({\n    name: 'on_tertiary_container',\n    palette: (s) => s.tertiaryPalette,\n    tone:\n        (s) => {\n          if (isMonochrome(s)) {\n            return s.isDark ? 0 : 100;\n          }\n          if (!isFidelity(s)) {\n            return s.isDark ? 90 : 30;\n          }\n          return DynamicColor.foregroundTone(\n              MaterialDynamicColors.tertiaryContainer.tone(s), 4.5);\n        },\n    background: (s) => MaterialDynamicColors.tertiaryContainer,\n    contrastCurve: new ContrastCurve(3, 4.5, 7, 11),\n  });\n\n  static error = DynamicColor.fromPalette({\n    name: 'error',\n    palette: (s) => s.errorPalette,\n    tone: (s) => s.isDark ? 80 : 40,\n    isBackground: true,\n    background: (s) => MaterialDynamicColors.highestSurface(s),\n    contrastCurve: new ContrastCurve(3, 4.5, 7, 7),\n    toneDeltaPair: (s) => new ToneDeltaPair(\n        MaterialDynamicColors.errorContainer, MaterialDynamicColors.error, 10,\n        'nearer', false),\n  });\n\n  static onError = DynamicColor.fromPalette({\n    name: 'on_error',\n    palette: (s) => s.errorPalette,\n    tone: (s) => s.isDark ? 20 : 100,\n    background: (s) => MaterialDynamicColors.error,\n    contrastCurve: new ContrastCurve(4.5, 7, 11, 21),\n  });\n\n  static errorContainer = DynamicColor.fromPalette({\n    name: 'error_container',\n    palette: (s) => s.errorPalette,\n    tone: (s) => s.isDark ? 30 : 90,\n    isBackground: true,\n    background: (s) => MaterialDynamicColors.highestSurface(s),\n    contrastCurve: new ContrastCurve(1, 1, 3, 4.5),\n    toneDeltaPair: (s) => new ToneDeltaPair(\n        MaterialDynamicColors.errorContainer, MaterialDynamicColors.error, 10,\n        'nearer', false),\n  });\n\n  static onErrorContainer = DynamicColor.fromPalette({\n    name: 'on_error_container',\n    palette: (s) => s.errorPalette,\n    tone:\n        (s) => {\n          if (isMonochrome(s)) {\n            return s.isDark ? 90 : 10;\n          }\n          return s.isDark ? 90 : 30;\n        },\n    background: (s) => MaterialDynamicColors.errorContainer,\n    contrastCurve: new ContrastCurve(3, 4.5, 7, 11),\n  });\n\n  static primaryFixed = DynamicColor.fromPalette({\n    name: 'primary_fixed',\n    palette: (s) => s.primaryPalette,\n    tone: (s) => isMonochrome(s) ? 40.0 : 90.0,\n    isBackground: true,\n    background: (s) => MaterialDynamicColors.highestSurface(s),\n    contrastCurve: new ContrastCurve(1, 1, 3, 4.5),\n    toneDeltaPair: (s) => new ToneDeltaPair(\n        MaterialDynamicColors.primaryFixed,\n        MaterialDynamicColors.primaryFixedDim, 10, 'lighter', true),\n  });\n\n  static primaryFixedDim = DynamicColor.fromPalette({\n    name: 'primary_fixed_dim',\n    palette: (s) => s.primaryPalette,\n    tone: (s) => isMonochrome(s) ? 30.0 : 80.0,\n    isBackground: true,\n    background: (s) => MaterialDynamicColors.highestSurface(s),\n    contrastCurve: new ContrastCurve(1, 1, 3, 4.5),\n    toneDeltaPair: (s) => new ToneDeltaPair(\n        MaterialDynamicColors.primaryFixed,\n        MaterialDynamicColors.primaryFixedDim, 10, 'lighter', true),\n  });\n\n  static onPrimaryFixed = DynamicColor.fromPalette({\n    name: 'on_primary_fixed',\n    palette: (s) => s.primaryPalette,\n    tone: (s) => isMonochrome(s) ? 100.0 : 10.0,\n    background: (s) => MaterialDynamicColors.primaryFixedDim,\n    secondBackground: (s) => MaterialDynamicColors.primaryFixed,\n    contrastCurve: new ContrastCurve(4.5, 7, 11, 21),\n  });\n\n  static onPrimaryFixedVariant = DynamicColor.fromPalette({\n    name: 'on_primary_fixed_variant',\n    palette: (s) => s.primaryPalette,\n    tone: (s) => isMonochrome(s) ? 90.0 : 30.0,\n    background: (s) => MaterialDynamicColors.primaryFixedDim,\n    secondBackground: (s) => MaterialDynamicColors.primaryFixed,\n    contrastCurve: new ContrastCurve(3, 4.5, 7, 11),\n  });\n\n  static secondaryFixed = DynamicColor.fromPalette({\n    name: 'secondary_fixed',\n    palette: (s) => s.secondaryPalette,\n    tone: (s) => isMonochrome(s) ? 80.0 : 90.0,\n    isBackground: true,\n    background: (s) => MaterialDynamicColors.highestSurface(s),\n    contrastCurve: new ContrastCurve(1, 1, 3, 4.5),\n    toneDeltaPair: (s) => new ToneDeltaPair(\n        MaterialDynamicColors.secondaryFixed,\n        MaterialDynamicColors.secondaryFixedDim, 10, 'lighter', true),\n  });\n\n  static secondaryFixedDim = DynamicColor.fromPalette({\n    name: 'secondary_fixed_dim',\n    palette: (s) => s.secondaryPalette,\n    tone: (s) => isMonochrome(s) ? 70.0 : 80.0,\n    isBackground: true,\n    background: (s) => MaterialDynamicColors.highestSurface(s),\n    contrastCurve: new ContrastCurve(1, 1, 3, 4.5),\n    toneDeltaPair: (s) => new ToneDeltaPair(\n        MaterialDynamicColors.secondaryFixed,\n        MaterialDynamicColors.secondaryFixedDim, 10, 'lighter', true),\n  });\n\n  static onSecondaryFixed = DynamicColor.fromPalette({\n    name: 'on_secondary_fixed',\n    palette: (s) => s.secondaryPalette,\n    tone: (s) => 10.0,\n    background: (s) => MaterialDynamicColors.secondaryFixedDim,\n    secondBackground: (s) => MaterialDynamicColors.secondaryFixed,\n    contrastCurve: new ContrastCurve(4.5, 7, 11, 21),\n  });\n\n  static onSecondaryFixedVariant = DynamicColor.fromPalette({\n    name: 'on_secondary_fixed_variant',\n    palette: (s) => s.secondaryPalette,\n    tone: (s) => isMonochrome(s) ? 25.0 : 30.0,\n    background: (s) => MaterialDynamicColors.secondaryFixedDim,\n    secondBackground: (s) => MaterialDynamicColors.secondaryFixed,\n    contrastCurve: new ContrastCurve(3, 4.5, 7, 11),\n  });\n\n  static tertiaryFixed = DynamicColor.fromPalette({\n    name: 'tertiary_fixed',\n    palette: (s) => s.tertiaryPalette,\n    tone: (s) => isMonochrome(s) ? 40.0 : 90.0,\n    isBackground: true,\n    background: (s) => MaterialDynamicColors.highestSurface(s),\n    contrastCurve: new ContrastCurve(1, 1, 3, 4.5),\n    toneDeltaPair: (s) => new ToneDeltaPair(\n        MaterialDynamicColors.tertiaryFixed,\n        MaterialDynamicColors.tertiaryFixedDim, 10, 'lighter', true),\n  });\n\n  static tertiaryFixedDim = DynamicColor.fromPalette({\n    name: 'tertiary_fixed_dim',\n    palette: (s) => s.tertiaryPalette,\n    tone: (s) => isMonochrome(s) ? 30.0 : 80.0,\n    isBackground: true,\n    background: (s) => MaterialDynamicColors.highestSurface(s),\n    contrastCurve: new ContrastCurve(1, 1, 3, 4.5),\n    toneDeltaPair: (s) => new ToneDeltaPair(\n        MaterialDynamicColors.tertiaryFixed,\n        MaterialDynamicColors.tertiaryFixedDim, 10, 'lighter', true),\n  });\n\n  static onTertiaryFixed = DynamicColor.fromPalette({\n    name: 'on_tertiary_fixed',\n    palette: (s) => s.tertiaryPalette,\n    tone: (s) => isMonochrome(s) ? 100.0 : 10.0,\n    background: (s) => MaterialDynamicColors.tertiaryFixedDim,\n    secondBackground: (s) => MaterialDynamicColors.tertiaryFixed,\n    contrastCurve: new ContrastCurve(4.5, 7, 11, 21),\n  });\n\n  static onTertiaryFixedVariant = DynamicColor.fromPalette({\n    name: 'on_tertiary_fixed_variant',\n    palette: (s) => s.tertiaryPalette,\n    tone: (s) => isMonochrome(s) ? 90.0 : 30.0,\n    background: (s) => MaterialDynamicColors.tertiaryFixedDim,\n    secondBackground: (s) => MaterialDynamicColors.tertiaryFixed,\n    contrastCurve: new ContrastCurve(3, 4.5, 7, 11),\n  });\n}\n", "/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Hct} from '../hct/hct.js';\nimport {TonalPalette} from '../palettes/tonal_palette.js';\nimport * as math from '../utils/math_utils.js';\n\nimport {DynamicColor} from './dynamic_color.js';\nimport {MaterialDynamicColors} from './material_dynamic_colors.js';\nimport {Variant} from './variant.js';\n\n/**\n * @param sourceColorArgb The source color of the theme as an ARGB 32-bit\n *     integer.\n * @param variant The variant, or style, of the theme.\n * @param contrastLevel Value from -1 to 1. -1 represents minimum contrast,\n * 0 represents standard (i.e. the design as spec'd), and 1 represents maximum\n * contrast.\n * @param isDark Whether the scheme is in dark mode or light mode.\n * @param primaryPalette Given a tone, produces a color. Hue and chroma of the\n * color are specified in the design specification of the variant. Usually\n * colorful.\n * @param secondaryPalette Given a tone, produces a color. Hue and chroma of\n * the color are specified in the design specification of the variant. Usually\n * less colorful.\n * @param tertiaryPalette Given a tone, produces a color. Hue and chroma of\n * the color are specified in the design specification of the variant. Usually\n * a different hue from primary and colorful.\n * @param neutralPalette Given a tone, produces a color. Hue and chroma of the\n * color are specified in the design specification of the variant. Usually not\n * colorful at all, intended for background & surface colors.\n * @param neutralVariantPalette Given a tone, produces a color. Hue and chroma\n * of the color are specified in the design specification of the variant.\n * Usually not colorful, but slightly more colorful than Neutral. Intended for\n * backgrounds & surfaces.\n */\ninterface DynamicSchemeOptions {\n  sourceColorArgb: number;\n  variant: Variant;\n  contrastLevel: number;\n  isDark: boolean;\n  primaryPalette: TonalPalette;\n  secondaryPalette: TonalPalette;\n  tertiaryPalette: TonalPalette;\n  neutralPalette: TonalPalette;\n  neutralVariantPalette: TonalPalette;\n}\n\n/**\n * Constructed by a set of values representing the current UI state (such as\n * whether or not its dark theme, what the theme style is, etc.), and\n * provides a set of TonalPalettes that can create colors that fit in\n * with the theme style. Used by DynamicColor to resolve into a color.\n */\nexport class DynamicScheme {\n  /**\n   * The source color of the theme as an HCT color.\n   */\n  sourceColorHct: Hct;\n  /**\n   * Given a tone, produces a reddish, colorful, color.\n   */\n  errorPalette: TonalPalette;\n\n  /** The source color of the theme as an ARGB 32-bit integer. */\n  readonly sourceColorArgb: number;\n\n  /** The variant, or style, of the theme. */\n  readonly variant: Variant;\n\n  /**\n   * Value from -1 to 1. -1 represents minimum contrast. 0 represents standard\n   * (i.e. the design as spec'd), and 1 represents maximum contrast.\n   */\n  readonly contrastLevel: number;\n\n  /** Whether the scheme is in dark mode or light mode. */\n  readonly isDark: boolean;\n\n  /**\n   * Given a tone, produces a color. Hue and chroma of the\n   * color are specified in the design specification of the variant. Usually\n   * colorful.\n   */\n  readonly primaryPalette: TonalPalette;\n\n  /**\n   * Given a tone, produces a color. Hue and chroma of\n   * the color are specified in the design specification of the variant. Usually\n   * less colorful.\n   */\n  readonly secondaryPalette: TonalPalette;\n\n  /**\n   * Given a tone, produces a color. Hue and chroma of\n   * the color are specified in the design specification of the variant. Usually\n   * a different hue from primary and colorful.\n   */\n  readonly tertiaryPalette: TonalPalette;\n\n  /**\n   * Given a tone, produces a color. Hue and chroma of the\n   * color are specified in the design specification of the variant. Usually not\n   * colorful at all, intended for background & surface colors.\n   */\n  readonly neutralPalette: TonalPalette;\n\n  /**\n   * Given a tone, produces a color. Hue and chroma\n   * of the color are specified in the design specification of the variant.\n   * Usually not colorful, but slightly more colorful than Neutral. Intended for\n   * backgrounds & surfaces.\n   */\n  readonly neutralVariantPalette: TonalPalette;\n\n  constructor(args: DynamicSchemeOptions) {\n    this.sourceColorArgb = args.sourceColorArgb;\n    this.variant = args.variant;\n    this.contrastLevel = args.contrastLevel;\n    this.isDark = args.isDark;\n    this.sourceColorHct = Hct.fromInt(args.sourceColorArgb);\n    this.primaryPalette = args.primaryPalette;\n    this.secondaryPalette = args.secondaryPalette;\n    this.tertiaryPalette = args.tertiaryPalette;\n    this.neutralPalette = args.neutralPalette;\n    this.neutralVariantPalette = args.neutralVariantPalette;\n    this.errorPalette = TonalPalette.fromHueAndChroma(25.0, 84.0);\n  }\n\n  /**\n   * Support design spec'ing Dynamic Color by schemes that specify hue\n   * rotations that should be applied at certain breakpoints.\n   * @param sourceColor the source color of the theme, in HCT.\n   * @param hues The \"breakpoints\", i.e. the hues at which a rotation should\n   * be apply.\n   * @param rotations The rotation that should be applied when source color's\n   * hue is >= the same index in hues array, and <= the hue at the next index\n   * in hues array.\n   */\n  static getRotatedHue(sourceColor: Hct, hues: number[], rotations: number[]):\n      number {\n    const sourceHue = sourceColor.hue;\n    if (hues.length !== rotations.length) {\n      throw new Error(`mismatch between hue length ${hues.length} & rotations ${\n          rotations.length}`);\n    }\n    if (rotations.length === 1) {\n      return math.sanitizeDegreesDouble(sourceColor.hue + rotations[0]);\n    }\n    const size = hues.length;\n    for (let i = 0; i <= size - 2; i++) {\n      const thisHue = hues[i];\n      const nextHue = hues[i + 1];\n      if (thisHue < sourceHue && sourceHue < nextHue) {\n        return math.sanitizeDegreesDouble(sourceHue + rotations[i]);\n      }\n    }\n    // If this statement executes, something is wrong, there should have been a\n    // rotation found using the arrays.\n    return sourceHue;\n  }\n\n\n  getArgb(dynamicColor: DynamicColor): number {\n    return dynamicColor.getArgb(this);\n  }\n\n  getHct(dynamicColor: DynamicColor): Hct {\n    return dynamicColor.getHct(this);\n  }\n\n  get primaryPaletteKeyColor(): number {\n    return this.getArgb(MaterialDynamicColors.primaryPaletteKeyColor);\n  }\n\n  get secondaryPaletteKeyColor(): number {\n    return this.getArgb(MaterialDynamicColors.secondaryPaletteKeyColor);\n  }\n\n  get tertiaryPaletteKeyColor(): number {\n    return this.getArgb(MaterialDynamicColors.tertiaryPaletteKeyColor);\n  }\n\n  get neutralPaletteKeyColor(): number {\n    return this.getArgb(MaterialDynamicColors.neutralPaletteKeyColor);\n  }\n\n  get neutralVariantPaletteKeyColor(): number {\n    return this.getArgb(MaterialDynamicColors.neutralVariantPaletteKeyColor);\n  }\n\n  get background(): number {\n    return this.getArgb(MaterialDynamicColors.background);\n  }\n\n  get onBackground(): number {\n    return this.getArgb(MaterialDynamicColors.onBackground);\n  }\n\n  get surface(): number {\n    return this.getArgb(MaterialDynamicColors.surface);\n  }\n\n  get surfaceDim(): number {\n    return this.getArgb(MaterialDynamicColors.surfaceDim);\n  }\n\n  get surfaceBright(): number {\n    return this.getArgb(MaterialDynamicColors.surfaceBright);\n  }\n\n  get surfaceContainerLowest(): number {\n    return this.getArgb(MaterialDynamicColors.surfaceContainerLowest);\n  }\n\n  get surfaceContainerLow(): number {\n    return this.getArgb(MaterialDynamicColors.surfaceContainerLow);\n  }\n\n  get surfaceContainer(): number {\n    return this.getArgb(MaterialDynamicColors.surfaceContainer);\n  }\n\n  get surfaceContainerHigh(): number {\n    return this.getArgb(MaterialDynamicColors.surfaceContainerHigh);\n  }\n\n  get surfaceContainerHighest(): number {\n    return this.getArgb(MaterialDynamicColors.surfaceContainerHighest);\n  }\n\n  get onSurface(): number {\n    return this.getArgb(MaterialDynamicColors.onSurface);\n  }\n\n  get surfaceVariant(): number {\n    return this.getArgb(MaterialDynamicColors.surfaceVariant);\n  }\n\n  get onSurfaceVariant(): number {\n    return this.getArgb(MaterialDynamicColors.onSurfaceVariant);\n  }\n\n  get inverseSurface(): number {\n    return this.getArgb(MaterialDynamicColors.inverseSurface);\n  }\n\n  get inverseOnSurface(): number {\n    return this.getArgb(MaterialDynamicColors.inverseOnSurface);\n  }\n\n  get outline(): number {\n    return this.getArgb(MaterialDynamicColors.outline);\n  }\n\n  get outlineVariant(): number {\n    return this.getArgb(MaterialDynamicColors.outlineVariant);\n  }\n\n  get shadow(): number {\n    return this.getArgb(MaterialDynamicColors.shadow);\n  }\n\n  get scrim(): number {\n    return this.getArgb(MaterialDynamicColors.scrim);\n  }\n\n  get surfaceTint(): number {\n    return this.getArgb(MaterialDynamicColors.surfaceTint);\n  }\n\n  get primary(): number {\n    return this.getArgb(MaterialDynamicColors.primary);\n  }\n\n  get onPrimary(): number {\n    return this.getArgb(MaterialDynamicColors.onPrimary);\n  }\n\n  get primaryContainer(): number {\n    return this.getArgb(MaterialDynamicColors.primaryContainer);\n  }\n\n  get onPrimaryContainer(): number {\n    return this.getArgb(MaterialDynamicColors.onPrimaryContainer);\n  }\n\n  get inversePrimary(): number {\n    return this.getArgb(MaterialDynamicColors.inversePrimary);\n  }\n\n  get secondary(): number {\n    return this.getArgb(MaterialDynamicColors.secondary);\n  }\n\n  get onSecondary(): number {\n    return this.getArgb(MaterialDynamicColors.onSecondary);\n  }\n\n  get secondaryContainer(): number {\n    return this.getArgb(MaterialDynamicColors.secondaryContainer);\n  }\n\n  get onSecondaryContainer(): number {\n    return this.getArgb(MaterialDynamicColors.onSecondaryContainer);\n  }\n\n  get tertiary(): number {\n    return this.getArgb(MaterialDynamicColors.tertiary);\n  }\n\n  get onTertiary(): number {\n    return this.getArgb(MaterialDynamicColors.onTertiary);\n  }\n\n  get tertiaryContainer(): number {\n    return this.getArgb(MaterialDynamicColors.tertiaryContainer);\n  }\n\n  get onTertiaryContainer(): number {\n    return this.getArgb(MaterialDynamicColors.onTertiaryContainer);\n  }\n\n  get error(): number {\n    return this.getArgb(MaterialDynamicColors.error);\n  }\n\n  get onError(): number {\n    return this.getArgb(MaterialDynamicColors.onError);\n  }\n\n  get errorContainer(): number {\n    return this.getArgb(MaterialDynamicColors.errorContainer);\n  }\n\n  get onErrorContainer(): number {\n    return this.getArgb(MaterialDynamicColors.onErrorContainer);\n  }\n\n  get primaryFixed(): number {\n    return this.getArgb(MaterialDynamicColors.primaryFixed);\n  }\n\n  get primaryFixedDim(): number {\n    return this.getArgb(MaterialDynamicColors.primaryFixedDim);\n  }\n\n  get onPrimaryFixed(): number {\n    return this.getArgb(MaterialDynamicColors.onPrimaryFixed);\n  }\n\n  get onPrimaryFixedVariant(): number {\n    return this.getArgb(MaterialDynamicColors.onPrimaryFixedVariant);\n  }\n\n  get secondaryFixed(): number {\n    return this.getArgb(MaterialDynamicColors.secondaryFixed);\n  }\n\n  get secondaryFixedDim(): number {\n    return this.getArgb(MaterialDynamicColors.secondaryFixedDim);\n  }\n\n  get onSecondaryFixed(): number {\n    return this.getArgb(MaterialDynamicColors.onSecondaryFixed);\n  }\n\n  get onSecondaryFixedVariant(): number {\n    return this.getArgb(MaterialDynamicColors.onSecondaryFixedVariant);\n  }\n\n  get tertiaryFixed(): number {\n    return this.getArgb(MaterialDynamicColors.tertiaryFixed);\n  }\n\n  get tertiaryFixedDim(): number {\n    return this.getArgb(MaterialDynamicColors.tertiaryFixedDim);\n  }\n\n  get onTertiaryFixed(): number {\n    return this.getArgb(MaterialDynamicColors.onTertiaryFixed);\n  }\n\n  get onTertiaryFixedVariant(): number {\n    return this.getArgb(MaterialDynamicColors.onTertiaryFixedVariant);\n  }\n}\n", "/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {DynamicScheme} from '../dynamiccolor/dynamic_scheme.js';\nimport {Variant} from '../dynamiccolor/variant.js';\nimport {Hct} from '../hct/hct.js';\nimport {TonalPalette} from '../palettes/tonal_palette.js';\nimport * as math from '../utils/math_utils.js';\n\n/**\n * A Dynamic Color theme that is intentionally detached from the source color.\n */\nexport class SchemeExpressive extends DynamicScheme {\n  /**\n   * Hues (in degrees) used at breakpoints such that designers can specify a\n   * hue rotation that occurs at a given break point.\n   */\n  private static readonly hues: number[] = [\n    0.0,\n    21.0,\n    51.0,\n    121.0,\n    151.0,\n    191.0,\n    271.0,\n    321.0,\n    360.0,\n  ];\n\n  /**\n   * Hue rotations (in degrees) of the Secondary [TonalPalette],\n   * corresponding to the breakpoints in [hues].\n   */\n  private static readonly secondaryRotations: number[] = [\n    45.0,\n    95.0,\n    45.0,\n    20.0,\n    45.0,\n    90.0,\n    45.0,\n    45.0,\n    45.0,\n  ];\n\n  /**\n   * Hue rotations (in degrees) of the Tertiary [TonalPalette],\n   * corresponding to the breakpoints in [hues].\n   */\n  private static readonly tertiaryRotations: number[] = [\n    120.0,\n    120.0,\n    20.0,\n    45.0,\n    20.0,\n    15.0,\n    20.0,\n    120.0,\n    120.0,\n  ];\n\n  constructor(sourceColorHct: Hct, isDark: boolean, contrastLevel: number) {\n    super({\n      sourceColorArgb: sourceColorHct.toInt(),\n      variant: Variant.EXPRESSIVE,\n      contrastLevel,\n      isDark,\n      primaryPalette: TonalPalette.fromHueAndChroma(\n          math.sanitizeDegreesDouble(sourceColorHct.hue + 240.0), 40.0),\n      secondaryPalette: TonalPalette.fromHueAndChroma(\n          DynamicScheme.getRotatedHue(\n              sourceColorHct, SchemeExpressive.hues,\n              SchemeExpressive.secondaryRotations),\n          24.0),\n      tertiaryPalette: TonalPalette.fromHueAndChroma(\n          DynamicScheme.getRotatedHue(\n              sourceColorHct, SchemeExpressive.hues,\n              SchemeExpressive.tertiaryRotations),\n          32.0),\n      neutralPalette:\n          TonalPalette.fromHueAndChroma(sourceColorHct.hue + 15, 8.0),\n      neutralVariantPalette:\n          TonalPalette.fromHueAndChroma(sourceColorHct.hue + 15, 12.0),\n    });\n  }\n}\n", "/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {DynamicScheme} from '../dynamiccolor/dynamic_scheme.js';\nimport {Variant} from '../dynamiccolor/variant.js';\nimport {Hct} from '../hct/hct.js';\nimport {TonalPalette} from '../palettes/tonal_palette.js';\n\n/**\n * A Dynamic Color theme that maxes out colorfulness at each position in the\n * Primary Tonal Palette.\n */\nexport class SchemeVibrant extends DynamicScheme {\n  /**\n   * Hues (in degrees) used at breakpoints such that designers can specify a\n   * hue rotation that occurs at a given break point.\n   */\n  private static readonly hues = [\n    0.0,\n    41.0,\n    61.0,\n    101.0,\n    131.0,\n    181.0,\n    251.0,\n    301.0,\n    360.0,\n  ];\n\n  /**\n   * Hue rotations (in degrees) of the Secondary [TonalPalette],\n   * corresponding to the breakpoints in [hues].\n   */\n  private static readonly secondaryRotations = [\n    18.0,\n    15.0,\n    10.0,\n    12.0,\n    15.0,\n    18.0,\n    15.0,\n    12.0,\n    12.0,\n  ];\n\n  /**\n   * Hue rotations (in degrees) of the Tertiary [TonalPalette],\n   * corresponding to the breakpoints in [hues].\n   */\n  private static readonly tertiaryRotations = [\n    35.0,\n    30.0,\n    20.0,\n    25.0,\n    30.0,\n    35.0,\n    30.0,\n    25.0,\n    25.0,\n  ];\n\n  constructor(sourceColorHct: Hct, isDark: boolean, contrastLevel: number) {\n    super({\n      sourceColorArgb: sourceColorHct.toInt(),\n      variant: Variant.VIBRANT,\n      contrastLevel,\n      isDark,\n      primaryPalette: TonalPalette.fromHueAndChroma(sourceColorHct.hue, 200.0),\n      secondaryPalette: TonalPalette.fromHueAndChroma(\n          DynamicScheme.getRotatedHue(\n              sourceColorHct, SchemeVibrant.hues,\n              SchemeVibrant.secondaryRotations),\n          24.0),\n      tertiaryPalette: TonalPalette.fromHueAndChroma(\n          DynamicScheme.getRotatedHue(\n              sourceColorHct, SchemeVibrant.hues,\n              SchemeVibrant.tertiaryRotations),\n          32.0),\n      neutralPalette: TonalPalette.fromHueAndChroma(sourceColorHct.hue, 10.0),\n      neutralVariantPalette:\n          TonalPalette.fromHueAndChroma(sourceColorHct.hue, 12.0),\n    });\n  }\n}\n", "/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Hct} from '../hct/hct.js';\nimport * as math from '../utils/math_utils.js';\n\n/**\n * Default options for ranking colors based on usage counts.\n * desired: is the max count of the colors returned.\n * fallbackColorARGB: Is the default color that should be used if no\n *                    other colors are suitable.\n * filter: controls if the resulting colors should be filtered to not include\n *         hues that are not used often enough, and colors that are effectively\n *         grayscale.\n */\ndeclare interface ScoreOptions {\n  desired?: number;\n  fallbackColorARGB?: number;\n  filter?: boolean;\n}\n\nconst SCORE_OPTION_DEFAULTS = {\n  desired: 4,  // 4 colors matches what Android wallpaper picker.\n  fallbackColorARGB: 0xff4285f4,  // Google Blue.\n  filter: true,  // Avoid unsuitable colors.\n};\n\nfunction compare(a: {hct: Hct, score: number}, b: {hct: Hct, score: number}): number {\n  if (a.score > b.score) {\n    return -1;\n  } else if (a.score < b.score) {\n    return 1;\n  }\n  return 0;\n}\n\n/**\n *  Given a large set of colors, remove colors that are unsuitable for a UI\n *  theme, and rank the rest based on suitability.\n *\n *  Enables use of a high cluster count for image quantization, thus ensuring\n *  colors aren't muddied, while curating the high cluster count to a much\n *  smaller number of appropriate choices.\n */\nexport class Score {\n  private static readonly TARGET_CHROMA = 48.0;  // A1 Chroma\n  private static readonly WEIGHT_PROPORTION = 0.7;\n  private static readonly WEIGHT_CHROMA_ABOVE = 0.3;\n  private static readonly WEIGHT_CHROMA_BELOW = 0.1;\n  private static readonly CUTOFF_CHROMA = 5.0;\n  private static readonly CUTOFF_EXCITED_PROPORTION = 0.01;\n\n  private constructor() {}\n\n  /**\n   * Given a map with keys of colors and values of how often the color appears,\n   * rank the colors based on suitability for being used for a UI theme.\n   *\n   * @param colorsToPopulation map with keys of colors and values of how often\n   *     the color appears, usually from a source image.\n   * @param {ScoreOptions} options optional parameters.\n   * @return Colors sorted by suitability for a UI theme. The most suitable\n   *     color is the first item, the least suitable is the last. There will\n   *     always be at least one color returned. If all the input colors\n   *     were not suitable for a theme, a default fallback color will be\n   *     provided, Google Blue.\n   */\n  static score(\n    colorsToPopulation: Map<number, number>, options?: ScoreOptions):\n      number[] {\n    const {desired, fallbackColorARGB, filter} = {...SCORE_OPTION_DEFAULTS, ...options};\n    // Get the HCT color for each Argb value, while finding the per hue count and\n    // total count.\n    const colorsHct: Hct[] = [];\n    const huePopulation = new Array<number>(360).fill(0);\n    let populationSum = 0;\n    for (const [argb, population] of colorsToPopulation.entries()) {\n      const hct = Hct.fromInt(argb);\n      colorsHct.push(hct);\n      const hue = Math.floor(hct.hue);\n      huePopulation[hue] += population;\n      populationSum += population;\n    }\n\n    // Hues with more usage in neighboring 30 degree slice get a larger number.\n    const hueExcitedProportions = new Array<number>(360).fill(0.0);\n    for (let hue = 0; hue < 360; hue++) {\n      const proportion = huePopulation[hue] / populationSum;\n      for (let i = hue - 14; i < hue + 16; i++) {\n        const neighborHue = math.sanitizeDegreesInt(i);\n        hueExcitedProportions[neighborHue] += proportion;\n      }\n    }\n\n    // Scores each HCT color based on usage and chroma, while optionally\n    // filtering out values that do not have enough chroma or usage.\n    const scoredHct = new Array<{hct: Hct, score: number}>();\n    for (const hct of colorsHct) {\n      const hue = math.sanitizeDegreesInt(Math.round(hct.hue));\n      const proportion = hueExcitedProportions[hue];\n      if (filter && (hct.chroma < Score.CUTOFF_CHROMA || proportion <= Score.CUTOFF_EXCITED_PROPORTION)) {\n        continue;\n      }\n\n      const proportionScore = proportion * 100.0 * Score.WEIGHT_PROPORTION;\n      const chromaWeight = hct.chroma < Score.TARGET_CHROMA ? Score.WEIGHT_CHROMA_BELOW : Score.WEIGHT_CHROMA_ABOVE;\n      const chromaScore = (hct.chroma - Score.TARGET_CHROMA) * chromaWeight;\n      const score = proportionScore + chromaScore;\n      scoredHct.push({hct, score});\n    }\n    // Sorted so that colors with higher scores come first.\n    scoredHct.sort(compare);\n\n    // Iterates through potential hue differences in degrees in order to select\n    // the colors with the largest distribution of hues possible. Starting at\n    // 90 degrees(maximum difference for 4 colors) then decreasing down to a\n    // 15 degree minimum.\n    const chosenColors: Hct[] = [];\n    for (let differenceDegrees = 90; differenceDegrees >= 15; differenceDegrees--) {\n      chosenColors.length = 0;\n      for (const {hct} of scoredHct) {\n        const duplicateHue = chosenColors.find(chosenHct => {\n          return math.differenceDegrees(hct.hue, chosenHct.hue) < differenceDegrees;\n        });\n        if (!duplicateHue) {\n          chosenColors.push(hct);\n        }\n        if (chosenColors.length >= desired) break;\n      }\n      if (chosenColors.length >= desired) break;\n    }\n    const colors: number[] = [];\n    if (chosenColors.length === 0) {\n      colors.push(fallbackColorARGB);\n    }\n    for (const chosenHct of chosenColors) {\n      colors.push(chosenHct.toInt());\n    }\n    return colors;\n  }\n}\n", "/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as colorUtils from './color_utils.js';\n\n/**\n * Utility methods for hexadecimal representations of colors.\n */\n\n/**\n * @param argb ARGB representation of a color.\n * @return Hex string representing color, ex. #ff0000 for red.\n */\nexport function hexFromArgb(argb: number) {\n  const r = colorUtils.redFromArgb(argb);\n  const g = colorUtils.greenFromArgb(argb);\n  const b = colorUtils.blueFromArgb(argb);\n  const outParts = [r.toString(16), g.toString(16), b.toString(16)];\n\n  // Pad single-digit output values\n  for (const [i, part] of outParts.entries()) {\n    if (part.length === 1) {\n      outParts[i] = '0' + part;\n    }\n  }\n\n  return '#' + outParts.join('');\n}\n\n/**\n * @param hex String representing color as hex code. Accepts strings with or\n *     without leading #, and string representing the color using 3, 6, or 8\n *     hex characters.\n * @return ARGB representation of color.\n */\nexport function argbFromHex(hex: string) {\n  hex = hex.replace('#', '');\n  const isThree = hex.length === 3;\n  const isSix = hex.length === 6;\n  const isEight = hex.length === 8;\n  if (!isThree && !isSix && !isEight) {\n    throw new Error('unexpected hex ' + hex);\n  }\n  let r = 0;\n  let g = 0;\n  let b = 0;\n  if (isThree) {\n    r = parseIntHex(hex.slice(0, 1).repeat(2));\n    g = parseIntHex(hex.slice(1, 2).repeat(2));\n    b = parseIntHex(hex.slice(2, 3).repeat(2));\n  } else if (isSix) {\n    r = parseIntHex(hex.slice(0, 2));\n    g = parseIntHex(hex.slice(2, 4));\n    b = parseIntHex(hex.slice(4, 6));\n  } else if (isEight) {\n    r = parseIntHex(hex.slice(2, 4));\n    g = parseIntHex(hex.slice(4, 6));\n    b = parseIntHex(hex.slice(6, 8));\n  }\n\n  return (\n      ((255 << 24) | ((r & 0x0ff) << 16) | ((g & 0x0ff) << 8) | (b & 0x0ff)) >>>\n      0);\n}\n\nfunction parseIntHex(value: string) {\n  // tslint:disable-next-line:ban\n  return parseInt(value, 16);\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { argbFromHex, argbFromRgb, Hct, hexFromArgb } from '@material/material-color-utilities';\nfunction isValidHex(hex) {\n    return /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(hex);\n}\n/**\n * Parses CSS color formats and converts to ARGB.\n * Supports: #hex and rgb()/rgba()\n */\nfunction parseColorToArgb(color) {\n    var trimmed = color.trim();\n    // Hex format\n    if (trimmed.startsWith('#')) {\n        if (!isValidHex(trimmed)) {\n            throw new Error(\"Invalid hex color: \".concat(color));\n        }\n        return argbFromHex(trimmed);\n    }\n    // rgb() or rgba() format\n    var rgbMatch = trimmed.match(/rgba?\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)/);\n    if (rgbMatch) {\n        var r = parseInt(rgbMatch[1]);\n        var g = parseInt(rgbMatch[2]);\n        var b = parseInt(rgbMatch[3]);\n        return argbFromRgb(r, g, b);\n    }\n    throw new Error(\"Unsupported color format: \".concat(color, \". Supported formats: #hex, rgb(), rgba()\"));\n}\nexport function hctToHex(hctColor) {\n    return hexFromArgb(hctColor.toInt());\n}\nexport function hexToHct(color) {\n    var argb = parseColorToArgb(color);\n    return Hct.fromInt(argb);\n}\nexport function createHct(hue, chroma, tone) {\n    return Hct.from(hue, chroma, tone);\n}\nexport { hexFromArgb, argbFromHex, Hct };\n", "import { __assign } from \"tslib\";\nimport { createHct, hctToHex, hexToHct } from './hct-utils';\nvar PaletteSpecification = /** @class */ (function () {\n    function PaletteSpecification(positionRequirements, maxChroma) {\n        this.colorSpecifications = positionRequirements;\n        this.maxChroma = maxChroma !== null && maxChroma !== void 0 ? maxChroma : 200; // High default for unrestricted palettes\n    }\n    PaletteSpecification.prototype.findColorSpecification = function (hctColor) {\n        var tone = Math.round(hctColor.tone);\n        for (var _i = 0, _a = this.colorSpecifications; _i < _a.length; _i++) {\n            var position = _a[_i];\n            if (tone <= position.maxTone && tone >= position.minTone) {\n                return position;\n            }\n        }\n        // No exact range match - find nearest valid tone\n        var nearestTone = this.findNearestValidTone(tone);\n        for (var _b = 0, _c = this.colorSpecifications; _b < _c.length; _b++) {\n            var position = _c[_b];\n            if (nearestTone <= position.maxTone && nearestTone >= position.minTone) {\n                return position;\n            }\n        }\n        return undefined;\n    };\n    PaletteSpecification.prototype.findNearestValidTone = function (inputTone) {\n        var closestTone = inputTone;\n        var minDistance = Infinity;\n        var preferDarker = inputTone < 50;\n        for (var _i = 0, _a = this.colorSpecifications; _i < _a.length; _i++) {\n            var spec = _a[_i];\n            var midTone = (spec.minTone + spec.maxTone) / 2;\n            var distance = Math.abs(inputTone - midTone);\n            if (distance < minDistance) {\n                minDistance = distance;\n                closestTone = midTone;\n            }\n            else if (distance === minDistance && preferDarker && midTone < closestTone) {\n                closestTone = midTone;\n            }\n        }\n        return Math.round(closestTone);\n    };\n    PaletteSpecification.prototype.getColorToneProportion = function (position, hctColor) {\n        var proportion = (hctColor.tone - position.minTone) / (position.maxTone - position.minTone);\n        return Math.max(0, Math.min(1, proportion));\n    };\n    PaletteSpecification.prototype.getColorToneForProportion = function (position, proportion) {\n        var baseTone = position.minTone + (position.maxTone - position.minTone) * proportion;\n        // Bias toward range edges to maximize contrast\n        // Lower position numbers (50, 100, etc.) are light - bias toward maxTone (lighter)\n        // Higher position numbers (700, 800, etc.) are dark - bias toward minTone (darker)\n        var BIAS_STRENGTH = 0.5;\n        var positionNum = Number(position.position);\n        if (positionNum <= 500) {\n            // Light half of palette - push toward maxTone (lighter)\n            return baseTone + (position.maxTone - baseTone) * BIAS_STRENGTH;\n        }\n        else {\n            // Dark half of palette - push toward minTone (darker)\n            return baseTone - (baseTone - position.minTone) * BIAS_STRENGTH;\n        }\n    };\n    PaletteSpecification.prototype.adjustSeedColor = function (hct, mode) {\n        return hct;\n    };\n    PaletteSpecification.prototype.getExactSeedPosition = function (hct, mode) {\n        return undefined;\n    };\n    PaletteSpecification.prototype.validateAndAdjustSeed = function (hexColor, mode) {\n        var hct = hexToHct(hexColor);\n        hct = this.adjustSeedColor(hct, mode);\n        return hctToHex(hct);\n    };\n    PaletteSpecification.prototype.getPalette = function (hexBaseColor, autoAdjust, mode) {\n        if (autoAdjust === void 0) { autoAdjust = true; }\n        var adjustedSeed = this.prepareBaseSeed(hexBaseColor, autoAdjust, mode);\n        var baseColorInfo = this.extractBaseColorInfo(adjustedSeed, mode);\n        var colors = this.generatePaletteColors(baseColorInfo);\n        return __assign({ seed: adjustedSeed.hex }, colors);\n    };\n    PaletteSpecification.prototype.prepareBaseSeed = function (hexColor, autoAdjust, mode) {\n        var seedWasAdjusted = false;\n        if (autoAdjust) {\n            var original = hexColor;\n            hexColor = this.validateAndAdjustSeed(hexColor, mode);\n            seedWasAdjusted = original !== hexColor;\n        }\n        return { hex: hexColor, wasAdjusted: seedWasAdjusted };\n    };\n    PaletteSpecification.prototype.extractBaseColorInfo = function (seed, mode) {\n        var hctBaseColor = hexToHct(seed.hex);\n        var exactSeedPosition = this.getExactSeedPosition(hctBaseColor, mode);\n        var baseColorPalettePosition = exactSeedPosition\n            ? this.colorSpecifications.find(function (s) { return s.position === exactSeedPosition; })\n            : this.findColorSpecification(hctBaseColor);\n        if (!baseColorPalettePosition) {\n            throw new Error(\"Seed color \".concat(seed.hex, \" does not match any palette position specification\"));\n        }\n        var baseColorToneRangePosition = exactSeedPosition\n            ? 0.5\n            : this.getColorToneProportion(baseColorPalettePosition, hctBaseColor);\n        return {\n            hue: hctBaseColor.hue,\n            chroma: this.calculateBaseChroma(hctBaseColor.chroma, baseColorPalettePosition),\n            basePosition: baseColorPalettePosition,\n            toneRangePosition: baseColorToneRangePosition,\n            seedHex: seed.hex,\n            seedWasAdjusted: seed.wasAdjusted,\n            exactSeedPosition: exactSeedPosition\n        };\n    };\n    PaletteSpecification.prototype.calculateBaseChroma = function (seedChroma, position) {\n        var useDirectChroma = this.maxChroma < 50;\n        return useDirectChroma ? seedChroma : seedChroma / position.chromaFraction;\n    };\n    PaletteSpecification.prototype.generatePaletteColors = function (baseInfo) {\n        var colors = {};\n        for (var _i = 0, _a = this.colorSpecifications; _i < _a.length; _i++) {\n            var color = _a[_i];\n            var tone = this.getColorToneForProportion(color, baseInfo.toneRangePosition);\n            var isPaletteBase = baseInfo.basePosition.position === color.position;\n            var isExactSeedPosition = baseInfo.exactSeedPosition === color.position;\n            var adjustedChroma = color.chromaFraction * baseInfo.chroma;\n            if (adjustedChroma > this.maxChroma) {\n                adjustedChroma = this.maxChroma;\n            }\n            var paletteColor = (isPaletteBase && !baseInfo.seedWasAdjusted) || isExactSeedPosition\n                ? baseInfo.seedHex\n                : hctToHex(createHct(baseInfo.hue, adjustedChroma, tone));\n            colors[color.position] = paletteColor;\n        }\n        return colors;\n    };\n    return PaletteSpecification;\n}());\nexport { PaletteSpecification };\n", "import { __extends } from \"tslib\";\nimport { createHct } from './hct-utils';\nimport { PaletteSpecification } from './palette-spec';\nvar MIN_TONE = 1;\nvar MAX_TONE = 99;\nvar MAX_CHROMA = 15;\nvar NeutralPaletteSpecification = /** @class */ (function (_super) {\n    __extends(NeutralPaletteSpecification, _super);\n    function NeutralPaletteSpecification() {\n        return _super.call(this, [\n            // Near white - very light neutrals\n            { position: 50, chromaFraction: 0.5, minTone: 98, maxTone: MAX_TONE },\n            { position: 100, chromaFraction: 0.5, minTone: 97, maxTone: 98 },\n            { position: 150, chromaFraction: 0.5, minTone: 96, maxTone: 97 },\n            { position: 200, chromaFraction: 0.5, minTone: 96, maxTone: 96 },\n            // Light neutrals\n            { position: 250, chromaFraction: 0.5, minTone: 93, maxTone: 95 },\n            { position: 300, chromaFraction: 0.5, minTone: 88, maxTone: 92 },\n            { position: 350, chromaFraction: 0.5, minTone: 80, maxTone: 85 },\n            // Medium neutrals\n            { position: 400, chromaFraction: 0.75, minTone: 72, maxTone: 76 },\n            { position: 450, chromaFraction: 0.75, minTone: 68, maxTone: 72 },\n            { position: 500, chromaFraction: 0.75, minTone: 55, maxTone: 58 },\n            { position: 550, chromaFraction: 0.75, minTone: 46, maxTone: 52 },\n            { position: 600, chromaFraction: 0.75, minTone: 44, maxTone: 46 },\n            // Dark neutrals\n            { position: 650, chromaFraction: 0.75, minTone: 28, maxTone: 35 },\n            { position: 700, chromaFraction: 0.75, minTone: 22, maxTone: 27 },\n            { position: 750, chromaFraction: 0.75, minTone: 14, maxTone: 20 },\n            { position: 800, chromaFraction: 0.75, minTone: 10, maxTone: 14 },\n            // Very dark neutrals\n            { position: 850, chromaFraction: 0.75, minTone: 5, maxTone: 7 },\n            { position: 900, chromaFraction: 0.75, minTone: 3, maxTone: 5 },\n            { position: 950, chromaFraction: 0.75, minTone: 2, maxTone: 3 },\n            { position: 1000, chromaFraction: 0.75, minTone: MIN_TONE, maxTone: 2 }, // 2\n        ], MAX_CHROMA) || this;\n    }\n    NeutralPaletteSpecification.prototype.adjustSeedColor = function (hct) {\n        if (hct.chroma > MAX_CHROMA) {\n            return createHct(hct.hue, MAX_CHROMA, this.findNearestValidTone(hct.tone));\n        }\n        return hct;\n    };\n    return NeutralPaletteSpecification;\n}(PaletteSpecification));\nexport { NeutralPaletteSpecification };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { __extends } from \"tslib\";\nimport { Hct } from './hct-utils';\nimport { PaletteSpecification } from './palette-spec';\nvar MIN_TONE = 3;\nvar MAX_TONE = 98;\nvar PrimaryPaletteSpecification = /** @class */ (function (_super) {\n    __extends(PrimaryPaletteSpecification, _super);\n    function PrimaryPaletteSpecification() {\n        return _super.call(this, [\n            {\n                position: 50,\n                chromaFraction: 0.2,\n                minTone: 97,\n                maxTone: MAX_TONE\n            },\n            {\n                position: 100,\n                chromaFraction: 0.3,\n                minTone: 91,\n                maxTone: 96\n            },\n            {\n                position: 200,\n                chromaFraction: 0.5,\n                minTone: 84,\n                maxTone: 91\n            },\n            {\n                position: 300,\n                chromaFraction: 0.7,\n                minTone: 75,\n                maxTone: 84\n            },\n            {\n                position: 400,\n                chromaFraction: 1.0,\n                minTone: 65,\n                maxTone: 75\n            },\n            {\n                position: 500,\n                chromaFraction: 1.0,\n                minTone: 48,\n                maxTone: 65\n            },\n            {\n                position: 600,\n                chromaFraction: 1.0,\n                minTone: 44,\n                maxTone: 47\n            },\n            {\n                position: 700,\n                chromaFraction: 1.1,\n                minTone: 34,\n                maxTone: 44\n            },\n            {\n                position: 800,\n                chromaFraction: 1.15,\n                minTone: 25,\n                maxTone: 34\n            },\n            {\n                position: 900,\n                chromaFraction: 1.2,\n                minTone: 11,\n                maxTone: 25\n            },\n            {\n                position: 1000,\n                chromaFraction: 1.25,\n                minTone: MIN_TONE,\n                maxTone: 5\n            },\n        ]) || this;\n    }\n    PrimaryPaletteSpecification.prototype.adjustSeedColor = function (hct, mode) {\n        var tone = hct.tone;\n        var position600 = this.colorSpecifications.find(function (s) { return s.position === 600; });\n        var position400 = this.colorSpecifications.find(function (s) { return s.position === 400; });\n        if (mode === 'light' && position600 && tone > position600.maxTone) {\n            return Hct.from(hct.hue, hct.chroma, (position600.minTone + position600.maxTone) / 2);\n        }\n        if (mode === 'dark' && position400 && tone < position400.minTone) {\n            return Hct.from(hct.hue, hct.chroma, (position400.minTone + position400.maxTone) / 2);\n        }\n        return hct;\n    };\n    PrimaryPaletteSpecification.prototype.getExactSeedPosition = function (hct, mode) {\n        var tone = hct.tone;\n        var position600 = this.colorSpecifications.find(function (s) { return s.position === 600; });\n        var position400 = this.colorSpecifications.find(function (s) { return s.position === 400; });\n        if (mode === 'light' && position600 && tone <= position600.maxTone) {\n            return 600;\n        }\n        if (mode === 'dark' && position400 && tone >= position400.minTone) {\n            return 400;\n        }\n        return undefined;\n    };\n    return PrimaryPaletteSpecification;\n}(PaletteSpecification));\nexport { PrimaryPaletteSpecification };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { __extends } from \"tslib\";\nimport { PaletteSpecification } from './palette-spec';\nvar MIN_TONE = 5;\nvar MAX_TONE = 98;\nvar WarningPaletteSpecification = /** @class */ (function (_super) {\n    __extends(WarningPaletteSpecification, _super);\n    function WarningPaletteSpecification() {\n        return _super.call(this, [\n            {\n                position: 50,\n                chromaFraction: 0.5,\n                minTone: 97,\n                maxTone: MAX_TONE\n            },\n            {\n                position: 100,\n                chromaFraction: 0.5,\n                minTone: 95,\n                maxTone: 97\n            },\n            {\n                position: 200,\n                chromaFraction: 0.5,\n                minTone: 90,\n                maxTone: 95\n            },\n            {\n                position: 300,\n                chromaFraction: 0.75,\n                minTone: 86,\n                maxTone: 90\n            },\n            {\n                position: 400,\n                chromaFraction: 1.5,\n                minTone: 82,\n                maxTone: 86\n            },\n            {\n                position: 500,\n                chromaFraction: 1.5,\n                minTone: 75,\n                maxTone: 82\n            },\n            {\n                position: 600,\n                chromaFraction: 1.0,\n                minTone: 65,\n                maxTone: 75\n            },\n            {\n                position: 700,\n                chromaFraction: 1.1,\n                minTone: 55,\n                maxTone: 65\n            },\n            {\n                position: 800,\n                chromaFraction: 1.15,\n                minTone: 47,\n                maxTone: 55\n            },\n            {\n                position: 900,\n                chromaFraction: 1.2,\n                minTone: 41,\n                maxTone: 47\n            },\n            {\n                position: 1000,\n                chromaFraction: 1.25,\n                minTone: MIN_TONE,\n                maxTone: 15\n            },\n        ]) || this;\n    }\n    return WarningPaletteSpecification;\n}(PaletteSpecification));\nexport { WarningPaletteSpecification };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { NeutralPaletteSpecification } from './neutral-spec';\nimport { PrimaryPaletteSpecification } from './primary-spec';\nimport { WarningPaletteSpecification } from './warning-spec';\n// Memoization cache for palette generation\nvar paletteCache = new Map();\nfunction getCacheKey(category, seed, autoAdjust, mode) {\n    return \"\".concat(category, \":\").concat(seed, \":\").concat(autoAdjust, \":\").concat(mode !== null && mode !== void 0 ? mode : 'none');\n}\n// Export for testing\nexport function clearPaletteCache() {\n    paletteCache.clear();\n}\nexport function generatePaletteFromSeed(category, seed, autoAdjust, mode) {\n    if (autoAdjust === void 0) { autoAdjust = true; }\n    var cacheKey = getCacheKey(category, seed, autoAdjust, mode);\n    var cached = paletteCache.get(cacheKey);\n    if (cached) {\n        return cached;\n    }\n    var primaryPaletteSpec = new PrimaryPaletteSpecification();\n    var neutralPaletteSpec = new NeutralPaletteSpecification();\n    var warningPaletteSpec = new WarningPaletteSpecification();\n    var paletteSpec;\n    switch (category) {\n        case 'neutral':\n            paletteSpec = neutralPaletteSpec;\n            break;\n        case 'warning':\n            paletteSpec = warningPaletteSpec;\n            break;\n        case 'primary':\n        case 'error':\n        case 'success':\n        case 'info':\n        default:\n            paletteSpec = primaryPaletteSpec;\n    }\n    var generated = paletteSpec.getPalette(seed, autoAdjust, mode);\n    paletteCache.set(cacheKey, generated);\n    return generated;\n}\n", "import { __spreadArray } from \"tslib\";\nexport function isReferenceToken(category, theme, token) {\n    var _a;\n    var categoryTokens = (_a = theme.referenceTokens) === null || _a === void 0 ? void 0 : _a[category];\n    if (!categoryTokens)\n        return false;\n    return Object.entries(categoryTokens).some(function (_a) {\n        var type = _a[0], set = _a[1];\n        if (!set)\n            return false;\n        return Object.keys(set).some(function (step) { return generateReferenceTokenName(category, type, step) === token; });\n    });\n}\nexport function flattenObject(obj, prefix) {\n    if (prefix === void 0) { prefix = []; }\n    var result = {};\n    if (!obj || typeof obj !== 'object') {\n        return result;\n    }\n    for (var _i = 0, _a = Object.entries(obj); _i < _a.length; _i++) {\n        var _b = _a[_i], key = _b[0], value = _b[1];\n        var path = __spreadArray(__spreadArray([], prefix, true), [key], false);\n        if (typeof value === 'string') {\n            result[generateCamelCaseName.apply(void 0, path)] = value;\n        }\n        else if (isModeValue(value)) {\n            // Stop flattening at mode values - preserve them as Assignment\n            result[generateCamelCaseName.apply(void 0, path)] = value;\n        }\n        else if (value && typeof value === 'object') {\n            Object.assign(result, flattenObject(value, path));\n        }\n    }\n    return result;\n}\nexport function generateCamelCaseName() {\n    var segments = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        segments[_i] = arguments[_i];\n    }\n    return segments.reduce(function (acc, segment, index) { return acc + (index === 0 ? segment : segment.charAt(0).toUpperCase() + segment.slice(1)); }, '');\n}\nexport function flattenReferenceTokens(theme) {\n    var _a;\n    return ((_a = theme.referenceTokens) === null || _a === void 0 ? void 0 : _a.color) ? flattenObject(theme.referenceTokens.color, ['color']) : {};\n}\nexport function generateReferenceTokenName(category, type, step) {\n    return generateCamelCaseName(category, type, step);\n}\nexport function isValue(val) {\n    return typeof val === 'string' && !isReference(val);\n}\nexport function isReference(val) {\n    return typeof val === 'string' && val.charAt(0) === '{' && val.charAt(val.length - 1) === '}';\n}\nexport function isModeValue(val) {\n    return (typeof val === 'object' &&\n        val !== null &&\n        !Array.isArray(val) &&\n        // Exclude objects with numeric keys (palette steps like '500', '900')\n        !Object.keys(val).some(function (key) { return !isNaN(Number(key)); }) &&\n        !Object.keys(val).some(function (state) { return !(isValue(val[state]) || isReference(val[state])); }));\n}\nexport function areAssignmentsEqual(valueA, valueB) {\n    return (valueA === valueB ||\n        (typeof valueA === 'object' &&\n            typeof valueB == 'object' &&\n            Object.keys(valueA).length === Object.keys(valueB).length &&\n            Object.keys(valueA).every(function (key) { return valueA[key] === valueB[key]; })));\n}\nexport function isOptionalState(val) {\n    return 'selector' in val;\n}\nexport function getReference(reference) {\n    return reference.slice(1, reference.length - 1);\n}\nexport function collectReferencedTokens(theme, tokens) {\n    var referenced = new Set();\n    var visited = new Set();\n    var addReferences = function (value) {\n        if (isReference(value)) {\n            referenced.add(getReference(value));\n        }\n        else if (isModeValue(value)) {\n            Object.values(value).forEach(addReferences);\n        }\n    };\n    var processToken = function (token) {\n        if (visited.has(token))\n            return;\n        visited.add(token);\n        var value = theme.tokens[token];\n        if (value)\n            addReferences(value);\n        Object.values(theme.contexts).forEach(function (context) {\n            var contextValue = context.tokens[token];\n            if (contextValue)\n                addReferences(contextValue);\n        });\n    };\n    // Initial pass\n    tokens.forEach(processToken);\n    // Recursive passes until no new tokens found\n    var previousSize = 0;\n    var iterations = 0;\n    while (referenced.size > previousSize && iterations < 10) {\n        previousSize = referenced.size;\n        var newTokens = Array.from(referenced).filter(function (t) { return !visited.has(t); });\n        newTokens.forEach(processToken);\n        iterations++;\n    }\n    return Array.from(referenced);\n}\nexport function getMode(theme, token) {\n    var _a;\n    var modeId = theme.tokenModeMap[token];\n    return (_a = theme.modes[modeId]) !== null && _a !== void 0 ? _a : null;\n}\nexport function getDefaultState(mode) {\n    var states = Object.keys(mode.states);\n    for (var index = 0; index < states.length; index++) {\n        var state = states[index];\n        var option = mode.states[state];\n        if (option && 'default' in option && option[\"default\"]) {\n            return state;\n        }\n    }\n    throw new Error(\"Mode \".concat(JSON.stringify(mode), \" does not have a default state\"));\n}\nexport function isValidPaletteStep(step) {\n    return step >= 50 && step <= 1000 && step % 50 === 0;\n}\n", "import { __assign } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { generatePaletteFromSeed } from './color-generation/palette-generator';\nimport { generateReferenceTokenName, isValidPaletteStep } from './utils';\nexport function processReferenceTokens(colorTokens) {\n    var generatedTokens = {};\n    Object.entries(colorTokens).forEach(function (_a) {\n        var colorName = _a[0], paletteInput = _a[1];\n        var palette = processColorPaletteInput(colorName, paletteInput);\n        Object.entries(palette).forEach(function (_a) {\n            var step = _a[0], value = _a[1];\n            if (step !== 'seed') {\n                var tokenName = generateReferenceTokenName('color', colorName, step);\n                generatedTokens[tokenName] = value;\n            }\n        });\n    });\n    return generatedTokens;\n}\nfunction processSeedInput(category, seed) {\n    if (!seed)\n        return {};\n    if (typeof seed === 'string') {\n        return generatePaletteFromSeed(category, seed);\n    }\n    var palette = {};\n    Object.entries(seed).forEach(function (_a) {\n        var mode = _a[0], seedColor = _a[1];\n        if (typeof seedColor !== 'string')\n            return;\n        var modePalette = generatePaletteFromSeed(category, seedColor, true, mode);\n        Object.entries(modePalette).forEach(function (_a) {\n            var _b, _c;\n            var step = _a[0], value = _a[1];\n            var paletteStep = Number(step);\n            if (!isValidPaletteStep(paletteStep))\n                return;\n            var existing = palette[paletteStep];\n            palette[paletteStep] = typeof existing === 'object' ? __assign(__assign({}, existing), (_b = {}, _b[mode] = value, _b)) : (_c = {}, _c[mode] = value, _c);\n        });\n    });\n    return palette;\n}\nfunction mergeExplicitSteps(generated, input) {\n    var result = __assign({}, generated);\n    Object.entries(input).forEach(function (_a) {\n        var step = _a[0], value = _a[1];\n        if (step === 'seed') {\n            result.seed = value;\n            return;\n        }\n        var paletteStep = Number(step);\n        if (!value || !isValidPaletteStep(paletteStep))\n            return;\n        var generatedValue = generated[paletteStep];\n        // Merge mode objects, otherwise use explicit value\n        result[paletteStep] =\n            typeof generatedValue === 'object' && typeof value === 'object' ? __assign(__assign({}, generatedValue), value) : value;\n    });\n    return result;\n}\nexport function processColorPaletteInput(category, input) {\n    if (typeof input === 'string') {\n        return generatePaletteFromSeed(category, input);\n    }\n    var generated = processSeedInput(category, input.seed);\n    return mergeExplicitSteps(generated, input);\n}\n", "import { __assign } from \"tslib\";\nimport { processReferenceTokens } from './process';\nvar ThemeBuilder = /** @class */ (function () {\n    function ThemeBuilder(id, selector, modes) {\n        this.theme = {\n            id: id,\n            selector: selector,\n            modes: modes.reduce(function (acc, curr) {\n                acc[curr.id] = curr;\n                return acc;\n            }, {}),\n            tokens: {},\n            contexts: {},\n            tokenModeMap: {}\n        };\n    }\n    ThemeBuilder.prototype.addTokensToModeMap = function (tokens, mode) {\n        var modeMap = Object.keys(tokens).reduce(function (acc, token) {\n            acc[token] = mode.id;\n            return acc;\n        }, {});\n        this.theme.tokenModeMap = __assign(__assign({}, this.theme.tokenModeMap), modeMap);\n    };\n    ThemeBuilder.prototype.addTokens = function (tokens, mode) {\n        this.theme.tokens = __assign(__assign({}, this.theme.tokens), tokens);\n        if (mode) {\n            this.addTokensToModeMap(tokens, mode);\n        }\n        return this;\n    };\n    ThemeBuilder.prototype.addContext = function (context) {\n        this.theme.contexts[context.id] = context;\n        return this;\n    };\n    ThemeBuilder.prototype.addReferenceTokens = function (referenceTokens, mode) {\n        this.theme.referenceTokens = referenceTokens;\n        if (referenceTokens.color) {\n            var generatedTokens = processReferenceTokens(referenceTokens.color);\n            this.theme.tokens = __assign(__assign({}, generatedTokens), this.theme.tokens);\n            if (mode) {\n                this.addTokensToModeMap(generatedTokens, mode);\n            }\n        }\n        return this;\n    };\n    ThemeBuilder.prototype.build = function () {\n        return this.theme;\n    };\n    return ThemeBuilder;\n}());\nexport { ThemeBuilder };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport function cloneDeep(obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\n/*\n * Replace those simple helpers with platform features when changing TS target\n */\nexport function entries(obj) {\n    return Object.keys(obj).map(function (key) { return [key, obj[key]]; });\n}\n/**\n * This function mirrors the Object.fromEntries method.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/fromEntries\n */\nexport function fromEntries(entries) {\n    return entries.reduce(function (acc, _a) {\n        var key = _a[0], value = _a[1];\n        acc[key] = value;\n        return acc;\n    }, {});\n}\n/**\n * This function mirros the Object.values method.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Object/values\n */\nexport function values(some) {\n    return Object.keys(some).map(function (key) { return some[key]; });\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function includes(subject, search) {\n    return subject.indexOf(search) > -1;\n}\nexport function jsonToSass(json) {\n    return \"(\\n    \".concat(Object.keys(json)\n        .map(function (key) {\n        return \"'\".concat(key, \"': \").concat(typeof json[key] === 'string' ? \"\\\"\".concat(json[key], \"\\\"\") : jsonToSass(json[key]));\n    })\n        .join(',\\n'), \"\\n  )\");\n}\n", "import { __assign } from \"tslib\";\nimport { cloneDeep, values } from '../utils';\nimport { areAssignmentsEqual, getDefaultState, getMode, getReference, isModeValue, isReference, isReferenceToken, } from './utils';\n/**\n * If a base theme is provided, only keep tokens that are in the override theme or those that\n * have an overridden token in their resolution path\n */\nexport function resolveTheme(theme, baseTheme, propertiesMap) {\n    return resolveThemeWithPaths(theme, baseTheme, propertiesMap).resolvedTheme;\n}\nexport function resolveThemeWithPaths(theme, baseTheme, propertiesMap) {\n    var _a;\n    var resolvedTheme = {};\n    var resolutionPaths = {};\n    Object.keys((_a = baseTheme === null || baseTheme === void 0 ? void 0 : baseTheme.tokens) !== null && _a !== void 0 ? _a : theme.tokens).forEach(function (token) {\n        var mode = getMode(baseTheme !== null && baseTheme !== void 0 ? baseTheme : theme, token);\n        if (mode) {\n            var modeTokenResolutionPaths_1 = {};\n            var resolvedToken = Object.keys(mode.states).reduce(function (acc, state) {\n                modeTokenResolutionPaths_1[state] = [];\n                acc[state] = resolveToken(theme, token, modeTokenResolutionPaths_1[state], state, baseTheme, propertiesMap);\n                return acc;\n            }, {});\n            var tokenResolutionPathContainsOverriddenTokens = values(modeTokenResolutionPaths_1).some(function (tokenResolutionPath) {\n                return tokenResolutionPath.some(function (pathToken) { return pathToken in theme.tokens; });\n            });\n            if (!baseTheme || tokenResolutionPathContainsOverriddenTokens) {\n                resolutionPaths[token] = modeTokenResolutionPaths_1;\n                resolvedTheme[token] = resolvedToken;\n            }\n        }\n        else {\n            var tokenResolutionPath = [];\n            var resolvedToken = resolveToken(theme, token, tokenResolutionPath, undefined, baseTheme, propertiesMap);\n            if (!baseTheme || tokenResolutionPath.some(function (pathToken) { return pathToken in theme.tokens; })) {\n                resolutionPaths[token] = tokenResolutionPath;\n                resolvedTheme[token] = resolvedToken;\n            }\n        }\n    });\n    return { resolvedTheme: resolvedTheme, resolutionPaths: resolutionPaths };\n}\nfunction resolveToken(theme, token, path, state, baseTheme, propertiesMap) {\n    if (!theme.tokens[token] && !(baseTheme === null || baseTheme === void 0 ? void 0 : baseTheme.tokens[token])) {\n        throw new Error(\"Token \".concat(token, \" does not exist in the theme.\"));\n    }\n    if (path.includes(token)) {\n        throw new Error(\"Token \".concat(token, \" has a circular dependency.\"));\n    }\n    path.push(token);\n    var assignment = getAssignment(theme, token, state, baseTheme);\n    if (isReference(assignment)) {\n        var ref = getReference(assignment);\n        if ((propertiesMap === null || propertiesMap === void 0 ? void 0 : propertiesMap[ref]) && (theme.tokens[ref] || (baseTheme === null || baseTheme === void 0 ? void 0 : baseTheme.tokens[ref]))) {\n            return \"var(\".concat(propertiesMap[ref], \")\");\n        }\n        return resolveToken(theme, ref, path, state, baseTheme, propertiesMap);\n    }\n    return assignment;\n}\nfunction getAssignment(theme, token, state, baseTheme) {\n    var assignment = theme.tokens[token] || (baseTheme === null || baseTheme === void 0 ? void 0 : baseTheme.tokens[token]);\n    if (!assignment) {\n        throw new Error(\"Empty assignment for token \".concat(token));\n    }\n    if (isModeValue(assignment)) {\n        if (!state) {\n            throw new Error(\"Mode resolution for token \".concat(token, \" does not have any mode value. modes: \").concat(JSON.stringify(assignment)));\n        }\n        assignment = assignment[state];\n    }\n    return assignment;\n}\nexport function resolveContext(theme, context, baseTheme, themeResolution, propertiesMap) {\n    var tmp = cloneDeep(theme);\n    if (context.defaultMode && theme.modes) {\n        resolveModeReferenceTokens(tmp, context, baseTheme);\n    }\n    if (!baseTheme || !themeResolution) {\n        tmp.tokens = __assign(__assign({}, tmp.tokens), context.tokens);\n        return resolveTheme(tmp, baseTheme, propertiesMap);\n    }\n    tmp.tokens = applyContextPrecedenceRules(theme, context, baseTheme, themeResolution, propertiesMap);\n    return resolveTheme(tmp, baseTheme, propertiesMap);\n}\nfunction resolveModeReferenceTokens(theme, context, baseTheme) {\n    if (!context.defaultMode || !theme.modes)\n        return;\n    var defaultMode = context.defaultMode;\n    var mode = Object.values(theme.modes).find(function (m) { return m.states[defaultMode]; });\n    if (!mode)\n        return;\n    // Reference tokens must be resolved to their mode-specific values before path analysis\n    // because resolveThemeWithPaths expects concrete values, not mode objects. Without this,\n    // the resolution would fail when encountering reference tokens with mode values.\n    Object.keys(theme.tokens).forEach(function (token) {\n        if (isReferenceToken('color', theme, token)) {\n            var tokenValue = theme.tokens[token];\n            if (isModeValue(tokenValue)) {\n                theme.tokens[token] = tokenValue[defaultMode];\n            }\n        }\n    });\n    // Merge theme tokens with context overrides to analyze full resolution paths\n    var mergedTheme = __assign(__assign({}, theme), { tokens: __assign(__assign({}, theme.tokens), context.tokens) });\n    var resolutionPaths = resolveThemeWithPaths(mergedTheme, baseTheme).resolutionPaths;\n    // Add reference tokens to context\n    collectReferenceTokens(theme, resolutionPaths).forEach(function (token) {\n        context.tokens[token] = theme.tokens[token];\n    });\n    // Add parent tokens that depend on context-overridden tokens\n    var contextTokens = new Set(Object.keys(context.tokens));\n    Object.keys(theme.tokens).forEach(function (token) {\n        if (!contextTokens.has(token) && resolutionPaths[token]) {\n            var pathTokens = flattenResolutionPaths(resolutionPaths[token]);\n            if (pathTokens.some(function (pathToken) { return contextTokens.has(pathToken); })) {\n                context.tokens[token] = theme.tokens[token];\n            }\n        }\n    });\n}\nfunction applyContextPrecedenceRules(theme, context, baseTheme, themeResolution, propertiesMap) {\n    /**\n     * The precedence of context tokens as specified by the API from highest to lowest is:\n     * [override theme context] > [base theme context] > [override theme] > [base theme].\n     *\n     * The precedence of tokens as defined in the generated CSS follows this order.\n     * However, tokens that are declared in both the base theme and base theme\n     * context and share the same value are only included in the base theme css. This\n     * results in override theme tokens incorrectly taking precedence over base theme\n     * context.\n     *\n     * To counteract this we can re-baseline the override context using all keys used\n     * in the override theme with their respective values from the base theme context\n     */\n    var baseContext = baseTheme.contexts[context.id];\n    var baseResolution = resolveTheme(baseTheme, undefined, propertiesMap);\n    var overrideResolution = resolveTheme(theme, baseTheme, propertiesMap);\n    var rebaselined = Object.keys(themeResolution).reduce(function (acc, key) {\n        var _a, _b;\n        var shouldSkipReset = (!(key in baseContext.tokens) && !(key in theme.tokens)) ||\n            areAssignmentsEqual(baseResolution[key], overrideResolution[key]);\n        if (!shouldSkipReset) {\n            acc[key] = (_b = (_a = baseContext.tokens[key]) !== null && _a !== void 0 ? _a : theme.tokens[key]) !== null && _b !== void 0 ? _b : baseTheme.tokens[key];\n        }\n        return acc;\n    }, {});\n    return __assign(__assign({}, rebaselined), context.tokens);\n}\nexport function reduce(resolution, theme, reducer, baseTheme) {\n    return Object.keys(resolution).reduce(function (acc, token) {\n        var reduced = reducer(resolution[token], token, theme, baseTheme);\n        if (reduced) {\n            acc[token] = reduced;\n        }\n        return acc;\n    }, {});\n}\nexport var defaultsReducer = function () {\n    return function (tokenResolution, token, theme, baseTheme) {\n        var mode = getMode(baseTheme !== null && baseTheme !== void 0 ? baseTheme : theme, token);\n        if (mode && isModeTokenResolution(tokenResolution)) {\n            var defaultState = getDefaultState(mode);\n            return tokenResolution[defaultState];\n        }\n        else if (isSpecificTokenResolution(tokenResolution)) {\n            return tokenResolution;\n        }\n        else {\n            throw new Error(\"Mismatch between resolution \".concat(JSON.stringify(tokenResolution), \" and mode \").concat(mode));\n        }\n    };\n};\nexport var modeReducer = function (mode, state) {\n    return function (tokenResolution, token, theme, baseTheme) {\n        var tokenMode = getMode(baseTheme !== null && baseTheme !== void 0 ? baseTheme : theme, token);\n        if (tokenMode && tokenMode.id === mode.id && isModeTokenResolution(tokenResolution)) {\n            return tokenResolution[state];\n        }\n        else if (isSpecificTokenResolution(tokenResolution)) {\n            return tokenResolution;\n        }\n    };\n};\nexport function difference(base, other) {\n    var result = {};\n    Object.keys(other).forEach(function (token) {\n        var baseVal = base[token];\n        var otherVal = other[token];\n        if (isSpecificTokenResolution(baseVal) && isSpecificTokenResolution(otherVal) && baseVal !== otherVal) {\n            result[token] = otherVal;\n        }\n        else if (isModeTokenResolution(baseVal) && isModeTokenResolution(otherVal)) {\n            var resolved = Object.keys(otherVal).reduce(function (acc, state) {\n                if (baseVal[state] !== otherVal[state]) {\n                    acc[state] = otherVal[state];\n                }\n                return acc;\n            }, {});\n            if (!isEmpty(resolved)) {\n                result[token] = resolved;\n            }\n        }\n    });\n    return result;\n}\nexport function isModeTokenResolution(val) {\n    return typeof val === 'object';\n}\nexport function isSpecificTokenResolution(val) {\n    return typeof val === 'string';\n}\nvar isEmpty = function (obj) { return Object.keys(obj).length === 0; };\nfunction flattenResolutionPaths(pathOrPaths) {\n    var _a;\n    return typeof pathOrPaths === 'object' && !Array.isArray(pathOrPaths)\n        ? (_a = []).concat.apply(_a, Object.values(pathOrPaths)) : pathOrPaths;\n}\nfunction collectReferenceTokens(theme, resolutionPaths) {\n    var referenceTokens = new Set();\n    Object.values(resolutionPaths).forEach(function (pathOrPaths) {\n        var allPaths = flattenResolutionPaths(pathOrPaths);\n        allPaths.forEach(function (token) {\n            if (isReferenceToken('color', theme, token)) {\n                referenceTokens.add(token);\n            }\n        });\n    });\n    return referenceTokens;\n}\n", "import { __assign, __spreadArray } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { entries, fromEntries, includes } from '../utils';\nimport { processReferenceTokens } from './process';\n/**\n * This function compares the theme override against the list of tokens that are allowed\n * to be themed. Only those overrides that use allowed tokens are returned. Other tokens are\n * dropped and a warning is emitted to the console.\n * If the theme override contains visual-context-specific overrides, only those overrides\n * that specify known context IDs are returned. Other visual-context-specific overrides\n * are dropped and a warning is emitted to the console.\n */\nexport function validateOverride(override, themeable, availableContexts) {\n    var _a;\n    // The following two validations should not be possible, if customer uses\n    // Typescript in their project. However, it might be easily overseen in a Javascript\n    // project. Therefore, we supply additional hints beyond just types.\n    if (typeof override.tokens !== 'object' || Array.isArray(override.tokens) || override.tokens === null) {\n        throw new Error(\"Missing required \\\"tokens\\\" object field in \".concat(JSON.stringify(override)));\n    }\n    // This cache is used so that we emit only one warning per token name.\n    var unthemeableTokenWarningCache = {};\n    function isThemeable(token) {\n        var isThemeable = includes(themeable, token);\n        if (!isThemeable && !(token in unthemeableTokenWarningCache)) {\n            console.warn(\"\".concat(token, \" is not themeable and will be ignored during theming\"));\n            unthemeableTokenWarningCache[token] = true;\n        }\n        return isThemeable;\n    }\n    function isValidContextId(contextId) {\n        var isValid = includes(availableContexts, contextId);\n        if (!isValid) {\n            console.warn(\"\".concat(contextId, \" is not a valid ID of a visual context and will be ignored during theming.\"));\n        }\n        return isValid;\n    }\n    var tokensEntries = entries(override.tokens).filter(function (_a) {\n        var token = _a[0];\n        return isThemeable(token);\n    });\n    var contextEntries = (override.contexts\n        ? entries(override.contexts).filter(function (_a) {\n            var context = _a[1];\n            return context !== undefined;\n        })\n        : [])\n        .filter(function (_a) {\n        var contextId = _a[0];\n        return isValidContextId(contextId);\n    })\n        .map(function (_a) {\n        var contextId = _a[0], context = _a[1];\n        var filteredTokens = entries(context.tokens).filter(function (_a) {\n            var token = _a[0];\n            return isThemeable(token);\n        });\n        var from = fromEntries(filteredTokens);\n        var newContext = __assign(__assign({}, context), { tokens: from });\n        return [contextId, newContext];\n    });\n    var completeTokens = {};\n    if ((_a = override.referenceTokens) === null || _a === void 0 ? void 0 : _a.color) {\n        var generatedTokens = processReferenceTokens(override.referenceTokens.color);\n        // Reference tokens should override existing tokens\n        completeTokens = __assign(__assign({}, fromEntries(tokensEntries)), generatedTokens);\n    }\n    else {\n        completeTokens = fromEntries(tokensEntries);\n    }\n    return {\n        contexts: fromEntries(contextEntries),\n        tokens: completeTokens,\n        referenceTokens: override.referenceTokens\n    };\n}\nexport function getContexts(preset) {\n    var _a;\n    var themes = __spreadArray([preset.theme], ((_a = preset.secondary) !== null && _a !== void 0 ? _a : []), true);\n    var contexts = [];\n    for (var _i = 0, themes_1 = themes; _i < themes_1.length; _i++) {\n        var theme = themes_1[_i];\n        Object.keys(theme.contexts).forEach(function (contextName) {\n            if (contexts.indexOf(contextName) === -1) {\n                contexts.push(contextName);\n            }\n        });\n    }\n    return contexts;\n}\nexport function getThemeFromPreset(preset, baseThemeId) {\n    var _a;\n    if (!baseThemeId) {\n        return preset.theme;\n    }\n    var themesMap = __spreadArray([preset.theme], ((_a = preset.secondary) !== null && _a !== void 0 ? _a : []), true).reduce(function (accThemesMap, currentTheme) {\n        accThemesMap[currentTheme.id] = currentTheme;\n        return accThemesMap;\n    }, {});\n    if (!themesMap[baseThemeId]) {\n        throw new Error(\"Specified baseThemeId '\".concat(baseThemeId, \"' is not available. Available values are \").concat(Object.keys(themesMap)\n            .map(function (value) { return \"'\".concat(value, \"'\"); })\n            .join(', '), \".\"));\n    }\n    return themesMap[baseThemeId];\n}\n", "import { __assign } from \"tslib\";\nimport { cloneDeep, entries } from '../utils';\nimport { getMode, isModeValue, isReference, isValue } from './utils';\n/**\n * This function applies all tokens from the override to the theme.\n * It returns the resulting theme. The original theme object is modified.\n */\nexport function mergeInPlace(theme, override) {\n    function withTokenApplied(originalValue, token, update) {\n        var isGlobal = isValue(update) || isReference(update);\n        var mode = getMode(theme, token);\n        if (mode && isGlobal) {\n            return Object.keys(mode.states).reduce(function (acc, state) {\n                acc[state] = update;\n                return acc;\n            }, {});\n        }\n        else if ((isModeValue(originalValue) || originalValue === undefined) && isModeValue(update)) {\n            return __assign(__assign({}, originalValue), update);\n        }\n        else if (isGlobal) {\n            return update;\n        }\n        else {\n            console.warn('The value for this token cannot be merged into the theme:', token);\n        }\n    }\n    // Merge root-level tokens into the theme\n    entries(override.tokens).forEach(function (_a) {\n        var token = _a[0], update = _a[1];\n        var newValue = withTokenApplied(theme.tokens[token], token, update);\n        if (newValue) {\n            theme.tokens[token] = newValue;\n        }\n    });\n    // Merge context-specific tokens into each context\n    if (override.contexts) {\n        entries(override.contexts).forEach(function (_a) {\n            var contextId = _a[0], context = _a[1];\n            var themeContext = theme.contexts[contextId];\n            if (!context || !themeContext) {\n                return;\n            }\n            entries(context.tokens).forEach(function (_a) {\n                var _b;\n                var token = _a[0], update = _a[1];\n                var originalValue = (_b = themeContext.tokens[token]) !== null && _b !== void 0 ? _b : theme.tokens[token];\n                var newValue = withTokenApplied(originalValue, token, update);\n                if (newValue) {\n                    theme.contexts[contextId].tokens[token] = newValue;\n                }\n            });\n        });\n    }\n    return theme;\n}\n/**\n * This function applies all tokens from the override to the theme.\n * It returns the resulting theme. The original theme object is not\n * modified.\n */\nexport function merge(theme, override) {\n    var result = cloneDeep(theme);\n    return mergeInPlace(result, override);\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Allows building a stylesheet by appending selectors and declarations. A call of\n * `toString` will return CSS.\n */\nvar Stylesheet = /** @class */ (function () {\n    function Stylesheet() {\n        this.rulesMap = new Map();\n        this.paths = new Map();\n        this.counter = 0;\n    }\n    Stylesheet.prototype.appendRule = function (rule) {\n        this.rulesMap.set(rule.selector, [rule, this.counter++]);\n    };\n    Stylesheet.prototype.appendRuleWithPath = function (rule, path) {\n        this.rulesMap.set(rule.selector, [rule, this.counter++]);\n        this.paths.set(rule, path);\n    };\n    Stylesheet.prototype.removeRule = function (rule) {\n        this.rulesMap[\"delete\"](rule.selector);\n        this.paths[\"delete\"](rule);\n    };\n    Stylesheet.prototype.findRule = function (selector) {\n        var ruleOrUndefined = this.rulesMap.get(selector);\n        return ruleOrUndefined === null || ruleOrUndefined === void 0 ? void 0 : ruleOrUndefined[0];\n    };\n    Stylesheet.prototype.getPath = function (rule) {\n        var path = this.paths.get(rule);\n        if (!path) {\n            throw new Error(\"No path for rule with selector: \".concat(rule.selector));\n        }\n        return path;\n    };\n    Stylesheet.prototype.getAllRules = function () {\n        var rules = [];\n        this.paths.forEach(function (_, key) { return rules.push(key); });\n        return rules;\n    };\n    /**\n     * @returns CSS\n     */\n    Stylesheet.prototype.toString = function () {\n        return asValuesArray(this.rulesMap)\n            .map(function (rule) { return rule.toString(); })\n            .join('\\n');\n    };\n    return Stylesheet;\n}());\nexport default Stylesheet;\nvar Rule = /** @class */ (function () {\n    function Rule(selector, media) {\n        this.declarationsMap = new Map();\n        this.counter = 0;\n        this.selector = selector;\n        this.media = media;\n    }\n    Rule.prototype.appendDeclaration = function (declaration) {\n        this.declarationsMap.set(declaration.property, [declaration, this.counter++]);\n    };\n    Rule.prototype.clear = function () {\n        this.declarationsMap = new Map();\n        this.counter = 0;\n    };\n    Rule.prototype.getAllDeclarations = function () {\n        return asValuesArray(this.declarationsMap);\n    };\n    Rule.prototype.size = function () {\n        return this.declarationsMap.size;\n    };\n    Rule.prototype.toString = function () {\n        var lines = asValuesArray(this.declarationsMap).map(function (decl) { return decl.toString(); });\n        var rule = \"\".concat(this.selector, \"{\\n\\t\").concat(lines.join('\\n\\t'), \"\\n}\");\n        if (this.media) {\n            return \"@media \".concat(this.media, \" {\").concat(rule, \"}\");\n        }\n        return rule;\n    };\n    Rule.prototype.isModeRule = function () {\n        return !!this.media;\n    };\n    return Rule;\n}());\nexport { Rule };\nvar Declaration = /** @class */ (function () {\n    function Declaration(property, value) {\n        this.property = property;\n        this.value = value;\n    }\n    Declaration.prototype.toString = function () {\n        return \"\".concat(this.property, \":\").concat(this.value, \";\");\n    };\n    return Declaration;\n}());\nexport { Declaration };\nfunction asValuesArray(map) {\n    var tmp = [];\n    map.forEach(function (_a) {\n        var item = _a[0], position = _a[1];\n        return tmp.push([item, position]);\n    });\n    tmp.sort(function (_a, _b) {\n        var itemA = _a[0], posA = _a[1];\n        var itemB = _b[0], posB = _b[1];\n        return posA - posB;\n    });\n    return tmp.map(function (_a) {\n        var item = _a[0];\n        return item;\n    });\n}\n", "import { Rule, Declaration } from './stylesheet';\nimport { entries } from '../utils';\nvar RuleCreator = /** @class */ (function () {\n    function RuleCreator(selector, registry) {\n        this.selector = selector;\n        this.registry = registry;\n    }\n    RuleCreator.prototype.create = function (config, resolution) {\n        var _this = this;\n        var rule = new Rule(this.selectorFor(config), config.media);\n        entries(resolution).forEach(function (_a) {\n            var token = _a[0], value = _a[1];\n            var property = _this.registry.get(token);\n            if (property) {\n                rule.appendDeclaration(new Declaration(property, value));\n            }\n        });\n        return rule;\n    };\n    RuleCreator.prototype.selectorFor = function (config) {\n        return this.selector[\"for\"](config);\n    };\n    return RuleCreator;\n}());\nexport { RuleCreator };\n", "import { isOptionalState } from '../theme/utils';\nimport { entries } from '../utils';\n/**\n * Common used helpers by stylesheet creator\n */\nvar AbstractCreator = /** @class */ (function () {\n    function AbstractCreator() {\n    }\n    AbstractCreator.forEachOptionalModeState = function (theme, func) {\n        Object.keys(theme.modes).forEach(function (key) {\n            var mode = theme.modes[key];\n            entries(mode.states).forEach(function (_a) {\n                var stateKey = _a[0], state = _a[1];\n                if (isOptionalState(state)) {\n                    func(mode, stateKey);\n                }\n            });\n        });\n    };\n    AbstractCreator.forEachContext = function (theme, func) {\n        Object.keys(theme.contexts).forEach(function (key) {\n            var context = theme.contexts[key];\n            func(context);\n        });\n    };\n    AbstractCreator.forEachContextWithinOptionalModeState = function (theme, func) {\n        AbstractCreator.forEachOptionalModeState(theme, function (mode, stateKey) {\n            AbstractCreator.forEachContext(theme, function (context) {\n                func(context, mode, stateKey);\n            });\n        });\n    };\n    AbstractCreator.appendRuleToStylesheet = function (stylesheet, rule, path) {\n        if (rule.size()) {\n            stylesheet.appendRuleWithPath(rule, path);\n        }\n    };\n    return AbstractCreator;\n}());\nexport { AbstractCreator };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport function compact(arr) {\n    var result = [];\n    for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\n        var item = arr_1[_i];\n        if (item !== undefined) {\n            result.push(item);\n        }\n    }\n    return result;\n}\n/**\n * Extracts the CSS variable name from a var() reference.\n * @param value - Token value that may contain a var() reference\n * @returns The variable name (e.g., '--color-primary') or null if not a var() reference\n */\nexport function getReferencedVar(value) {\n    var match = value.match(/var\\((--[^)]+)\\)/);\n    return match ? match[1] : null;\n}\n", "import { __extends } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { defaultsReducer, modeReducer, reduce, resolveContext, resolveTheme, } from '../theme';\nimport Stylesheet from './stylesheet';\nimport { AbstractCreator } from './abstract';\nimport { compact } from './utils';\nvar SingleThemeCreator = /** @class */ (function (_super) {\n    __extends(SingleThemeCreator, _super);\n    function SingleThemeCreator(theme, ruleCreator, baseTheme, propertiesMap) {\n        var _this = _super.call(this) || this;\n        _this.theme = theme;\n        _this.baseTheme = baseTheme;\n        _this.propertiesMap = propertiesMap;\n        _this.resolution = resolveTheme(theme, _this.baseTheme, propertiesMap);\n        _this.ruleCreator = ruleCreator;\n        return _this;\n    }\n    SingleThemeCreator.prototype.create = function () {\n        var _this = this;\n        var stylesheet = new Stylesheet();\n        var defaults = reduce(this.resolution, this.theme, defaultsReducer(), this.baseTheme);\n        var rootRule = this.ruleCreator.create({ global: [this.theme.selector] }, defaults);\n        SingleThemeCreator.appendRuleToStylesheet(stylesheet, rootRule, []);\n        SingleThemeCreator.forEachOptionalModeState(this.theme, function (mode, state) {\n            var modeResolution = reduce(_this.resolution, _this.theme, modeReducer(mode, state), _this.baseTheme);\n            var stateDetails = mode.states[state];\n            var modeRule = _this.ruleCreator.create({ global: [_this.theme.selector, stateDetails.selector], media: stateDetails.media }, modeResolution);\n            SingleThemeCreator.appendRuleToStylesheet(stylesheet, modeRule, [rootRule]);\n        });\n        SingleThemeCreator.forEachContext(this.theme, function (context) {\n            var contextResolution = reduce(resolveContext(_this.theme, context, _this.baseTheme, _this.resolution, _this.propertiesMap), _this.theme, defaultsReducer(), _this.baseTheme);\n            var contextRule = _this.ruleCreator.create({ global: [_this.theme.selector], local: [context.selector] }, contextResolution);\n            SingleThemeCreator.appendRuleToStylesheet(stylesheet, contextRule, [rootRule]);\n            var contextRule2 = _this.ruleCreator.create({ global: [_this.theme.selector, context.selector] }, contextResolution);\n            SingleThemeCreator.appendRuleToStylesheet(stylesheet, contextRule2, [rootRule]);\n        });\n        SingleThemeCreator.forEachContextWithinOptionalModeState(this.theme, function (context, mode, state) {\n            var contextResolution = reduce(resolveContext(_this.theme, context, _this.baseTheme, _this.resolution, _this.propertiesMap), _this.theme, modeReducer(mode, state), _this.baseTheme);\n            var stateDetails = mode.states[state];\n            var contextAndModeRule = _this.ruleCreator.create({ global: [_this.theme.selector, stateDetails.selector], local: [context.selector], media: stateDetails.media }, contextResolution);\n            var contextRule = stylesheet.findRule(_this.ruleCreator.selectorFor({ global: [_this.theme.selector], local: [context.selector] }));\n            var modeRule = stylesheet.findRule(_this.ruleCreator.selectorFor({\n                global: [_this.theme.selector, mode.states[state].selector]\n            }));\n            var contextRuleGlobal = stylesheet.findRule(_this.ruleCreator.selectorFor({ global: [_this.theme.selector, context.selector] }));\n            SingleThemeCreator.appendRuleToStylesheet(stylesheet, contextAndModeRule, compact([contextRule, modeRule, rootRule]));\n            var contextRuleAndModeRuleGlobal = _this.ruleCreator.create({ global: [_this.theme.selector, stateDetails.selector, context.selector], media: stateDetails.media }, contextResolution);\n            SingleThemeCreator.appendRuleToStylesheet(stylesheet, contextRuleAndModeRuleGlobal, compact([contextRuleGlobal, modeRule, rootRule]));\n        });\n        return stylesheet;\n    };\n    return SingleThemeCreator;\n}(AbstractCreator));\nexport { SingleThemeCreator };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { includes } from '../utils';\n// The idea to use a special :not(#\\9) selector to increase CSS specificity came from:\n// https://github.com/MadLittleMods/postcss-increase-specificity\nvar specificitySuffix = ':not(#\\\\9)';\nexport function increaseSpecificity(selector) {\n    var _a = selector.split(':'), main = _a[0], pseudo = _a.slice(1);\n    var pseudoSuffix = pseudo.length ? ':' + pseudo.join(':') : '';\n    return \"\".concat(main).concat(specificitySuffix).concat(pseudoSuffix);\n}\nexport var isIncreased = function (selector) { return includes(selector, specificitySuffix); };\nexport var globalSelectors = [':root', 'body', 'html'];\nexport var isGlobalSelector = function (selector) {\n    return globalSelectors.indexOf(selector) > -1;\n};\nexport function getFirstSelector(selector) {\n    return selector.split(/[\\s.:[\\]]/)[0];\n}\n/**\n * Detects and repeats class names to increase specificity, otherwise\n * fall back to increase by id\n * @param selectors\n * @returns\n */\nexport function increaseSpecificityGradually(selectors) {\n    var split = selectors.split(',').map(repeatClassNameOrAddID);\n    return split.join(',');\n}\nfunction repeatClassNameOrAddID(selector) {\n    var result = /[:.][\\w_-]+/.exec(selector);\n    // exec without g flag will return max one match\n    if ((result === null || result === void 0 ? void 0 : result.length) === 1) {\n        var match = result[0];\n        var index = result.index;\n        return \"\".concat(selector.substring(0, index)).concat(match).concat(selector.substring(index));\n    }\n    return increaseSpecificity(selector);\n}\n", "import { __extends, __spreadArray } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { isGlobalSelector } from '../styles/selector';\nimport { defaultsReducer, modeReducer, reduce, resolveContext, resolveTheme } from '../theme';\nimport { AbstractCreator } from './abstract';\nimport { SingleThemeCreator } from './single';\nimport Stylesheet from './stylesheet';\nimport { compact } from './utils';\n/**\n * Extends the single theme stylesheet creator by a secondary theme, which takes the existing theme as\n * base.\n */\nvar MultiThemeCreator = /** @class */ (function (_super) {\n    __extends(MultiThemeCreator, _super);\n    function MultiThemeCreator(themes, ruleCreator, propertiesMap) {\n        var _this = _super.call(this) || this;\n        _this.themes = themes;\n        _this.ruleCreator = ruleCreator;\n        _this.propertiesMap = propertiesMap;\n        return _this;\n    }\n    MultiThemeCreator.prototype.create = function () {\n        var _this = this;\n        var globalThemes = this.themes.filter(function (theme) { return isGlobalSelector(theme.selector); });\n        if (globalThemes.length > 1) {\n            throw new Error(\"Themes \".concat(globalThemes\n                .map(function (_a) {\n                var id = _a.id;\n                return id;\n            })\n                .join(', '), \" have a global selector. It is not supported to have more than one global theme. It produces unpredictable styling results.\"));\n        }\n        if (!globalThemes.length) {\n            // If there is no root theme, all themes are scoped by their root selector. No interference.\n            var stylesheets = this.themes.map(function (theme) {\n                return new SingleThemeCreator(theme, _this.ruleCreator, undefined, _this.propertiesMap).create();\n            });\n            var result_1 = new Stylesheet();\n            stylesheets.forEach(function (stylesheet) {\n                stylesheet.getAllRules().map(function (rule) { var _a; return result_1.appendRuleWithPath(rule, (_a = stylesheet.getPath(rule)) !== null && _a !== void 0 ? _a : []); });\n            });\n            return result_1;\n        }\n        var globalTheme = globalThemes[0];\n        var stylesheet = new SingleThemeCreator(globalTheme, this.ruleCreator, undefined, this.propertiesMap).create();\n        var secondaries = this.getThemesWithout(globalTheme);\n        secondaries.forEach(function (secondary) {\n            _this.appendRulesForSecondary(stylesheet, globalTheme, secondary);\n        });\n        return stylesheet;\n    };\n    MultiThemeCreator.prototype.appendRulesForSecondary = function (stylesheet, primary, secondary) {\n        var _this = this;\n        var secondaryResolution = resolveTheme(secondary, undefined, this.propertiesMap);\n        var defaults = reduce(secondaryResolution, secondary, defaultsReducer());\n        var rootRule = this.ruleCreator.create({ global: [secondary.selector] }, defaults);\n        var parentRule = this.findRule(stylesheet, { global: [primary.selector] });\n        MultiThemeCreator.appendRuleToStylesheet(stylesheet, rootRule, compact([parentRule]));\n        MultiThemeCreator.forEachOptionalModeState(secondary, function (mode, state) {\n            var optionalState = mode.states[state];\n            var modeResolution = reduce(secondaryResolution, secondary, modeReducer(mode, state));\n            var modeRule = _this.ruleCreator.create({ global: [secondary.selector, optionalState.selector], media: optionalState.media }, modeResolution);\n            var parentModeRule = stylesheet.findRule(_this.ruleCreator.selectorFor({\n                global: [primary.selector, optionalState.selector]\n            }));\n            MultiThemeCreator.appendRuleToStylesheet(stylesheet, modeRule, compact([rootRule, parentModeRule, parentRule]));\n        });\n        MultiThemeCreator.forEachContext(secondary, function (context) {\n            var contextResolution = reduce(resolveContext(secondary, context, undefined, undefined, _this.propertiesMap), secondary, defaultsReducer());\n            var contextRule = _this.ruleCreator.create({ global: [secondary.selector], local: [context.selector] }, contextResolution);\n            var parentContextRule = stylesheet.findRule(_this.ruleCreator.selectorFor({\n                global: [primary.selector],\n                local: [context.selector]\n            }));\n            MultiThemeCreator.appendRuleToStylesheet(stylesheet, contextRule, compact([parentContextRule, rootRule, parentRule]));\n            var contextRuleGlobal = _this.ruleCreator.create({ global: [secondary.selector, context.selector] }, contextResolution);\n            MultiThemeCreator.appendRuleToStylesheet(stylesheet, contextRuleGlobal, compact([rootRule, parentContextRule, parentRule]));\n        });\n        MultiThemeCreator.forEachContextWithinOptionalModeState(secondary, function (context, mode, state) {\n            var optionalState = mode.states[state];\n            var contextResolution = reduce(resolveContext(secondary, context, undefined, undefined, _this.propertiesMap), secondary, modeReducer(mode, state));\n            var contextRule = _this.findRule(stylesheet, { global: [secondary.selector], local: [context.selector] });\n            var modeRule = _this.findRule(stylesheet, {\n                global: [secondary.selector, optionalState.selector]\n            });\n            var contextAndModeRule = _this.ruleCreator.create({\n                global: [secondary.selector, optionalState.selector],\n                local: [context.selector],\n                media: optionalState.media\n            }, contextResolution);\n            var parentContextRule = stylesheet.findRule(_this.ruleCreator.selectorFor({ global: [primary.selector], local: [context.selector] }));\n            var parentModeRule = stylesheet.findRule(_this.ruleCreator.selectorFor({\n                global: [primary.selector, optionalState.selector]\n            }));\n            var parentContextAndModeRule = stylesheet.findRule(_this.ruleCreator.selectorFor({\n                global: [primary.selector, optionalState.selector],\n                local: [context.selector]\n            }));\n            MultiThemeCreator.appendRuleToStylesheet(stylesheet, contextAndModeRule, compact([\n                contextRule,\n                parentContextAndModeRule,\n                parentContextRule,\n                modeRule,\n                rootRule,\n                parentModeRule,\n                parentRule,\n            ]));\n            var parentContextAndModeRuleGlobal = stylesheet.findRule(_this.ruleCreator.selectorFor({ global: [secondary.selector, context.selector] }));\n            var contextAndModeRuleGlobal = _this.ruleCreator.create({\n                global: [secondary.selector, optionalState.selector, context.selector],\n                media: optionalState.media\n            }, contextResolution);\n            MultiThemeCreator.appendRuleToStylesheet(stylesheet, contextAndModeRuleGlobal, compact([\n                contextRule,\n                modeRule,\n                parentContextAndModeRuleGlobal,\n                rootRule,\n                parentContextRule,\n                parentModeRule,\n                parentRule,\n            ]));\n        });\n        return stylesheet;\n    };\n    MultiThemeCreator.prototype.findRule = function (stylesheet, config) {\n        var rule = stylesheet.findRule(this.ruleCreator.selectorFor(config));\n        if (!rule) {\n            // Rules are creating in reverse order to dependency, which is why\n            // we should always have a rule.\n            throw new Error(\"No rule for selector \".concat(JSON.stringify(config), \" found\"));\n        }\n        return rule;\n    };\n    MultiThemeCreator.prototype.getThemesWithout = function (theme) {\n        var idx = this.themes.indexOf(theme);\n        return __spreadArray(__spreadArray([], this.themes.slice(0, idx), true), this.themes.slice(idx + 1), true);\n    };\n    return MultiThemeCreator;\n}(AbstractCreator));\nexport { MultiThemeCreator };\n", "import { isGlobalSelector } from '../styles/selector';\nvar Selector = /** @class */ (function () {\n    function Selector(customizer) {\n        this.customizer = customizer;\n    }\n    Selector.prototype[\"for\"] = function (_a) {\n        var global = _a.global, local = _a.local;\n        if (global.length === 1 && !(local === null || local === void 0 ? void 0 : local.length) && isGlobalSelector(global[0])) {\n            // Global selectors (:root, body, html) are only applied alone\n            return this.customizer(global[0]);\n        }\n        var nonGlobalSelectors = global.filter(function (f) { return !isGlobalSelector(f); });\n        var selector = this.toSelector(nonGlobalSelectors);\n        if (local === null || local === void 0 ? void 0 : local.length) {\n            selector += \" \".concat(this.toSelector(local));\n        }\n        return this.customizer(selector.trim());\n    };\n    Selector.prototype.toSelector = function (individuals) {\n        // Sort to guarantee a stable generation - element selectors first, then class selectors\n        var isElement = function (selector) {\n            return ['.', ':', '#'].indexOf(selector.charAt(0)) === -1;\n        };\n        return individuals\n            .slice()\n            .sort(function (a, b) {\n            if (isElement(a) && !isElement(b))\n                return -1;\n            if (!isElement(a) && isElement(b))\n                return 1;\n            return a.localeCompare(b);\n        })\n            .join('');\n    };\n    return Selector;\n}());\nexport { Selector };\n", "var AllPropertyRegistry = /** @class */ (function () {\n    function AllPropertyRegistry(propertiesMap) {\n        this.map = propertiesMap;\n    }\n    AllPropertyRegistry.prototype.get = function (token) {\n        var property = this.map[token];\n        if (!property) {\n            throw new Error(\"Token \".concat(token, \" does not have a property\"));\n        }\n        return property;\n    };\n    return AllPropertyRegistry;\n}());\nexport { AllPropertyRegistry };\nvar UsedPropertyRegistry = /** @class */ (function () {\n    function UsedPropertyRegistry(propertiesMap, used) {\n        this.map = propertiesMap;\n        this.used = used;\n    }\n    UsedPropertyRegistry.prototype.get = function (token) {\n        if (this.used.indexOf(token) > -1) {\n            return this.map[token];\n        }\n        return undefined;\n    };\n    return UsedPropertyRegistry;\n}());\nexport { UsedPropertyRegistry };\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { entries } from '../utils';\nimport { Declaration } from './stylesheet';\nimport { getFirstSelector, isGlobalSelector } from '../styles/selector';\nimport { getReferencedVar } from './utils';\nvar MinimalTransformer = /** @class */ (function () {\n    function MinimalTransformer() {\n    }\n    MinimalTransformer.prototype.transform = function (stylesheet) {\n        var rules = stylesheet.getAllRules();\n        var rulesWithPath = rules.map(function (rule) { return ({\n            rule: rule,\n            path: stylesheet.getPath(rule)\n        }); });\n        var sorted = rulesWithPath.sort(function (_a, _b) {\n            var pathA = _a.path;\n            var pathB = _b.path;\n            return pathA.length - pathB.length;\n        });\n        sorted.forEach(function (_a) {\n            var rule = _a.rule, path = _a.path;\n            if (path.length === 0) {\n                // Root rule nothing to see here.\n                return;\n            }\n            var resolvedParent = {};\n            for (var i = path.length - 1; i >= 0; i--) {\n                var parent_1 = path[i];\n                var declarations = parent_1.getAllDeclarations();\n                declarations.forEach(function (decl) {\n                    resolvedParent[decl.property] = decl.value;\n                });\n            }\n            var ruleValue = rule.getAllDeclarations().reduce(function (acc, decl) {\n                acc[decl.property] = decl.value;\n                return acc;\n            }, {});\n            var diff = difference(resolvedParent, ruleValue);\n            // CSS variables with nested var() references need special handling for non-global selectors.\n            // Even if the selector doesn't explicitly show a descendant combinator (like `.navigation`),\n            // it will be a descendant of `body` in the DOM. When a descendant overrides a token,\n            // tokens that reference it must be re-output, otherwise they resolve in the parent context.\n            //\n            // However, for mode rules (which have media queries), we should skip tokens that have\n            // identical values to their parent, even if referenced variables are overridden. These can inherit\n            // properly via natural css variable cascade rules.\n            var firstSelector = getFirstSelector(rule.selector);\n            var isModeRule = rule.isModeRule();\n            if (isGlobalSelector(firstSelector)) {\n                rule.clear();\n                entries(diff).forEach(function (_a) {\n                    var property = _a[0], value = _a[1];\n                    return rule.appendDeclaration(new Declaration(property, value));\n                });\n                if (rule.size() === 0) {\n                    stylesheet.removeRule(rule);\n                }\n                return;\n            }\n            var isOverridden = function (varName, visited) {\n                if (visited === void 0) { visited = new Set(); }\n                if (visited.has(varName))\n                    return false;\n                visited.add(varName);\n                var isDirectlyOverridden = varName in ruleValue && varName in resolvedParent && ruleValue[varName] !== resolvedParent[varName];\n                if (isDirectlyOverridden)\n                    return true;\n                var referencedVar = varName in ruleValue ? getReferencedVar(ruleValue[varName]) : null;\n                return referencedVar ? isOverridden(referencedVar, visited) : false;\n            };\n            Object.keys(ruleValue).forEach(function (property) {\n                var referencedVar = getReferencedVar(ruleValue[property]);\n                if (!referencedVar || !isOverridden(referencedVar))\n                    return;\n                // For mode rules, only output if value actually differs from resolved parent\n                // For context rules, always output to ensure correct resolution\n                var canInherit = isModeRule && ruleValue[property] === resolvedParent[property];\n                if (canInherit)\n                    return;\n                if (!(property in diff)) {\n                    diff[property] = ruleValue[property];\n                }\n            });\n            rule.clear();\n            entries(diff).forEach(function (_a) {\n                var property = _a[0], value = _a[1];\n                return rule.appendDeclaration(new Declaration(property, value));\n            });\n            if (rule.size() === 0) {\n                stylesheet.removeRule(rule);\n            }\n        });\n        return stylesheet;\n    };\n    return MinimalTransformer;\n}());\nexport { MinimalTransformer };\nfunction difference(mapA, mapB) {\n    var diff = {};\n    Object.keys(mapA).forEach(function (key) {\n        if (mapA[key] !== mapB[key] && mapB[key] !== undefined) {\n            diff[key] = mapB[key];\n        }\n    });\n    Object.keys(mapB).forEach(function (key) {\n        if (mapA[key] !== mapB[key] && mapB[key] !== undefined) {\n            diff[key] = mapB[key];\n        }\n    });\n    return diff;\n}\n", "import { __spreadArray } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { mergeInPlace } from '../theme';\nimport { flattenReferenceTokens, collectReferencedTokens } from '../theme/utils';\nimport { RuleCreator } from './rule';\nimport { SingleThemeCreator } from './single';\nimport { MultiThemeCreator } from './multi';\nimport { Selector } from './selector';\nimport { UsedPropertyRegistry } from './registry';\nimport { MinimalTransformer } from './transformer';\nimport { cloneDeep, values } from '../utils';\nfunction createMinimalTheme(base, override) {\n    var minimalTheme = cloneDeep(base);\n    var contextTokens = new Set();\n    values(minimalTheme.contexts).forEach(function (context) {\n        Object.keys(context.tokens).forEach(function (key) {\n            var _a, _b, _c;\n            var isInOverrideContext = key in ((_c = (_b = (_a = override === null || override === void 0 ? void 0 : override.contexts) === null || _a === void 0 ? void 0 : _a[context.id]) === null || _b === void 0 ? void 0 : _b.tokens) !== null && _c !== void 0 ? _c : {});\n            if (!(key in override.tokens) && !isInOverrideContext) {\n                delete context.tokens[key];\n            }\n            else {\n                contextTokens.add(key);\n            }\n        });\n    });\n    Object.keys(minimalTheme.tokens).forEach(function (key) {\n        if (!contextTokens.has(key) && !(key in override.tokens)) {\n            delete minimalTheme.tokens[key];\n        }\n    });\n    return mergeInPlace(minimalTheme, override);\n}\nfunction collectAllRequiredTokens(themes, initialTokens) {\n    var referenceTokens = [];\n    themes.forEach(function (theme) { return referenceTokens.push.apply(referenceTokens, Object.keys(flattenReferenceTokens(theme))); });\n    var alreadyIncluded = new Set(__spreadArray(__spreadArray([], initialTokens, true), referenceTokens, true));\n    var referencedTokens = [];\n    themes.forEach(function (theme) {\n        var referenced = collectReferencedTokens(theme, __spreadArray(__spreadArray([], initialTokens, true), referenceTokens, true));\n        referenced.forEach(function (token) {\n            if (!alreadyIncluded.has(token)) {\n                referencedTokens.push(token);\n                alreadyIncluded.add(token);\n            }\n        });\n    });\n    return { referenceTokens: referenceTokens, referencedTokens: referencedTokens };\n}\nfunction addMissingTokensToTheme(theme, tokens, sourceTheme) {\n    tokens.forEach(function (token) {\n        if (!(token in theme.tokens) && token in sourceTheme.tokens) {\n            theme.tokens[token] = sourceTheme.tokens[token];\n        }\n    });\n}\nexport function createOverrideDeclarations(base, override, propertiesMap, selectorCustomizer) {\n    var minimalTheme = createMinimalTheme(base, override);\n    var initialTokens = Object.keys(minimalTheme.tokens);\n    var referencedTokens = collectAllRequiredTokens([base], initialTokens).referencedTokens;\n    // Add referenced tokens to minimalTheme so they get output in root\n    // The transformer will remove them from mode/context selectors since they're unchanged\n    addMissingTokensToTheme(minimalTheme, referencedTokens, base);\n    var usedTokens = __spreadArray(__spreadArray([], initialTokens, true), referencedTokens, true);\n    var ruleCreator = new RuleCreator(new Selector(selectorCustomizer), new UsedPropertyRegistry(propertiesMap, usedTokens));\n    var stylesheet = new SingleThemeCreator(minimalTheme, ruleCreator, base, propertiesMap).create();\n    return new MinimalTransformer().transform(stylesheet).toString();\n}\nexport function createBuildDeclarations(primary, secondary, propertiesMap, selectorCustomizer, used) {\n    var themes = __spreadArray([primary], secondary, true);\n    var _a = collectAllRequiredTokens(themes, used), referenceTokens = _a.referenceTokens, referencedTokens = _a.referencedTokens;\n    var usedTokens = __spreadArray(__spreadArray(__spreadArray([], used, true), referenceTokens, true), referencedTokens, true);\n    var ruleCreator = new RuleCreator(new Selector(selectorCustomizer), new UsedPropertyRegistry(propertiesMap, usedTokens));\n    var stylesheet = new MultiThemeCreator(themes, ruleCreator, propertiesMap).create();\n    return new MinimalTransformer().transform(stylesheet).toString();\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Creates a style element from CSS String and an optional nonce value and returns it. The node\n * will have an extra attribute for identification.\n * @param content CSS string\n * @param nonce optional nonce to be added to the element\n * @returns style element with content\n */\nexport function createStyleNode(content, nonce) {\n    var node = document.createElement('style');\n    if (nonce) {\n        node.setAttribute('nonce', nonce);\n    }\n    node.appendChild(document.createTextNode(content));\n    return node;\n}\nexport function appendStyleNode(node, targetDocument) {\n    if (targetDocument === void 0) { targetDocument = document; }\n    targetDocument.head.appendChild(node);\n}\n/**\n * Parses meta tags to find name=\"nonce\" and returns the value\n * @param targetDocument optional target HTML document to parse meta tags from. By default current document is used.\n * @returns nonce from meta tag\n */\nexport function getNonce(targetDocument) {\n    var _a;\n    if (targetDocument === void 0) { targetDocument = document; }\n    var metaTag = targetDocument.querySelector('meta[name=\"nonce\"]');\n    return (_a = metaTag === null || metaTag === void 0 ? void 0 : metaTag.content) !== null && _a !== void 0 ? _a : undefined;\n}\n", "import { increaseSpecificity, increaseSpecificityGradually, isIncreased } from '../styles/selector';\nimport { includes } from '../utils';\nexport function createMultiThemeCustomizer(root) {\n    // non root selector receives an increased specificity at build time\n    // as seen below\n    return function (selector) {\n        return selector === root\n            ? increaseSpecificityGradually(selector)\n            : increaseSpecificity(increaseSpecificityGradually(selector));\n    };\n}\nexport function singleThemeCustomizer(selector) {\n    if (includes(selector, ':root') ||\n        includes(selector, ':export') ||\n        selector === 'html' ||\n        selector === 'body' ||\n        isIncreased(selector)) {\n        return selector;\n    }\n    return increaseSpecificity(selector);\n}\n", "// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { validateOverride } from '../shared/theme';\nimport { createOverrideDeclarations } from '../shared/declaration';\nimport { getNonce, createStyleNode, appendStyleNode } from './dom';\nimport { createMultiThemeCustomizer } from '../shared/declaration/customizer';\nimport { getContexts, getThemeFromPreset } from '../shared/theme/validate';\nexport function generateThemeStylesheet(params) {\n    var override = params.override, preset = params.preset, baseThemeId = params.baseThemeId;\n    var availableContexts = getContexts(preset);\n    var validated = validateOverride(override, preset.themeable, availableContexts);\n    var theme = getThemeFromPreset(preset, baseThemeId);\n    return createOverrideDeclarations(theme, validated, preset.propertiesMap, createMultiThemeCustomizer(preset.theme.selector));\n}\nexport function applyTheme(params) {\n    var targetDocument = params.targetDocument;\n    var content = generateThemeStylesheet(params);\n    var nonce = getNonce(targetDocument);\n    var styleNode = createStyleNode(content, nonce);\n    appendStyleNode(styleNode, targetDocument);\n    return {\n        reset: function () {\n            styleNode.remove();\n        }\n    };\n}\nexport { processColorPaletteInput, } from '../shared/theme';\n"],
  "mappings": ";;;;;;;AA4BM,SAAU,OAAO,KAAW;AAChC,MAAI,MAAM,GAAG;AACX,WAAO;aACE,QAAQ,GAAG;AACpB,WAAO;SACF;AACL,WAAO;;AAEX;AAOM,SAAU,KAAK,OAAe,MAAc,QAAc;AAC9D,UAAQ,IAAM,UAAU,QAAQ,SAAS;AAC3C;AAQM,SAAU,SAAS,KAAa,KAAa,OAAa;AAC9D,MAAI,QAAQ,KAAK;AACf,WAAO;aACE,QAAQ,KAAK;AACtB,WAAO;;AAGT,SAAO;AACT;AAQM,SAAU,YAAY,KAAa,KAAa,OAAa;AACjE,MAAI,QAAQ,KAAK;AACf,WAAO;aACE,QAAQ,KAAK;AACtB,WAAO;;AAGT,SAAO;AACT;AAQM,SAAU,mBAAmB,SAAe;AAChD,YAAU,UAAU;AACpB,MAAI,UAAU,GAAG;AACf,cAAU,UAAU;;AAEtB,SAAO;AACT;AAQM,SAAU,sBAAsB,SAAe;AACnD,YAAU,UAAU;AACpB,MAAI,UAAU,GAAG;AACf,cAAU,UAAU;;AAEtB,SAAO;AACT;AAwBM,SAAU,kBAAkB,GAAW,GAAS;AACpD,SAAO,MAAQ,KAAK,IAAI,KAAK,IAAI,IAAI,CAAC,IAAI,GAAK;AACjD;AAKM,SAAU,eAAe,KAAe,QAAkB;AAC9D,QAAM,IACF,IAAI,CAAC,IAAI,OAAO,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,IAAI,OAAO,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,IAAI,OAAO,CAAC,EAAE,CAAC;AACxE,QAAM,IACF,IAAI,CAAC,IAAI,OAAO,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,IAAI,OAAO,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,IAAI,OAAO,CAAC,EAAE,CAAC;AACxE,QAAM,IACF,IAAI,CAAC,IAAI,OAAO,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,IAAI,OAAO,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,IAAI,OAAO,CAAC,EAAE,CAAC;AACxE,SAAO,CAAC,GAAG,GAAG,CAAC;AACjB;;;ACpHA,IAAM,cAAc;EAClB,CAAC,YAAY,YAAY,UAAU;EACnC,CAAC,QAAQ,QAAQ,MAAM;EACvB,CAAC,YAAY,YAAY,UAAU;;AAGrC,IAAM,cAAc;EAClB;IACE;IACA;IACA;;EAEF;IACE;IACA;IACA;;EAEF;IACE;IACA;IACA;;;AAIJ,IAAM,kBAAkB,CAAC,QAAQ,KAAO,OAAO;AAKzC,SAAU,YAAY,KAAa,OAAe,MAAY;AAClE,UAAQ,OAAO,MAAM,MAAM,QAAQ,MAAM,QAAQ,QAAQ,IAAI,OAAO,SAChE;AACN;AAKM,SAAU,eAAe,QAAgB;AAC7C,QAAM,IAAI,aAAa,OAAO,CAAC,CAAC;AAChC,QAAM,IAAI,aAAa,OAAO,CAAC,CAAC;AAChC,QAAM,IAAI,aAAa,OAAO,CAAC,CAAC;AAChC,SAAO,YAAY,GAAG,GAAG,CAAC;AAC5B;AAYM,SAAU,YAAY,MAAY;AACtC,SAAO,QAAQ,KAAK;AACtB;AAKM,SAAU,cAAc,MAAY;AACxC,SAAO,QAAQ,IAAI;AACrB;AAKM,SAAU,aAAa,MAAY;AACvC,SAAO,OAAO;AAChB;AAYM,SAAU,YAAY,GAAW,GAAW,GAAS;AACzD,QAAM,SAAS;AACf,QAAM,UAAU,OAAO,CAAC,EAAE,CAAC,IAAI,IAAI,OAAO,CAAC,EAAE,CAAC,IAAI,IAAI,OAAO,CAAC,EAAE,CAAC,IAAI;AACrE,QAAM,UAAU,OAAO,CAAC,EAAE,CAAC,IAAI,IAAI,OAAO,CAAC,EAAE,CAAC,IAAI,IAAI,OAAO,CAAC,EAAE,CAAC,IAAI;AACrE,QAAM,UAAU,OAAO,CAAC,EAAE,CAAC,IAAI,IAAI,OAAO,CAAC,EAAE,CAAC,IAAI,IAAI,OAAO,CAAC,EAAE,CAAC,IAAI;AACrE,QAAM,IAAI,aAAa,OAAO;AAC9B,QAAM,IAAI,aAAa,OAAO;AAC9B,QAAM,IAAI,aAAa,OAAO;AAC9B,SAAO,YAAY,GAAG,GAAG,CAAC;AAC5B;AAKM,SAAU,YAAY,MAAY;AACtC,QAAM,IAAI,WAAW,YAAY,IAAI,CAAC;AACtC,QAAM,IAAI,WAAW,cAAc,IAAI,CAAC;AACxC,QAAM,IAAI,WAAW,aAAa,IAAI,CAAC;AACvC,SAAiB,eAAe,CAAC,GAAG,GAAG,CAAC,GAAG,WAAW;AACxD;AA0DM,SAAU,cAAc,OAAa;AACzC,QAAM,IAAI,WAAW,KAAK;AAC1B,QAAM,YAAY,aAAa,CAAC;AAChC,SAAO,YAAY,WAAW,WAAW,SAAS;AACpD;AAQM,SAAU,cAAc,MAAY;AACxC,QAAM,IAAI,YAAY,IAAI,EAAE,CAAC;AAC7B,SAAO,MAAQ,KAAK,IAAI,GAAK,IAAI;AACnC;AAaM,SAAU,WAAW,OAAa;AACtC,SAAO,MAAQ,SAAS,QAAQ,MAAQ,GAAK;AAC/C;AAaM,SAAU,WAAW,GAAS;AAClC,SAAO,KAAK,IAAI,GAAK,IAAI,MAAQ;AACnC;AAUM,SAAU,WAAW,cAAoB;AAC7C,QAAM,aAAa,eAAe;AAClC,MAAI,cAAc,aAAa;AAC7B,WAAO,aAAa,QAAQ;SACvB;AACL,WAAO,KAAK,KAAK,aAAa,SAAS,OAAO,GAAG,IAAI;;AAEzD;AAUM,SAAU,aAAa,cAAoB;AAC/C,QAAM,aAAa,eAAe;AAClC,MAAIA,gBAAe;AACnB,MAAI,cAAc,UAAW;AAC3B,IAAAA,gBAAe,aAAa;SACvB;AACL,IAAAA,gBAAe,QAAQ,KAAK,IAAI,YAAY,IAAM,GAAG,IAAI;;AAE3D,SAAiB,SAAS,GAAG,KAAK,KAAK,MAAMA,gBAAe,GAAK,CAAC;AACpE;AAOM,SAAU,gBAAa;AAC3B,SAAO;AACT;AAmDA,SAAS,KAAK,GAAS;AACrB,QAAM,IAAI,MAAQ;AAClB,QAAM,QAAQ,QAAU;AACxB,MAAI,IAAI,GAAG;AACT,WAAO,KAAK,IAAI,GAAG,IAAM,CAAG;SACvB;AACL,YAAQ,QAAQ,IAAI,MAAM;;AAE9B;AAEA,SAAS,QAAQ,IAAU;AACzB,QAAM,IAAI,MAAQ;AAClB,QAAM,QAAQ,QAAU;AACxB,QAAM,MAAM,KAAK,KAAK;AACtB,MAAI,MAAM,GAAG;AACX,WAAO;SACF;AACL,YAAQ,MAAM,KAAK,MAAM;;AAE7B;;;AC1TM,IAAO,oBAAP,MAAO,mBAAiB;;;;;;;;;;;;;;;;;;;;;;;EA0B5B,OAAO,KACH,aAAmB,cAAa,GAChC,oBAAqB,MAAQ,KAAK,KAAY,WAAW,EAAI,IAAI,KACjE,kBAAkB,IAAM,WAAW,GACnC,wBAAwB,OAAK;AAC/B,UAAM,MAAM;AACZ,UAAM,KAAK,IAAI,CAAC,IAAI,WAAW,IAAI,CAAC,IAAI,WAAW,IAAI,CAAC,IAAI;AAC5D,UAAM,KAAK,IAAI,CAAC,IAAI,YAAY,IAAI,CAAC,IAAI,WAAW,IAAI,CAAC,IAAI;AAC7D,UAAM,KAAK,IAAI,CAAC,IAAI,WAAY,IAAI,CAAC,IAAI,WAAW,IAAI,CAAC,IAAI;AAC7D,UAAM,IAAI,MAAM,WAAW;AAC3B,UAAM,IAAI,KAAK,MAAW,KAAK,MAAM,OAAO,IAAI,OAAO,EAAI,IACjC,KAAK,OAAO,OAAO,IAAI,OAAO,EAAI;AAC5D,QAAI,IAAI,wBACJ,IACA,KAAK,IAAO,IAAM,MAAO,KAAK,KAAK,CAAC,oBAAoB,MAAQ,EAAI;AACxE,QAAI,IAAI,IAAM,IAAM,IAAI,IAAM,IAAM;AACpC,UAAM,KAAK;AACX,UAAM,OAAO;MACX,KAAK,MAAQ,MAAM,IAAM;MACzB,KAAK,MAAQ,MAAM,IAAM;MACzB,KAAK,MAAQ,MAAM,IAAM;;AAE3B,UAAM,IAAI,KAAO,IAAM,oBAAoB;AAC3C,UAAM,KAAK,IAAI,IAAI,IAAI;AACvB,UAAM,MAAM,IAAM;AAClB,UAAM,KAAK,KAAK,oBACZ,MAAM,MAAM,MAAM,KAAK,KAAK,IAAM,iBAAiB;AACvD,UAAM,IAAU,WAAW,eAAe,IAAI,WAAW,CAAC;AAC1D,UAAM,IAAI,OAAO,KAAK,KAAK,CAAC;AAC5B,UAAM,MAAM,QAAQ,KAAK,IAAI,GAAG,GAAG;AACnC,UAAM,MAAM;AACZ,UAAM,cAAc;MAClB,KAAK,IAAK,KAAK,KAAK,CAAC,IAAI,KAAM,KAAO,IAAI;MAC1C,KAAK,IAAK,KAAK,KAAK,CAAC,IAAI,KAAM,KAAO,IAAI;MAC1C,KAAK,IAAK,KAAK,KAAK,CAAC,IAAI,KAAM,KAAO,IAAI;;AAE5C,UAAM,OAAO;MACV,MAAQ,YAAY,CAAC,KAAM,YAAY,CAAC,IAAI;MAC5C,MAAQ,YAAY,CAAC,KAAM,YAAY,CAAC,IAAI;MAC5C,MAAQ,YAAY,CAAC,KAAM,YAAY,CAAC,IAAI;;AAE/C,UAAM,MAAM,IAAM,KAAK,CAAC,IAAI,KAAK,CAAC,IAAI,OAAO,KAAK,CAAC,KAAK;AACxD,WAAO,IAAI,mBACP,GAAG,IAAI,KAAK,KAAK,GAAG,IAAI,MAAM,IAAI,KAAK,IAAI,IAAI,IAAI,GAAG,CAAC;EAC7D;;;;;;;;EASA,YACW,GAAkB,IAAmB,KACrC,KAAoB,GAAkB,IACtC,MAAuB,IAAmB,QAC1C,GAAS;AAHT,SAAA,IAAA;AAAkB,SAAA,KAAA;AAAmB,SAAA,MAAA;AACrC,SAAA,MAAA;AAAoB,SAAA,IAAA;AAAkB,SAAA,KAAA;AACtC,SAAA,OAAA;AAAuB,SAAA,KAAA;AAAmB,SAAA,SAAA;AAC1C,SAAA,IAAA;EAAY;;AAjFhB,kBAAA,UAAU,kBAAkB,KAAI;;;ACInC,IAAO,QAAP,MAAO,OAAK;;;;;;;;;;;;;;;;;;;;;EAqBhB,YACa,KAAsB,QAAyB,GAC/C,GAAoB,GAAoB,GACxC,OAAwB,OAAwB,OAAa;AAF7D,SAAA,MAAA;AAAsB,SAAA,SAAA;AAAyB,SAAA,IAAA;AAC/C,SAAA,IAAA;AAAoB,SAAA,IAAA;AAAoB,SAAA,IAAA;AACxC,SAAA,QAAA;AAAwB,SAAA,QAAA;AAAwB,SAAA,QAAA;EAAgB;;;;;;EAO7E,SAAS,OAAY;AACnB,UAAM,KAAK,KAAK,QAAQ,MAAM;AAC9B,UAAM,KAAK,KAAK,QAAQ,MAAM;AAC9B,UAAM,KAAK,KAAK,QAAQ,MAAM;AAC9B,UAAM,UAAU,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,EAAE;AACrD,UAAM,KAAK,OAAO,KAAK,IAAI,SAAS,IAAI;AACxC,WAAO;EACT;;;;;;EAOA,OAAO,QAAQ,MAAY;AACzB,WAAO,OAAM,2BAA2B,MAAM,kBAAkB,OAAO;EACzE;;;;;;;EAQA,OAAO,2BACH,MAAc,mBAAoC;AACpD,UAAM,OAAO,OAAO,aAAe;AACnC,UAAM,SAAS,OAAO,UAAe;AACrC,UAAM,OAAQ,OAAO;AACrB,UAAM,OAAa,WAAW,GAAG;AACjC,UAAM,SAAe,WAAW,KAAK;AACrC,UAAM,QAAc,WAAW,IAAI;AACnC,UAAM,IAAI,aAAa,OAAO,aAAa,SAAS,aAAa;AACjE,UAAM,IAAI,SAAS,OAAO,SAAS,SAAS,SAAS;AACrD,UAAM,IAAI,aAAa,OAAO,aAAa,SAAS,aAAa;AAEjE,UAAM,KAAK,WAAW,IAAI,WAAW,IAAI,WAAW;AACpD,UAAM,KAAK,YAAY,IAAI,WAAW,IAAI,WAAW;AACrD,UAAM,KAAK,WAAY,IAAI,WAAW,IAAI,WAAW;AAErD,UAAM,KAAK,kBAAkB,KAAK,CAAC,IAAI;AACvC,UAAM,KAAK,kBAAkB,KAAK,CAAC,IAAI;AACvC,UAAM,KAAK,kBAAkB,KAAK,CAAC,IAAI;AAEvC,UAAM,MAAM,KAAK,IAAK,kBAAkB,KAAK,KAAK,IAAI,EAAE,IAAK,KAAO,IAAI;AACxE,UAAM,MAAM,KAAK,IAAK,kBAAkB,KAAK,KAAK,IAAI,EAAE,IAAK,KAAO,IAAI;AACxE,UAAM,MAAM,KAAK,IAAK,kBAAkB,KAAK,KAAK,IAAI,EAAE,IAAK,KAAO,IAAI;AAExE,UAAM,KAAW,OAAO,EAAE,IAAI,MAAQ,OAAQ,MAAM;AACpD,UAAM,KAAW,OAAO,EAAE,IAAI,MAAQ,OAAQ,MAAM;AACpD,UAAM,KAAW,OAAO,EAAE,IAAI,MAAQ,OAAQ,MAAM;AAEpD,UAAM,KAAK,KAAO,KAAK,MAAQ,KAAK,MAAM;AAC1C,UAAM,KAAK,KAAK,KAAK,IAAM,MAAM;AACjC,UAAM,KAAK,KAAO,KAAK,KAAO,KAAK,KAAO,MAAM;AAChD,UAAM,MAAM,KAAO,KAAK,KAAO,KAAK,MAAM;AAC1C,UAAM,QAAQ,KAAK,MAAM,GAAG,CAAC;AAC7B,UAAM,cAAe,QAAQ,MAAS,KAAK;AAC3C,UAAM,MAAM,cAAc,IAAI,cAAc,MACxC,eAAe,MAAW,cAAc,MACd;AAC9B,UAAM,aAAc,MAAM,KAAK,KAAM;AAErC,UAAM,KAAK,KAAK,kBAAkB;AAClC,UAAM,IAAI,MACN,KAAK,IACD,KAAK,kBAAkB,IACvB,kBAAkB,IAAI,kBAAkB,CAAC;AACjD,UAAM,IAAK,IAAM,kBAAkB,IAAK,KAAK,KAAK,IAAI,GAAK,KACtD,kBAAkB,KAAK,KAAO,kBAAkB;AACrD,UAAM,WAAW,MAAM,QAAQ,MAAM,MAAM;AAC3C,UAAM,OAAO,QAAQ,KAAK,IAAK,WAAW,KAAK,KAAM,MAAQ,CAAG,IAAI;AACpE,UAAM,KACD,MAAU,KAAQ,OAAO,kBAAkB,KAAK,kBAAkB;AACvE,UAAM,IAAK,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,CAAC,KAAM,IAAI;AACjD,UAAM,QAAQ,KAAK,IAAI,GAAG,GAAG,IACzB,KAAK,IAAI,OAAO,KAAK,IAAI,MAAM,kBAAkB,CAAC,GAAG,IAAI;AAC7D,UAAM,IAAI,QAAQ,KAAK,KAAK,IAAI,GAAK;AACrC,UAAM,IAAI,IAAI,kBAAkB;AAChC,UAAM,IAAI,KACN,KAAK,KAAM,QAAQ,kBAAkB,KAAM,kBAAkB,KAAK,EAAI;AAC1E,UAAM,SAAU,IAAM,MAAQ,QAAS,KAAM,IAAM,OAAQ;AAC3D,UAAM,QAAS,IAAM,SAAU,KAAK,IAAI,IAAM,SAAS,CAAC;AACxD,UAAM,QAAQ,QAAQ,KAAK,IAAI,UAAU;AACzC,UAAM,QAAQ,QAAQ,KAAK,IAAI,UAAU;AAEzC,WAAO,IAAI,OAAM,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,OAAO,OAAO,KAAK;EAC1D;;;;;;EAOA,OAAO,QAAQ,GAAW,GAAW,GAAS;AAC5C,WAAO,OAAM,2BAA2B,GAAG,GAAG,GAAG,kBAAkB,OAAO;EAC5E;;;;;;;;EASA,OAAO,2BACH,GAAW,GAAW,GACtB,mBAAoC;AACtC,UAAM,IAAK,IAAM,kBAAkB,IAAK,KAAK,KAAK,IAAI,GAAK,KACtD,kBAAkB,KAAK,KAAO,kBAAkB;AACrD,UAAM,IAAI,IAAI,kBAAkB;AAChC,UAAM,QAAQ,IAAI,KAAK,KAAK,IAAI,GAAK;AACrC,UAAM,IAAI,KACN,KAAK,KAAM,QAAQ,kBAAkB,KAAM,kBAAkB,KAAK,EAAI;AAC1E,UAAM,aAAc,IAAI,KAAK,KAAM;AACnC,UAAM,SAAU,IAAM,MAAQ,QAAS,KAAM,IAAM,OAAQ;AAC3D,UAAM,QAAS,IAAM,SAAU,KAAK,IAAI,IAAM,SAAS,CAAC;AACxD,UAAM,QAAQ,QAAQ,KAAK,IAAI,UAAU;AACzC,UAAM,QAAQ,QAAQ,KAAK,IAAI,UAAU;AACzC,WAAO,IAAI,OAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,OAAO,OAAO,KAAK;EACxD;;;;;;;;EASA,OAAO,QAAQ,OAAe,OAAe,OAAa;AACxD,WAAO,OAAM,2BACT,OAAO,OAAO,OAAO,kBAAkB,OAAO;EACpD;;;;;;;;;;EAWA,OAAO,2BACH,OAAe,OAAe,OAC9B,mBAAoC;AACtC,UAAM,IAAI;AACV,UAAM,IAAI;AACV,UAAM,IAAI,KAAK,KAAK,IAAI,IAAI,IAAI,CAAC;AACjC,UAAM,KAAK,KAAK,IAAI,IAAI,MAAM,IAAI,KAAO;AACzC,UAAM,IAAI,IAAI,kBAAkB;AAChC,QAAI,IAAI,KAAK,MAAM,GAAG,CAAC,KAAK,MAAQ,KAAK;AACzC,QAAI,IAAI,GAAK;AACX,WAAK;;AAEP,UAAM,IAAI,SAAS,KAAK,QAAQ,OAAO;AACvC,WAAO,OAAM,2BAA2B,GAAG,GAAG,GAAG,iBAAiB;EACpE;;;;;;EAOA,QAAK;AACH,WAAO,KAAK,OAAO,kBAAkB,OAAO;EAC9C;;;;;;EAOA,OAAO,mBAAoC;AACzC,UAAM,QAAQ,KAAK,WAAW,KAAO,KAAK,MAAM,IAC5C,IACA,KAAK,SAAS,KAAK,KAAK,KAAK,IAAI,GAAK;AAE1C,UAAM,IAAI,KAAK,IACX,QAAQ,KAAK,IAAI,OAAO,KAAK,IAAI,MAAM,kBAAkB,CAAC,GAAG,IAAI,GACjE,IAAM,GAAG;AACb,UAAM,OAAQ,KAAK,MAAM,KAAK,KAAM;AAEpC,UAAM,OAAO,QAAQ,KAAK,IAAI,OAAO,CAAG,IAAI;AAC5C,UAAM,KAAK,kBAAkB,KACzB,KAAK,IACD,KAAK,IAAI,KAAO,IAAM,kBAAkB,IAAI,kBAAkB,CAAC;AACvE,UAAM,KACF,QAAQ,MAAU,MAAQ,kBAAkB,KAAK,kBAAkB;AACvE,UAAM,KAAK,KAAK,kBAAkB;AAElC,UAAM,OAAO,KAAK,IAAI,IAAI;AAC1B,UAAM,OAAO,KAAK,IAAI,IAAI;AAE1B,UAAM,QAAS,MAAQ,KAAK,SAAS,KAChC,KAAO,KAAK,KAAO,IAAI,OAAO,MAAQ,IAAI;AAC/C,UAAM,IAAI,QAAQ;AAClB,UAAM,IAAI,QAAQ;AAClB,UAAM,MAAM,MAAQ,KAAK,MAAQ,IAAI,MAAQ,KAAK;AAClD,UAAM,MAAM,MAAQ,KAAK,MAAQ,IAAI,MAAQ,KAAK;AAClD,UAAM,MAAM,MAAQ,KAAK,MAAQ,IAAI,OAAS,KAAK;AAEnD,UAAM,SAAS,KAAK,IAAI,GAAI,QAAQ,KAAK,IAAI,EAAE,KAAM,MAAQ,KAAK,IAAI,EAAE,EAAE;AAC1E,UAAM,KAAU,OAAO,EAAE,KAAK,MAAQ,kBAAkB,MACpD,KAAK,IAAI,QAAQ,IAAM,IAAI;AAC/B,UAAM,SAAS,KAAK,IAAI,GAAI,QAAQ,KAAK,IAAI,EAAE,KAAM,MAAQ,KAAK,IAAI,EAAE,EAAE;AAC1E,UAAM,KAAU,OAAO,EAAE,KAAK,MAAQ,kBAAkB,MACpD,KAAK,IAAI,QAAQ,IAAM,IAAI;AAC/B,UAAM,SAAS,KAAK,IAAI,GAAI,QAAQ,KAAK,IAAI,EAAE,KAAM,MAAQ,KAAK,IAAI,EAAE,EAAE;AAC1E,UAAM,KAAU,OAAO,EAAE,KAAK,MAAQ,kBAAkB,MACpD,KAAK,IAAI,QAAQ,IAAM,IAAI;AAC/B,UAAM,KAAK,KAAK,kBAAkB,KAAK,CAAC;AACxC,UAAM,KAAK,KAAK,kBAAkB,KAAK,CAAC;AACxC,UAAM,KAAK,KAAK,kBAAkB,KAAK,CAAC;AAExC,UAAM,IAAI,aAAa,KAAK,aAAa,KAAK,aAAa;AAC3D,UAAM,IAAI,aAAa,KAAK,aAAa,KAAK,YAAa;AAC3D,UAAM,IAAI,aAAc,KAAK,aAAa,KAAK,aAAa;AAE5D,UAAM,OAAa,YAAY,GAAG,GAAG,CAAC;AACtC,WAAO;EACT;;;EAIA,OAAO,2BACH,GAAW,GAAW,GACtB,mBAAoC;AAGtC,UAAM,KAAK,WAAW,IAAI,WAAW,IAAI,WAAW;AACpD,UAAM,KAAK,YAAY,IAAI,WAAW,IAAI,WAAW;AACrD,UAAM,KAAK,WAAY,IAAI,WAAW,IAAI,WAAW;AAGrD,UAAM,KAAK,kBAAkB,KAAK,CAAC,IAAI;AACvC,UAAM,KAAK,kBAAkB,KAAK,CAAC,IAAI;AACvC,UAAM,KAAK,kBAAkB,KAAK,CAAC,IAAI;AAGvC,UAAM,MAAM,KAAK,IAAI,kBAAkB,KAAK,KAAK,IAAI,EAAE,IAAI,KAAO,IAAI;AACtE,UAAM,MAAM,KAAK,IAAI,kBAAkB,KAAK,KAAK,IAAI,EAAE,IAAI,KAAO,IAAI;AACtE,UAAM,MAAM,KAAK,IAAI,kBAAkB,KAAK,KAAK,IAAI,EAAE,IAAI,KAAO,IAAI;AACtE,UAAM,KAAU,OAAO,EAAE,IAAI,MAAQ,OAAO,MAAM;AAClD,UAAM,KAAU,OAAO,EAAE,IAAI,MAAQ,OAAO,MAAM;AAClD,UAAM,KAAU,OAAO,EAAE,IAAI,MAAQ,OAAO,MAAM;AAGlD,UAAM,KAAK,KAAO,KAAK,MAAQ,KAAK,MAAM;AAE1C,UAAM,KAAK,KAAK,KAAK,IAAM,MAAM;AAGjC,UAAM,KAAK,KAAO,KAAK,KAAO,KAAK,KAAO,MAAM;AAChD,UAAM,MAAM,KAAO,KAAK,KAAO,KAAK,MAAM;AAG1C,UAAM,QAAQ,KAAK,MAAM,GAAG,CAAC;AAC7B,UAAM,cAAc,QAAQ,MAAQ,KAAK;AACzC,UAAM,MAAM,cAAc,IAAI,cAAc,MACxC,eAAe,MAAW,cAAc,MACd;AAC9B,UAAM,aAAa,MAAM,KAAK,KAAK;AAGnC,UAAM,KAAK,KAAK,kBAAkB;AAGlC,UAAM,IAAI,MACN,KAAK,IACD,KAAK,kBAAkB,IACvB,kBAAkB,IAAI,kBAAkB,CAAC;AACjD,UAAM,IAAK,IAAM,kBAAkB,IAAK,KAAK,KAAK,IAAI,GAAK,KACtD,kBAAkB,KAAK,KAAQ,kBAAkB;AAEtD,UAAM,WAAY,MAAM,QAAS,MAAM,MAAM;AAC7C,UAAM,OACD,IAAM,KAAQ,KAAK,IAAI,WAAW,KAAK,KAAK,MAAQ,CAAG,IAAI;AAChE,UAAM,KACF,MAAU,KAAO,OAAO,kBAAkB,KAAK,kBAAkB;AACrE,UAAM,IAAI,KAAK,KAAK,KAAK,IAAI,IAAI,IAAI,CAAC,KAAK,IAAI;AAC/C,UAAM,QAAQ,KAAK,IAAI,GAAG,GAAG,IACzB,KAAK,IAAI,OAAO,KAAK,IAAI,MAAM,kBAAkB,CAAC,GAAG,IAAI;AAE7D,UAAM,IAAI,QAAQ,KAAK,KAAK,IAAI,GAAK;AACrC,UAAM,IAAI,IAAI,kBAAkB;AAChC,UAAM,IAAI,KACN,KAAK,KAAM,QAAQ,kBAAkB,KAAM,kBAAkB,KAAK,EAAI;AAG1E,UAAM,SAAS,IAAM,MAAQ,QAAS,KAAK,IAAM,OAAQ;AACzD,UAAM,QAAQ,KAAK,IAAI,IAAM,SAAS,CAAC,IAAI;AAC3C,UAAM,QAAQ,QAAQ,KAAK,IAAI,UAAU;AACzC,UAAM,QAAQ,QAAQ,KAAK,IAAI,UAAU;AACzC,WAAO,IAAI,OAAM,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,OAAO,OAAO,KAAK;EAC1D;;EAGA,uBAAuB,mBAAoC;AACzD,UAAM,QAAS,KAAK,WAAW,KAAO,KAAK,MAAM,IAC7C,IACA,KAAK,SAAS,KAAK,KAAK,KAAK,IAAI,GAAK;AAE1C,UAAM,IAAI,KAAK,IACX,QAAQ,KAAK,IAAI,OAAO,KAAK,IAAI,MAAM,kBAAkB,CAAC,GAAG,IAAI,GACjE,IAAM,GAAG;AACb,UAAM,OAAO,KAAK,MAAM,KAAK,KAAK;AAElC,UAAM,OAAO,QAAQ,KAAK,IAAI,OAAO,CAAG,IAAI;AAC5C,UAAM,KAAK,kBAAkB,KACzB,KAAK,IACD,KAAK,IAAI,KAAO,IAAM,kBAAkB,IAAI,kBAAkB,CAAC;AACvE,UAAM,KACF,QAAQ,MAAU,MAAQ,kBAAkB,KAAK,kBAAkB;AAEvE,UAAM,KAAM,KAAK,kBAAkB;AAEnC,UAAM,OAAO,KAAK,IAAI,IAAI;AAC1B,UAAM,OAAO,KAAK,IAAI,IAAI;AAE1B,UAAM,QAAQ,MAAQ,KAAK,SAAS,KAC/B,KAAO,KAAK,KAAK,IAAI,OAAO,MAAQ,IAAI;AAC7C,UAAM,IAAI,QAAQ;AAClB,UAAM,IAAI,QAAQ;AAClB,UAAM,MAAM,MAAQ,KAAK,MAAQ,IAAI,MAAQ,KAAK;AAClD,UAAM,MAAM,MAAQ,KAAK,MAAQ,IAAI,MAAQ,KAAK;AAClD,UAAM,MAAM,MAAQ,KAAK,MAAQ,IAAI,OAAS,KAAK;AAEnD,UAAM,SAAS,KAAK,IAAI,GAAI,QAAQ,KAAK,IAAI,EAAE,KAAM,MAAQ,KAAK,IAAI,EAAE,EAAE;AAC1E,UAAM,KAAU,OAAO,EAAE,KAAK,MAAQ,kBAAkB,MACpD,KAAK,IAAI,QAAQ,IAAM,IAAI;AAC/B,UAAM,SAAS,KAAK,IAAI,GAAI,QAAQ,KAAK,IAAI,EAAE,KAAM,MAAQ,KAAK,IAAI,EAAE,EAAE;AAC1E,UAAM,KAAU,OAAO,EAAE,KAAK,MAAQ,kBAAkB,MACpD,KAAK,IAAI,QAAQ,IAAM,IAAI;AAC/B,UAAM,SAAS,KAAK,IAAI,GAAI,QAAQ,KAAK,IAAI,EAAE,KAAM,MAAQ,KAAK,IAAI,EAAE,EAAE;AAC1E,UAAM,KAAU,OAAO,EAAE,KAAK,MAAQ,kBAAkB,MACpD,KAAK,IAAI,QAAQ,IAAM,IAAI;AAC/B,UAAM,KAAK,KAAK,kBAAkB,KAAK,CAAC;AACxC,UAAM,KAAK,KAAK,kBAAkB,KAAK,CAAC;AACxC,UAAM,KAAK,KAAK,kBAAkB,KAAK,CAAC;AAExC,UAAM,IAAI,aAAa,KAAK,aAAa,KAAK,aAAa;AAC3D,UAAM,IAAI,aAAa,KAAK,aAAa,KAAK,YAAa;AAC3D,UAAM,IAAI,aAAc,KAAK,aAAa,KAAK,aAAa;AAE5D,WAAO,CAAC,GAAG,GAAG,CAAC;EACjB;;;;AC9XI,IAAO,YAAP,MAAO,WAAS;;;;;;;;EAsIZ,OAAO,gBAAgB,OAAa;AAC1C,YAAQ,QAAQ,KAAK,KAAK,MAAM,KAAK,KAAK;EAC5C;;;;;;;;;;EAWQ,OAAO,iBAAiB,cAAoB;AAClD,UAAM,aAAa,eAAe;AAClC,QAAIC,gBAAe;AACnB,QAAI,cAAc,UAAW;AAC3B,MAAAA,gBAAe,aAAa;WACvB;AACL,MAAAA,gBAAe,QAAQ,KAAK,IAAI,YAAY,IAAM,GAAG,IAAI;;AAE3D,WAAOA,gBAAe;EACxB;EAEQ,OAAO,oBAAoB,WAAiB;AAClD,UAAM,KAAK,KAAK,IAAI,KAAK,IAAI,SAAS,GAAG,IAAI;AAC7C,WAAiB,OAAO,SAAS,IAAI,MAAQ,MAAM,KAAK;EAC1D;;;;;;;EAQQ,OAAO,MAAM,QAAgB;AACnC,UAAM,iBACQ,eAAe,QAAQ,WAAU,2BAA2B;AAC1E,UAAM,KAAK,WAAU,oBAAoB,eAAe,CAAC,CAAC;AAC1D,UAAM,KAAK,WAAU,oBAAoB,eAAe,CAAC,CAAC;AAC1D,UAAM,KAAK,WAAU,oBAAoB,eAAe,CAAC,CAAC;AAE1D,UAAM,KAAK,KAAO,KAAK,MAAQ,KAAK,MAAM;AAE1C,UAAM,KAAK,KAAK,KAAK,IAAM,MAAM;AACjC,WAAO,KAAK,MAAM,GAAG,CAAC;EACxB;EAEQ,OAAO,iBAAiB,GAAW,GAAW,GAAS;AAC7D,UAAM,UAAU,WAAU,gBAAgB,IAAI,CAAC;AAC/C,UAAM,UAAU,WAAU,gBAAgB,IAAI,CAAC;AAC/C,WAAO,UAAU;EACnB;;;;;;;;;EAUQ,OAAO,UAAU,QAAgB,KAAa,QAAc;AAElE,YAAQ,MAAM,WAAW,SAAS;EACpC;EAEQ,OAAO,UAAU,QAAkB,GAAW,QAAgB;AAEpE,WAAO;MACL,OAAO,CAAC,KAAK,OAAO,CAAC,IAAI,OAAO,CAAC,KAAK;MACtC,OAAO,CAAC,KAAK,OAAO,CAAC,IAAI,OAAO,CAAC,KAAK;MACtC,OAAO,CAAC,KAAK,OAAO,CAAC,IAAI,OAAO,CAAC,KAAK;;EAE1C;;;;;;;;;;;;EAaQ,OAAO,cACX,QACA,YACA,QACA,MAAY;AAEd,UAAM,IAAI,WAAU,UAAU,OAAO,IAAI,GAAG,YAAY,OAAO,IAAI,CAAC;AACpE,WAAO,WAAU,UAAU,QAAQ,GAAG,MAAM;EAC9C;EAEQ,OAAO,UAAU,GAAS;AAChC,WAAO,KAAO,KAAK,KAAK;EAC1B;;;;;;;;;;;EAYQ,OAAO,UAAU,GAAW,GAAS;AAC3C,UAAM,KAAK,WAAU,cAAc,CAAC;AACpC,UAAM,KAAK,WAAU,cAAc,CAAC;AACpC,UAAM,KAAK,WAAU,cAAc,CAAC;AACpC,UAAM,SAAS,IAAI,KAAK,IAAI,IAAM;AAClC,UAAM,SAAS,IAAI,MAAM,IAAI,IAAM;AACnC,QAAI,IAAI,GAAG;AACT,YAAM,IAAI;AACV,YAAM,IAAI;AACV,YAAM,KAAK,IAAI,IAAI,KAAK,IAAI,MAAM;AAClC,UAAI,WAAU,UAAU,CAAC,GAAG;AAC1B,eAAO,CAAC,GAAG,GAAG,CAAC;aACV;AACL,eAAO,CAAC,IAAM,IAAM,EAAI;;eAEjB,IAAI,GAAG;AAChB,YAAM,IAAI;AACV,YAAM,IAAI;AACV,YAAM,KAAK,IAAI,IAAI,KAAK,IAAI,MAAM;AAClC,UAAI,WAAU,UAAU,CAAC,GAAG;AAC1B,eAAO,CAAC,GAAG,GAAG,CAAC;aACV;AACL,eAAO,CAAC,IAAM,IAAM,EAAI;;WAErB;AACL,YAAM,IAAI;AACV,YAAM,IAAI;AACV,YAAM,KAAK,IAAI,IAAI,KAAK,IAAI,MAAM;AAClC,UAAI,WAAU,UAAU,CAAC,GAAG;AAC1B,eAAO,CAAC,GAAG,GAAG,CAAC;aACV;AACL,eAAO,CAAC,IAAM,IAAM,EAAI;;;EAG9B;;;;;;;;;;EAWQ,OAAO,gBAAgB,GAAW,WAAiB;AACzD,QAAI,OAAO,CAAC,IAAM,IAAM,EAAI;AAC5B,QAAI,QAAQ;AACZ,QAAI,UAAU;AACd,QAAI,WAAW;AACf,QAAI,cAAc;AAClB,QAAI,QAAQ;AACZ,aAAS,IAAI,GAAG,IAAI,IAAI,KAAK;AAC3B,YAAM,MAAM,WAAU,UAAU,GAAG,CAAC;AACpC,UAAI,IAAI,CAAC,IAAI,GAAG;AACd;;AAEF,YAAM,SAAS,WAAU,MAAM,GAAG;AAClC,UAAI,CAAC,aAAa;AAChB,eAAO;AACP,gBAAQ;AACR,kBAAU;AACV,mBAAW;AACX,sBAAc;AACd;;AAEF,UAAI,SAAS,WAAU,iBAAiB,SAAS,QAAQ,QAAQ,GAAG;AAClE,gBAAQ;AACR,YAAI,WAAU,iBAAiB,SAAS,WAAW,MAAM,GAAG;AAC1D,kBAAQ;AACR,qBAAW;eACN;AACL,iBAAO;AACP,oBAAU;;;;AAIhB,WAAO,CAAC,MAAM,KAAK;EACrB;EAEQ,OAAO,SAAS,GAAa,GAAW;AAC9C,WAAO;OACJ,EAAE,CAAC,IAAI,EAAE,CAAC,KAAK;OACf,EAAE,CAAC,IAAI,EAAE,CAAC,KAAK;OACf,EAAE,CAAC,IAAI,EAAE,CAAC,KAAK;;EAEpB;EAEQ,OAAO,mBAAmB,GAAS;AACzC,WAAO,KAAK,MAAM,IAAI,GAAG;EAC3B;EAEQ,OAAO,mBAAmB,GAAS;AACzC,WAAO,KAAK,KAAK,IAAI,GAAG;EAC1B;;;;;;;;;EAUQ,OAAO,cAAc,GAAW,WAAiB;AACvD,UAAM,UAAU,WAAU,gBAAgB,GAAG,SAAS;AACtD,QAAI,OAAO,QAAQ,CAAC;AACpB,QAAI,UAAU,WAAU,MAAM,IAAI;AAClC,QAAI,QAAQ,QAAQ,CAAC;AACrB,aAAS,OAAO,GAAG,OAAO,GAAG,QAAQ;AACnC,UAAI,KAAK,IAAI,MAAM,MAAM,IAAI,GAAG;AAC9B,YAAI,SAAS;AACb,YAAI,SAAS;AACb,YAAI,KAAK,IAAI,IAAI,MAAM,IAAI,GAAG;AAC5B,mBAAS,WAAU,mBACf,WAAU,iBAAiB,KAAK,IAAI,CAAC,CAAC;AAC1C,mBAAS,WAAU,mBACf,WAAU,iBAAiB,MAAM,IAAI,CAAC,CAAC;eACtC;AACL,mBAAS,WAAU,mBACf,WAAU,iBAAiB,KAAK,IAAI,CAAC,CAAC;AAC1C,mBAAS,WAAU,mBACf,WAAU,iBAAiB,MAAM,IAAI,CAAC,CAAC;;AAE7C,iBAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AAC1B,cAAI,KAAK,IAAI,SAAS,MAAM,KAAK,GAAG;AAClC;iBACK;AACL,kBAAM,SAAS,KAAK,OAAO,SAAS,UAAU,CAAG;AACjD,kBAAM,qBAAqB,WAAU,gBAAgB,MAAM;AAC3D,kBAAM,MACF,WAAU,cAAc,MAAM,oBAAoB,OAAO,IAAI;AACjE,kBAAM,SAAS,WAAU,MAAM,GAAG;AAClC,gBAAI,WAAU,iBAAiB,SAAS,WAAW,MAAM,GAAG;AAC1D,sBAAQ;AACR,uBAAS;mBACJ;AACL,qBAAO;AACP,wBAAU;AACV,uBAAS;;;;;;AAMnB,WAAO,WAAU,SAAS,MAAM,KAAK;EACvC;EAEQ,OAAO,2BAA2B,SAAe;AACvD,UAAM,aAAa,KAAK,IAAI,OAAO;AACnC,UAAM,OAAO,KAAK,IAAI,GAAG,QAAQ,cAAc,MAAQ,WAAW;AAClE,WAAiB,OAAO,OAAO,IAAI,KAAK,IAAI,MAAM,IAAM,IAAI;EAC9D;;;;;;;;;;EAWQ,OAAO,cAAc,YAAoB,QAAgB,GAAS;AAGxE,QAAI,IAAI,KAAK,KAAK,CAAC,IAAI;AAIvB,UAAM,oBAAoB,kBAAkB;AAC5C,UAAM,cACF,IAAI,KAAK,IAAI,OAAO,KAAK,IAAI,MAAM,kBAAkB,CAAC,GAAG,IAAI;AACjE,UAAM,OAAO,QAAQ,KAAK,IAAI,aAAa,CAAG,IAAI;AAClD,UAAM,KACF,QAAQ,MAAU,MAAQ,kBAAkB,KAAK,kBAAkB;AACvE,UAAM,OAAO,KAAK,IAAI,UAAU;AAChC,UAAM,OAAO,KAAK,IAAI,UAAU;AAChC,aAAS,iBAAiB,GAAG,iBAAiB,GAAG,kBAAkB;AAIjE,YAAM,cAAc,IAAI;AACxB,YAAM,QACF,WAAW,KAAO,MAAM,IAAM,IAAM,SAAS,KAAK,KAAK,WAAW;AACtE,YAAM,IAAI,KAAK,IAAI,QAAQ,aAAa,IAAM,GAAG;AACjD,YAAM,KAAK,kBAAkB,KACzB,KAAK,IACD,aACA,IAAM,kBAAkB,IAAI,kBAAkB,CAAC;AAEvD,YAAM,KAAK,KAAK,kBAAkB;AAClC,YAAM,QAAQ,MAAQ,KAAK,SAAS,KAC/B,KAAO,KAAK,KAAK,IAAI,OAAO,MAAQ,IAAI;AAC7C,YAAM,IAAI,QAAQ;AAClB,YAAM,IAAI,QAAQ;AAClB,YAAM,MAAM,MAAQ,KAAK,MAAQ,IAAI,MAAQ,KAAK;AAClD,YAAM,MAAM,MAAQ,KAAK,MAAQ,IAAI,MAAQ,KAAK;AAClD,YAAM,MAAM,MAAQ,KAAK,MAAQ,IAAI,OAAS,KAAK;AACnD,YAAM,WAAW,WAAU,2BAA2B,EAAE;AACxD,YAAM,WAAW,WAAU,2BAA2B,EAAE;AACxD,YAAM,WAAW,WAAU,2BAA2B,EAAE;AACxD,YAAM,SAAmB,eACrB,CAAC,UAAU,UAAU,QAAQ,GAC7B,WAAU,2BAA2B;AAKzC,UAAI,OAAO,CAAC,IAAI,KAAK,OAAO,CAAC,IAAI,KAAK,OAAO,CAAC,IAAI,GAAG;AACnD,eAAO;;AAET,YAAM,KAAK,WAAU,cAAc,CAAC;AACpC,YAAM,KAAK,WAAU,cAAc,CAAC;AACpC,YAAM,KAAK,WAAU,cAAc,CAAC;AACpC,YAAM,MAAM,KAAK,OAAO,CAAC,IAAI,KAAK,OAAO,CAAC,IAAI,KAAK,OAAO,CAAC;AAC3D,UAAI,OAAO,GAAG;AACZ,eAAO;;AAET,UAAI,mBAAmB,KAAK,KAAK,IAAI,MAAM,CAAC,IAAI,MAAO;AACrD,YAAI,OAAO,CAAC,IAAI,UAAU,OAAO,CAAC,IAAI,UAAU,OAAO,CAAC,IAAI,QAAQ;AAClE,iBAAO;;AAET,eAAkB,eAAe,MAAM;;AAIzC,UAAI,KAAK,MAAM,KAAK,KAAK,IAAI;;AAE/B,WAAO;EACT;;;;;;;;;;;;;EAcA,OAAO,WAAW,YAAoB,QAAgB,OAAa;AACjE,QAAI,SAAS,QAAU,QAAQ,QAAU,QAAQ,SAAS;AACxD,aAAkB,cAAc,KAAK;;AAEvC,iBAAuB,sBAAsB,UAAU;AACvD,UAAM,aAAa,aAAa,MAAM,KAAK;AAC3C,UAAM,IAAe,WAAW,KAAK;AACrC,UAAM,cAAc,WAAU,cAAc,YAAY,QAAQ,CAAC;AACjE,QAAI,gBAAgB,GAAG;AACrB,aAAO;;AAET,UAAM,SAAS,WAAU,cAAc,GAAG,UAAU;AACpD,WAAkB,eAAe,MAAM;EACzC;;;;;;;;;;;;;EAcA,OAAO,WAAW,YAAoB,QAAgB,OAAa;AACjE,WAAO,MAAM,QAAQ,WAAU,WAAW,YAAY,QAAQ,KAAK,CAAC;EACtE;;AArgBO,UAAA,8BAA8B;EACnC;IACE;IACA;IACA;;EAEF;IACE;IACA;IACA;;EAEF;IACE;IACA;IACA;;;AAIG,UAAA,8BAA8B;EACnC;IACE;IACA;IACA;;EAEF;IACE;IACA;IACA;;EAEF;IACE;IACA;IACA;;;AAIG,UAAA,gBAAgB,CAAC,QAAQ,QAAQ,MAAM;AAEvC,UAAA,kBAAkB;EACvB;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;EAC5C;EAAsB;EAAsB;;;;ACjH1C,IAAO,MAAP,MAAO,KAAG;EAcd,OAAO,KAAK,KAAa,QAAgB,MAAY;AACnD,WAAO,IAAI,KAAI,UAAU,WAAW,KAAK,QAAQ,IAAI,CAAC;EACxD;;;;;EAMA,OAAO,QAAQ,MAAY;AACzB,WAAO,IAAI,KAAI,IAAI;EACrB;EAEA,QAAK;AACH,WAAO,KAAK;EACd;;;;;EAMA,IAAI,MAAG;AACL,WAAO,KAAK;EACd;;;;;;EAOA,IAAI,IAAI,QAAc;AACpB,SAAK,iBACD,UAAU,WACN,QACA,KAAK,gBACL,KAAK,YAAY,CAChB;EAEX;EAEA,IAAI,SAAM;AACR,WAAO,KAAK;EACd;;;;;;EAOA,IAAI,OAAO,WAAiB;AAC1B,SAAK,iBACD,UAAU,WACN,KAAK,aACL,WACA,KAAK,YAAY,CAChB;EAEX;;EAGA,IAAI,OAAI;AACN,WAAO,KAAK;EACd;;;;;;EAOA,IAAI,KAAK,SAAe;AACtB,SAAK,iBACD,UAAU,WACN,KAAK,aACL,KAAK,gBACL,OAAO,CACN;EAEX;EAEA,YAA4B,MAAY;AAAZ,SAAA,OAAA;AAC1B,UAAM,MAAM,MAAM,QAAQ,IAAI;AAC9B,SAAK,cAAc,IAAI;AACvB,SAAK,iBAAiB,IAAI;AAC1B,SAAK,eAAqB,cAAc,IAAI;AAC5C,SAAK,OAAO;EACd;EAEQ,iBAAiB,MAAY;AACnC,UAAM,MAAM,MAAM,QAAQ,IAAI;AAC9B,SAAK,cAAc,IAAI;AACvB,SAAK,iBAAiB,IAAI;AAC1B,SAAK,eAAqB,cAAc,IAAI;AAC5C,SAAK,OAAO;EACd;;;;;;;;;;;;;;;EAgBA,oBAAoB,IAAqB;AAEvC,UAAM,MAAM,MAAM,QAAQ,KAAK,MAAK,CAAE;AACtC,UAAM,aAAa,IAAI,uBAAuB,EAAE;AAGhD,UAAM,aAAa,MAAM,2BACrB,WAAW,CAAC,GACZ,WAAW,CAAC,GACZ,WAAW,CAAC,GACZ,kBAAkB,KAAI,CAAE;AAM5B,UAAM,YAAY,KAAI,KAClB,WAAW,KACX,WAAW,QACL,WAAW,WAAW,CAAC,CAAC,CAAC;AAEnC,WAAO;EACT;;;;ACvJI,IAAO,WAAP,MAAO,UAAQ;;;;;;;EAOnB,OAAO,aAAa,OAAe,OAAa;AAC9C,YAAa,YAAY,GAAK,KAAO,KAAK;AAC1C,YAAa,YAAY,GAAK,KAAO,KAAK;AAC1C,WAAO,UAAS,UAAgB,WAAW,KAAK,GAAS,WAAW,KAAK,CAAC;EAC5E;EAEA,OAAO,UAAU,IAAY,IAAU;AACrC,UAAM,UAAU,KAAK,KAAK,KAAK;AAC/B,UAAM,SAAU,YAAY,KAAM,KAAK;AACvC,YAAQ,UAAU,MAAQ,SAAS;EACrC;;;;;;;;;;;EAYA,OAAO,QAAQ,MAAc,OAAa;AACxC,QAAI,OAAO,KAAO,OAAO,KAAO;AAC9B,aAAO;;AAGT,UAAM,QAAc,WAAW,IAAI;AACnC,UAAM,SAAS,SAAS,QAAQ,KAAO;AACvC,UAAM,eAAe,UAAS,UAAU,QAAQ,KAAK;AACrD,UAAM,QAAQ,KAAK,IAAI,eAAe,KAAK;AAC3C,QAAI,eAAe,SAAS,QAAQ,MAAM;AACxC,aAAO;;AAKT,UAAM,cAAoB,WAAW,MAAM,IAAI;AAC/C,QAAI,cAAc,KAAK,cAAc,KAAK;AACxC,aAAO;;AAET,WAAO;EACT;;;;;;;;;;;EAYA,OAAO,OAAO,MAAc,OAAa;AACvC,QAAI,OAAO,KAAO,OAAO,KAAO;AAC9B,aAAO;;AAGT,UAAM,SAAe,WAAW,IAAI;AACpC,UAAM,SAAU,SAAS,KAAO,QAAS;AACzC,UAAM,eAAe,UAAS,UAAU,QAAQ,KAAK;AAErD,UAAM,QAAQ,KAAK,IAAI,eAAe,KAAK;AAC3C,QAAI,eAAe,SAAS,QAAQ,MAAM;AACxC,aAAO;;AAKT,UAAM,cAAoB,WAAW,KAAK,IAAI;AAC9C,QAAI,cAAc,KAAK,cAAc,KAAK;AACxC,aAAO;;AAET,WAAO;EACT;;;;;;;;;;;;;;;EAgBA,OAAO,cAAc,MAAc,OAAa;AAC9C,UAAM,cAAc,UAAS,QAAQ,MAAM,KAAK;AAChD,WAAQ,cAAc,IAAO,MAAQ;EACvC;;;;;;;;;;;;;;;EAgBA,OAAO,aAAa,MAAc,OAAa;AAC7C,UAAM,aAAa,UAAS,OAAO,MAAM,KAAK;AAC9C,WAAQ,aAAa,IAAO,IAAM;EACpC;;;;AC5HI,IAAO,kBAAP,MAAO,iBAAe;;;;;;;;;EAS1B,OAAO,WAAW,KAAQ;AACxB,UAAM,YACF,KAAK,MAAM,IAAI,GAAG,KAAK,MAAQ,KAAK,MAAM,IAAI,GAAG,KAAK;AAC1D,UAAM,eAAe,KAAK,MAAM,IAAI,MAAM,IAAI;AAC9C,UAAM,aAAa,KAAK,MAAM,IAAI,IAAI,IAAI;AAE1C,WAAO,aAAa,gBAAgB;EACtC;;;;;;;;EASA,OAAO,cAAc,KAAQ;AAC3B,QAAI,iBAAgB,WAAW,GAAG,GAAG;AACnC,aAAO,IAAI,KACP,IAAI,KACJ,IAAI,QACJ,EAAI;;AAIV,WAAO;EACT;;;;ACDI,IAAO,eAAP,MAAO,cAAY;;;;;;;EASvB,OAAO,YAAY,MAAwB;AACzC,WAAO,IAAI,cACP,KAAK,QAAQ,IACb,KAAK,SACL,KAAK,MACL,KAAK,gBAAgB,OACrB,KAAK,YACL,KAAK,kBACL,KAAK,eACL,KAAK,aAAa;EAExB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAkCA,YACa,MACA,SACA,MACA,cACA,YACA,kBACA,eACA,eAAwD;AAPxD,SAAA,OAAA;AACA,SAAA,UAAA;AACA,SAAA,OAAA;AACA,SAAA,eAAA;AACA,SAAA,aAAA;AACA,SAAA,mBAAA;AACA,SAAA,gBAAA;AACA,SAAA,gBAAA;AA7DI,SAAA,WAAW,oBAAI,IAAG;AA+DjC,QAAK,CAAC,cAAe,kBAAkB;AACrC,YAAM,IAAI,MACN,SAAS,IAAI,8DAC4B;;AAE/C,QAAK,CAAC,cAAe,eAAe;AAClC,YAAM,IAAI,MACN,SAAS,IAAI,2DAC4B;;AAE/C,QAAI,cAAc,CAAC,eAAe;AAChC,YAAM,IAAI,MACN,SAAS,IAAI,2DAC+B;;EAEpD;;;;;;;;EASA,QAAQ,QAAqB;AAC3B,WAAO,KAAK,OAAO,MAAM,EAAE,MAAK;EAClC;;;;;;;;;EAUA,OAAO,QAAqB;AAC1B,UAAM,eAAe,KAAK,SAAS,IAAI,MAAM;AAC7C,QAAI,gBAAgB,MAAM;AACxB,aAAO;;AAET,UAAM,OAAO,KAAK,QAAQ,MAAM;AAChC,UAAM,SAAS,KAAK,QAAQ,MAAM,EAAE,OAAO,IAAI;AAC/C,QAAI,KAAK,SAAS,OAAO,GAAG;AAC1B,WAAK,SAAS,MAAK;;AAErB,SAAK,SAAS,IAAI,QAAQ,MAAM;AAChC,WAAO;EACT;;;;;;;;;EAUA,QAAQ,QAAqB;AAC3B,UAAM,qBAAqB,OAAO,gBAAgB;AAGlD,QAAI,KAAK,eAAe;AACtB,YAAM,gBAAgB,KAAK,cAAc,MAAM;AAC/C,YAAM,QAAQ,cAAc;AAC5B,YAAM,QAAQ,cAAc;AAC5B,YAAM,QAAQ,cAAc;AAC5B,YAAM,WAAW,cAAc;AAC/B,YAAM,eAAe,cAAc;AAEnC,YAAM,KAAK,KAAK,WAAY,MAAM;AAClC,YAAM,SAAS,GAAG,QAAQ,MAAM;AAEhC,YAAM,YACD,aAAa,YACZ,aAAa,aAAa,CAAC,OAAO,UAClC,aAAa,YAAY,OAAO;AACtC,YAAM,SAAS,YAAY,QAAQ;AACnC,YAAM,UAAU,YAAY,QAAQ;AACpC,YAAM,WAAW,KAAK,SAAS,OAAO;AACtC,YAAM,eAAe,OAAO,SAAS,IAAI;AAGzC,YAAM,YAAY,OAAO,cAAe,IAAI,OAAO,aAAa;AAChE,YAAM,YAAY,QAAQ,cAAe,IAAI,OAAO,aAAa;AAIjE,YAAM,eAAe,OAAO,KAAK,MAAM;AACvC,UAAI,QAAQ,SAAS,aAAa,QAAQ,YAAY,KAAK,YACvD,eACA,cAAa,eAAe,QAAQ,SAAS;AAEjD,YAAM,eAAe,QAAQ,KAAK,MAAM;AACxC,UAAI,QAAQ,SAAS,aAAa,QAAQ,YAAY,KAAK,YACvD,eACA,cAAa,eAAe,QAAQ,SAAS;AAEjD,UAAI,oBAAoB;AAGtB,gBAAQ,cAAa,eAAe,QAAQ,SAAS;AACrD,gBAAQ,cAAa,eAAe,QAAQ,SAAS;;AAGvD,WAAK,QAAQ,SAAS,gBAAgB,OAAO;aAEtC;AAEL,gBAAa,YAAY,GAAG,KAAK,QAAQ,QAAQ,YAAY;AAC7D,aAAK,QAAQ,SAAS,gBAAgB,OAAO;eAEtC;AAEL,kBAAa,YAAY,GAAG,KAAK,QAAQ,QAAQ,YAAY;;;AAKjE,UAAI,MAAM,SAAS,QAAQ,IAAI;AAG7B,YAAI,eAAe,GAAG;AACpB,kBAAQ;AACR,kBAAQ,KAAK,IAAI,OAAO,QAAQ,QAAQ,YAAY;eAC/C;AACL,kBAAQ;AACR,kBAAQ,KAAK,IAAI,OAAO,QAAQ,QAAQ,YAAY;;iBAE7C,MAAM,SAAS,QAAQ,IAAI;AACpC,YAAI,cAAc;AAGhB,cAAI,eAAe,GAAG;AACpB,oBAAQ;AACR,oBAAQ,KAAK,IAAI,OAAO,QAAQ,QAAQ,YAAY;iBAC/C;AACL,oBAAQ;AACR,oBAAQ,KAAK,IAAI,OAAO,QAAQ,QAAQ,YAAY;;eAEjD;AAEL,cAAI,eAAe,GAAG;AACpB,oBAAQ;iBACH;AACL,oBAAQ;;;;AAMd,aAAO,WAAW,QAAQ;WAGvB;AAEH,UAAI,SAAS,KAAK,KAAK,MAAM;AAE7B,UAAI,KAAK,cAAc,MAAM;AAC3B,eAAO;;AAGT,YAAM,SAAS,KAAK,WAAW,MAAM,EAAE,QAAQ,MAAM;AAErD,YAAM,eAAe,KAAK,cAAe,IAAI,OAAO,aAAa;AAEjE,UAAI,SAAS,aAAa,QAAQ,MAAM,KAAK,cAAc;aAEpD;AAEL,iBAAS,cAAa,eAAe,QAAQ,YAAY;;AAG3D,UAAI,oBAAoB;AACtB,iBAAS,cAAa,eAAe,QAAQ,YAAY;;AAG3D,UAAI,KAAK,gBAAgB,MAAM,UAAU,SAAS,IAAI;AAEpD,YAAI,SAAS,aAAa,IAAI,MAAM,KAAK,cAAc;AACrD,mBAAS;eACJ;AACL,mBAAS;;;AAIb,UAAI,KAAK,kBAAkB;AAGzB,cAAM,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,YAAY,KAAK,gBAAgB;AAC1D,cAAM,CAAC,SAAS,OAAO,IACnB,CAAC,IAAI,MAAM,EAAE,QAAQ,MAAM,GAAG,IAAI,MAAM,EAAE,QAAQ,MAAM,CAAC;AAC7D,cAAM,CAAC,OAAO,KAAK,IACf,CAAC,KAAK,IAAI,SAAS,OAAO,GAAG,KAAK,IAAI,SAAS,OAAO,CAAC;AAE3D,YAAI,SAAS,aAAa,OAAO,MAAM,KAAK,gBACxC,SAAS,aAAa,OAAO,MAAM,KAAK,cAAc;AACxD,iBAAO;;AAKT,cAAM,cAAc,SAAS,QAAQ,OAAO,YAAY;AAIxD,cAAM,aAAa,SAAS,OAAO,OAAO,YAAY;AAGtD,cAAM,aAAa,CAAA;AACnB,YAAI,gBAAgB;AAAI,qBAAW,KAAK,WAAW;AACnD,YAAI,eAAe;AAAI,qBAAW,KAAK,UAAU;AAEjD,cAAM,eAAe,cAAa,2BAA2B,OAAO,KAChE,cAAa,2BAA2B,OAAO;AACnD,YAAI,cAAc;AAChB,iBAAQ,cAAc,IAAK,MAAM;;AAEnC,YAAI,WAAW,WAAW,GAAG;AAC3B,iBAAO,WAAW,CAAC;;AAErB,eAAQ,aAAa,IAAK,IAAI;;AAGhC,aAAO;;EAEX;;;;;;;;;;EAWA,OAAO,eAAe,QAAgB,OAAa;AACjD,UAAM,cAAc,SAAS,cAAc,QAAQ,KAAK;AACxD,UAAM,aAAa,SAAS,aAAa,QAAQ,KAAK;AACtD,UAAM,eAAe,SAAS,aAAa,aAAa,MAAM;AAC9D,UAAM,cAAc,SAAS,aAAa,YAAY,MAAM;AAC5D,UAAM,gBAAgB,cAAa,2BAA2B,MAAM;AAEpE,QAAI,eAAe;AAUjB,YAAM,uBAAuB,KAAK,IAAI,eAAe,WAAW,IAAI,OAChE,eAAe,SAAS,cAAc;AAC1C,aAAO,gBAAgB,SAAS,gBAAgB,eACxC,uBACJ,cACA;WACC;AACL,aAAO,eAAe,SAAS,eAAe,eAAe,aACA;;EAEjE;;;;;;;;;;;;EAaA,OAAO,2BAA2B,MAAY;AAC5C,WAAO,KAAK,MAAM,IAAI,IAAI;EAC5B;;;;;EAMA,OAAO,0BAA0B,MAAY;AAC3C,WAAO,KAAK,MAAM,IAAI,KAAK;EAC7B;;;;;EAMA,OAAO,sBAAsB,MAAY;AACvC,QAAI,cAAa,2BAA2B,IAAI,KAC5C,CAAC,cAAa,0BAA0B,IAAI,GAAG;AACjD,aAAO;;AAET,WAAO;EACT;;;;ACxZI,IAAO,eAAP,MAAO,cAAY;;;;;EAOvB,OAAO,QAAQ,MAAY;AACzB,UAAM,MAAM,IAAI,QAAQ,IAAI;AAC5B,WAAO,cAAa,QAAQ,GAAG;EACjC;;;;;EAMA,OAAO,QAAQ,KAAQ;AACrB,WAAO,IAAI,cAAa,IAAI,KAAK,IAAI,QAAQ,GAAG;EAClD;;;;;;EAOA,OAAO,iBAAiB,KAAa,QAAc;AACjD,UAAM,WAAW,IAAI,SAAS,KAAK,MAAM,EAAE,OAAM;AACjD,WAAO,IAAI,cAAa,KAAK,QAAQ,QAAQ;EAC/C;EAEA,YAA6B,KAAsB,QAAyB,UAAa;AAA5D,SAAA,MAAA;AAAsB,SAAA,SAAA;AAAyB,SAAA,WAAA;AA7B3D,SAAA,QAAQ,oBAAI,IAAG;EA6B4D;;;;;EAM5F,KAAK,MAAY;AACf,QAAI,OAAO,KAAK,MAAM,IAAI,IAAI;AAC9B,QAAI,SAAS,QAAW;AACtB,aAAO,IAAI,KAAK,KAAK,KAAK,KAAK,QAAQ,IAAI,EAAE,MAAK;AAClD,WAAK,MAAM,IAAI,MAAM,IAAI;;AAE3B,WAAO;EACT;;;;;EAMA,OAAO,MAAY;AACjB,WAAO,IAAI,QAAQ,KAAK,KAAK,IAAI,CAAC;EACpC;;AAMF,IAAM,WAAN,MAAc;EAKZ,YAAqB,KAAsB,iBAAuB;AAA7C,SAAA,MAAA;AAAsB,SAAA,kBAAA;AAH1B,SAAA,cAAc,oBAAI,IAAG;AACrB,SAAA,iBAAiB;EAEmC;;;;;;;;EASrE,SAAM;AAGJ,UAAM,YAAY;AAClB,UAAM,eAAe;AAErB,UAAM,UAAU;AAIhB,QAAI,YAAY;AAChB,QAAI,YAAY;AAChB,WAAO,YAAY,WAAW;AAC5B,YAAM,UAAU,KAAK,OAAO,YAAY,aAAa,CAAC;AACtD,YAAM,cACF,KAAK,UAAU,OAAO,IAAI,KAAK,UAAU,UAAU,YAAY;AACnE,YAAM,mBACF,KAAK,UAAU,OAAO,KAAK,KAAK,kBAAkB;AAEtD,UAAI,kBAAkB;AAGpB,YAAI,KAAK,IAAI,YAAY,SAAS,IAAI,KAAK,IAAI,YAAY,SAAS,GAAG;AACrE,sBAAY;eACP;AACL,cAAI,cAAc,SAAS;AACzB,mBAAO,IAAI,KAAK,KAAK,KAAK,KAAK,iBAAiB,SAAS;;AAE3D,sBAAY;;aAET;AAGL,YAAI,aAAa;AACf,sBAAY,UAAU;eACjB;AAEL,sBAAY;;;;AAKlB,WAAO,IAAI,KAAK,KAAK,KAAK,KAAK,iBAAiB,SAAS;EAC3D;;EAGQ,UAAU,MAAY;AAC5B,QAAI,KAAK,YAAY,IAAI,IAAI,GAAG;AAC9B,aAAO,KAAK,YAAY,IAAI,IAAI;;AAElC,UAAM,SAAS,IAAI,KAAK,KAAK,KAAK,KAAK,gBAAgB,IAAI,EAAE;AAC7D,SAAK,YAAY,IAAI,MAAM,MAAM;AACjC,WAAO;EACT;;;;ACzHI,IAAO,gBAAP,MAAoB;;;;;;;;;EASxB,YACa,KACA,QACA,QACA,MAAY;AAHZ,SAAA,MAAA;AACA,SAAA,SAAA;AACA,SAAA,SAAA;AACA,SAAA,OAAA;EACV;;;;;;;;EASH,IAAI,eAAqB;AACvB,QAAI,iBAAiB,IAAM;AACzB,aAAO,KAAK;eACH,gBAAgB,GAAK;AAC9B,aAAY,KAAK,KAAK,KAAK,KAAK,SAAS,gBAAiB,MAAO,CAAC;eACzD,gBAAgB,KAAK;AAC9B,aAAY,KAAK,KAAK,QAAQ,KAAK,SAAS,gBAAgB,KAAK,GAAG;eAC3D,gBAAgB,GAAK;AAC9B,aAAY,KAAK,KAAK,QAAQ,KAAK,OAAO,gBAAgB,OAAO,GAAG;WAC/D;AACL,aAAO,KAAK;;EAEhB;;;;AC7BI,IAAO,gBAAP,MAAoB;;;;;;;;;;;;;;;;;;;;;;;;EAwBxB,YACa,OACA,OACA,OACA,UACA,cAAqB;AAJrB,SAAA,QAAA;AACA,SAAA,QAAA;AACA,SAAA,QAAA;AACA,SAAA,WAAA;AACA,SAAA,eAAA;EACV;;;;ACxCL,IAAY;CAAZ,SAAYC,UAAO;AACjB,EAAAA,SAAAA,SAAA,YAAA,IAAA,CAAA,IAAA;AACA,EAAAA,SAAAA,SAAA,SAAA,IAAA,CAAA,IAAA;AACA,EAAAA,SAAAA,SAAA,YAAA,IAAA,CAAA,IAAA;AACA,EAAAA,SAAAA,SAAA,SAAA,IAAA,CAAA,IAAA;AACA,EAAAA,SAAAA,SAAA,YAAA,IAAA,CAAA,IAAA;AACA,EAAAA,SAAAA,SAAA,UAAA,IAAA,CAAA,IAAA;AACA,EAAAA,SAAAA,SAAA,SAAA,IAAA,CAAA,IAAA;AACA,EAAAA,SAAAA,SAAA,SAAA,IAAA,CAAA,IAAA;AACA,EAAAA,SAAAA,SAAA,aAAA,IAAA,CAAA,IAAA;AACF,GAVY,YAAA,UAAO,CAAA,EAAA;;;ACInB,SAAS,WAAW,QAAqB;AACvC,SAAO,OAAO,YAAY,QAAQ,YAC9B,OAAO,YAAY,QAAQ;AACjC;AAEA,SAAS,aAAa,QAAqB;AACzC,SAAO,OAAO,YAAY,QAAQ;AACpC;AAEA,SAAS,wBACL,KAAa,QAAgB,MAC7B,kBAAyB;AAC3B,MAAI,SAAS;AAEb,MAAI,kBAAkB,IAAI,KAAK,KAAK,QAAQ,IAAI;AAChD,MAAI,gBAAgB,SAAS,QAAQ;AACnC,QAAI,aAAa,gBAAgB;AACjC,WAAO,gBAAgB,SAAS,QAAQ;AACtC,gBAAU,mBAAmB,KAAO;AACpC,YAAM,oBAAoB,IAAI,KAAK,KAAK,QAAQ,MAAM;AACtD,UAAI,aAAa,kBAAkB,QAAQ;AACzC;;AAEF,UAAI,KAAK,IAAI,kBAAkB,SAAS,MAAM,IAAI,KAAK;AACrD;;AAGF,YAAM,iBAAiB,KAAK,IAAI,kBAAkB,SAAS,MAAM;AACjE,YAAM,eAAe,KAAK,IAAI,gBAAgB,SAAS,MAAM;AAC7D,UAAI,iBAAiB,cAAc;AACjC,0BAAkB;;AAEpB,mBAAa,KAAK,IAAI,YAAY,kBAAkB,MAAM;;;AAI9D,SAAO;AACT;AAOM,IAAO,wBAAP,MAAO,uBAAqB;EAEhC,OAAO,eAAe,GAAgB;AACpC,WAAO,EAAE,SAAS,uBAAsB,gBACtB,uBAAsB;EAC1C;;AAJO,sBAAA,yBAAyB;AAMzB,sBAAA,yBAAyB,aAAa,YAAY;EACvD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,eAAe,SAAS;CACxC;AAEM,sBAAA,2BAA2B,aAAa,YAAY;EACzD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,iBAAiB,SAAS;CAC1C;AAEM,sBAAA,0BAA0B,aAAa,YAAY;EACxD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,gBAAgB,SAAS;CACzC;AAEM,sBAAA,yBAAyB,aAAa,YAAY;EACvD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,eAAe,SAAS;CACxC;AAEM,sBAAA,gCAAgC,aAAa,YAAY;EAC9D,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,sBAAsB,SAAS;CAC/C;AAEM,sBAAA,aAAa,aAAa,YAAY;EAC3C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SAAS,IAAI;EAC5B,cAAc;CACf;AAEM,sBAAA,eAAe,aAAa,YAAY;EAC7C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SAAS,KAAK;EAC7B,YAAY,CAAC,MAAM,sBAAsB;EACzC,eAAe,IAAI,cAAc,GAAG,GAAG,KAAK,CAAC;CAC9C;AAEM,sBAAA,UAAU,aAAa,YAAY;EACxC,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SAAS,IAAI;EAC5B,cAAc;CACf;AAEM,sBAAA,aAAa,aAAa,YAAY;EAC3C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MACH,EAAE,SAAS,IAAI,IAAI,cAAc,IAAI,IAAI,IAAI,EAAE,EAAE,IAAI,EAAE,aAAa;EACxE,cAAc;CACf;AAEM,sBAAA,gBAAgB,aAAa,YAAY;EAC9C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MACH,EAAE,SAAS,IAAI,cAAc,IAAI,IAAI,IAAI,EAAE,EAAE,IAAI,EAAE,aAAa,IAAI;EACxE,cAAc;CACf;AAEM,sBAAA,yBAAyB,aAAa,YAAY;EACvD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MACH,EAAE,SAAS,IAAI,cAAc,GAAG,GAAG,GAAG,CAAC,EAAE,IAAI,EAAE,aAAa,IAAI;EACpE,cAAc;CACf;AAEM,sBAAA,sBAAsB,aAAa,YAAY;EACpD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SACX,IAAI,cAAc,IAAI,IAAI,IAAI,EAAE,EAAE,IAAI,EAAE,aAAa,IACrD,IAAI,cAAc,IAAI,IAAI,IAAI,EAAE,EAAE,IAAI,EAAE,aAAa;EACzD,cAAc;CACf;AAEM,sBAAA,mBAAmB,aAAa,YAAY;EACjD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SACX,IAAI,cAAc,IAAI,IAAI,IAAI,EAAE,EAAE,IAAI,EAAE,aAAa,IACrD,IAAI,cAAc,IAAI,IAAI,IAAI,EAAE,EAAE,IAAI,EAAE,aAAa;EACzD,cAAc;CACf;AAEM,sBAAA,uBAAuB,aAAa,YAAY;EACrD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SACX,IAAI,cAAc,IAAI,IAAI,IAAI,EAAE,EAAE,IAAI,EAAE,aAAa,IACrD,IAAI,cAAc,IAAI,IAAI,IAAI,EAAE,EAAE,IAAI,EAAE,aAAa;EACzD,cAAc;CACf;AAEM,sBAAA,0BAA0B,aAAa,YAAY;EACxD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SACX,IAAI,cAAc,IAAI,IAAI,IAAI,EAAE,EAAE,IAAI,EAAE,aAAa,IACrD,IAAI,cAAc,IAAI,IAAI,IAAI,EAAE,EAAE,IAAI,EAAE,aAAa;EACzD,cAAc;CACf;AAEM,sBAAA,YAAY,aAAa,YAAY;EAC1C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SAAS,KAAK;EAC7B,YAAY,CAAC,MAAM,sBAAsB,eAAe,CAAC;EACzD,eAAe,IAAI,cAAc,KAAK,GAAG,IAAI,EAAE;CAChD;AAEM,sBAAA,iBAAiB,aAAa,YAAY;EAC/C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SAAS,KAAK;EAC7B,cAAc;CACf;AAEM,sBAAA,mBAAmB,aAAa,YAAY;EACjD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SAAS,KAAK;EAC7B,YAAY,CAAC,MAAM,sBAAsB,eAAe,CAAC;EACzD,eAAe,IAAI,cAAc,GAAG,KAAK,GAAG,EAAE;CAC/C;AAEM,sBAAA,iBAAiB,aAAa,YAAY;EAC/C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SAAS,KAAK;CAC9B;AAEM,sBAAA,mBAAmB,aAAa,YAAY;EACjD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SAAS,KAAK;EAC7B,YAAY,CAAC,MAAM,sBAAsB;EACzC,eAAe,IAAI,cAAc,KAAK,GAAG,IAAI,EAAE;CAChD;AAEM,sBAAA,UAAU,aAAa,YAAY;EACxC,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SAAS,KAAK;EAC7B,YAAY,CAAC,MAAM,sBAAsB,eAAe,CAAC;EACzD,eAAe,IAAI,cAAc,KAAK,GAAG,KAAK,CAAC;CAChD;AAEM,sBAAA,iBAAiB,aAAa,YAAY;EAC/C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SAAS,KAAK;EAC7B,YAAY,CAAC,MAAM,sBAAsB,eAAe,CAAC;EACzD,eAAe,IAAI,cAAc,GAAG,GAAG,GAAG,GAAG;CAC9C;AAEM,sBAAA,SAAS,aAAa,YAAY;EACvC,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM;CACd;AAEM,sBAAA,QAAQ,aAAa,YAAY;EACtC,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM;CACd;AAEM,sBAAA,cAAc,aAAa,YAAY;EAC5C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SAAS,KAAK;EAC7B,cAAc;CACf;AAEM,sBAAA,UAAU,aAAa,YAAY;EACxC,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MACI,CAAC,MAAK;AACJ,QAAI,aAAa,CAAC,GAAG;AACnB,aAAO,EAAE,SAAS,MAAM;;AAE1B,WAAO,EAAE,SAAS,KAAK;EACzB;EACJ,cAAc;EACd,YAAY,CAAC,MAAM,sBAAsB,eAAe,CAAC;EACzD,eAAe,IAAI,cAAc,GAAG,KAAK,GAAG,CAAC;EAC7C,eAAe,CAAC,MAAM,IAAI,cACtB,sBAAsB,kBAAkB,sBAAsB,SAC9D,IAAI,UAAU,KAAK;CACxB;AAEM,sBAAA,YAAY,aAAa,YAAY;EAC1C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MACI,CAAC,MAAK;AACJ,QAAI,aAAa,CAAC,GAAG;AACnB,aAAO,EAAE,SAAS,KAAK;;AAEzB,WAAO,EAAE,SAAS,KAAK;EACzB;EACJ,YAAY,CAAC,MAAM,sBAAsB;EACzC,eAAe,IAAI,cAAc,KAAK,GAAG,IAAI,EAAE;CAChD;AAEM,sBAAA,mBAAmB,aAAa,YAAY;EACjD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MACI,CAAC,MAAK;AACJ,QAAI,WAAW,CAAC,GAAG;AACjB,aAAO,EAAE,eAAe;;AAE1B,QAAI,aAAa,CAAC,GAAG;AACnB,aAAO,EAAE,SAAS,KAAK;;AAEzB,WAAO,EAAE,SAAS,KAAK;EACzB;EACJ,cAAc;EACd,YAAY,CAAC,MAAM,sBAAsB,eAAe,CAAC;EACzD,eAAe,IAAI,cAAc,GAAG,GAAG,GAAG,GAAG;EAC7C,eAAe,CAAC,MAAM,IAAI,cACtB,sBAAsB,kBAAkB,sBAAsB,SAC9D,IAAI,UAAU,KAAK;CACxB;AAEM,sBAAA,qBAAqB,aAAa,YAAY;EACnD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MACI,CAAC,MAAK;AACJ,QAAI,WAAW,CAAC,GAAG;AACjB,aAAO,aAAa,eAChB,sBAAsB,iBAAiB,KAAK,CAAC,GAAG,GAAG;;AAEzD,QAAI,aAAa,CAAC,GAAG;AACnB,aAAO,EAAE,SAAS,IAAI;;AAExB,WAAO,EAAE,SAAS,KAAK;EACzB;EACJ,YAAY,CAAC,MAAM,sBAAsB;EACzC,eAAe,IAAI,cAAc,GAAG,KAAK,GAAG,EAAE;CAC/C;AAEM,sBAAA,iBAAiB,aAAa,YAAY;EAC/C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SAAS,KAAK;EAC7B,YAAY,CAAC,MAAM,sBAAsB;EACzC,eAAe,IAAI,cAAc,GAAG,KAAK,GAAG,CAAC;CAC9C;AAEM,sBAAA,YAAY,aAAa,YAAY;EAC1C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SAAS,KAAK;EAC7B,cAAc;EACd,YAAY,CAAC,MAAM,sBAAsB,eAAe,CAAC;EACzD,eAAe,IAAI,cAAc,GAAG,KAAK,GAAG,CAAC;EAC7C,eAAe,CAAC,MAAM,IAAI,cACtB,sBAAsB,oBACtB,sBAAsB,WAAW,IAAI,UAAU,KAAK;CACzD;AAEM,sBAAA,cAAc,aAAa,YAAY;EAC5C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MACI,CAAC,MAAK;AACJ,QAAI,aAAa,CAAC,GAAG;AACnB,aAAO,EAAE,SAAS,KAAK;WAClB;AACL,aAAO,EAAE,SAAS,KAAK;;EAE3B;EACJ,YAAY,CAAC,MAAM,sBAAsB;EACzC,eAAe,IAAI,cAAc,KAAK,GAAG,IAAI,EAAE;CAChD;AAEM,sBAAA,qBAAqB,aAAa,YAAY;EACnD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MACI,CAAC,MAAK;AACJ,UAAM,cAAc,EAAE,SAAS,KAAK;AACpC,QAAI,aAAa,CAAC,GAAG;AACnB,aAAO,EAAE,SAAS,KAAK;;AAEzB,QAAI,CAAC,WAAW,CAAC,GAAG;AAClB,aAAO;;AAET,WAAO,wBACH,EAAE,iBAAiB,KAAK,EAAE,iBAAiB,QAAQ,aACnD,EAAE,SAAS,QAAQ,IAAI;EAC7B;EACJ,cAAc;EACd,YAAY,CAAC,MAAM,sBAAsB,eAAe,CAAC;EACzD,eAAe,IAAI,cAAc,GAAG,GAAG,GAAG,GAAG;EAC7C,eAAe,CAAC,MAAM,IAAI,cACtB,sBAAsB,oBACtB,sBAAsB,WAAW,IAAI,UAAU,KAAK;CACzD;AAEM,sBAAA,uBAAuB,aAAa,YAAY;EACrD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MACI,CAAC,MAAK;AACJ,QAAI,aAAa,CAAC,GAAG;AACnB,aAAO,EAAE,SAAS,KAAK;;AAEzB,QAAI,CAAC,WAAW,CAAC,GAAG;AAClB,aAAO,EAAE,SAAS,KAAK;;AAEzB,WAAO,aAAa,eAChB,sBAAsB,mBAAmB,KAAK,CAAC,GAAG,GAAG;EAC3D;EACJ,YAAY,CAAC,MAAM,sBAAsB;EACzC,eAAe,IAAI,cAAc,GAAG,KAAK,GAAG,EAAE;CAC/C;AAEM,sBAAA,WAAW,aAAa,YAAY;EACzC,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MACI,CAAC,MAAK;AACJ,QAAI,aAAa,CAAC,GAAG;AACnB,aAAO,EAAE,SAAS,KAAK;;AAEzB,WAAO,EAAE,SAAS,KAAK;EACzB;EACJ,cAAc;EACd,YAAY,CAAC,MAAM,sBAAsB,eAAe,CAAC;EACzD,eAAe,IAAI,cAAc,GAAG,KAAK,GAAG,CAAC;EAC7C,eAAe,CAAC,MAAM,IAAI,cACtB,sBAAsB,mBAAmB,sBAAsB,UAC/D,IAAI,UAAU,KAAK;CACxB;AAEM,sBAAA,aAAa,aAAa,YAAY;EAC3C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MACI,CAAC,MAAK;AACJ,QAAI,aAAa,CAAC,GAAG;AACnB,aAAO,EAAE,SAAS,KAAK;;AAEzB,WAAO,EAAE,SAAS,KAAK;EACzB;EACJ,YAAY,CAAC,MAAM,sBAAsB;EACzC,eAAe,IAAI,cAAc,KAAK,GAAG,IAAI,EAAE;CAChD;AAEM,sBAAA,oBAAoB,aAAa,YAAY;EAClD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MACI,CAAC,MAAK;AACJ,QAAI,aAAa,CAAC,GAAG;AACnB,aAAO,EAAE,SAAS,KAAK;;AAEzB,QAAI,CAAC,WAAW,CAAC,GAAG;AAClB,aAAO,EAAE,SAAS,KAAK;;AAEzB,UAAM,cAAc,EAAE,gBAAgB,OAAO,EAAE,eAAe,IAAI;AAClE,WAAO,gBAAgB,cAAc,WAAW,EAAE;EACpD;EACJ,cAAc;EACd,YAAY,CAAC,MAAM,sBAAsB,eAAe,CAAC;EACzD,eAAe,IAAI,cAAc,GAAG,GAAG,GAAG,GAAG;EAC7C,eAAe,CAAC,MAAM,IAAI,cACtB,sBAAsB,mBAAmB,sBAAsB,UAC/D,IAAI,UAAU,KAAK;CACxB;AAEM,sBAAA,sBAAsB,aAAa,YAAY;EACpD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MACI,CAAC,MAAK;AACJ,QAAI,aAAa,CAAC,GAAG;AACnB,aAAO,EAAE,SAAS,IAAI;;AAExB,QAAI,CAAC,WAAW,CAAC,GAAG;AAClB,aAAO,EAAE,SAAS,KAAK;;AAEzB,WAAO,aAAa,eAChB,sBAAsB,kBAAkB,KAAK,CAAC,GAAG,GAAG;EAC1D;EACJ,YAAY,CAAC,MAAM,sBAAsB;EACzC,eAAe,IAAI,cAAc,GAAG,KAAK,GAAG,EAAE;CAC/C;AAEM,sBAAA,QAAQ,aAAa,YAAY;EACtC,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SAAS,KAAK;EAC7B,cAAc;EACd,YAAY,CAAC,MAAM,sBAAsB,eAAe,CAAC;EACzD,eAAe,IAAI,cAAc,GAAG,KAAK,GAAG,CAAC;EAC7C,eAAe,CAAC,MAAM,IAAI,cACtB,sBAAsB,gBAAgB,sBAAsB,OAAO,IACnE,UAAU,KAAK;CACpB;AAEM,sBAAA,UAAU,aAAa,YAAY;EACxC,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SAAS,KAAK;EAC7B,YAAY,CAAC,MAAM,sBAAsB;EACzC,eAAe,IAAI,cAAc,KAAK,GAAG,IAAI,EAAE;CAChD;AAEM,sBAAA,iBAAiB,aAAa,YAAY;EAC/C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,EAAE,SAAS,KAAK;EAC7B,cAAc;EACd,YAAY,CAAC,MAAM,sBAAsB,eAAe,CAAC;EACzD,eAAe,IAAI,cAAc,GAAG,GAAG,GAAG,GAAG;EAC7C,eAAe,CAAC,MAAM,IAAI,cACtB,sBAAsB,gBAAgB,sBAAsB,OAAO,IACnE,UAAU,KAAK;CACpB;AAEM,sBAAA,mBAAmB,aAAa,YAAY;EACjD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MACI,CAAC,MAAK;AACJ,QAAI,aAAa,CAAC,GAAG;AACnB,aAAO,EAAE,SAAS,KAAK;;AAEzB,WAAO,EAAE,SAAS,KAAK;EACzB;EACJ,YAAY,CAAC,MAAM,sBAAsB;EACzC,eAAe,IAAI,cAAc,GAAG,KAAK,GAAG,EAAE;CAC/C;AAEM,sBAAA,eAAe,aAAa,YAAY;EAC7C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,aAAa,CAAC,IAAI,KAAO;EACtC,cAAc;EACd,YAAY,CAAC,MAAM,sBAAsB,eAAe,CAAC;EACzD,eAAe,IAAI,cAAc,GAAG,GAAG,GAAG,GAAG;EAC7C,eAAe,CAAC,MAAM,IAAI,cACtB,sBAAsB,cACtB,sBAAsB,iBAAiB,IAAI,WAAW,IAAI;CAC/D;AAEM,sBAAA,kBAAkB,aAAa,YAAY;EAChD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,aAAa,CAAC,IAAI,KAAO;EACtC,cAAc;EACd,YAAY,CAAC,MAAM,sBAAsB,eAAe,CAAC;EACzD,eAAe,IAAI,cAAc,GAAG,GAAG,GAAG,GAAG;EAC7C,eAAe,CAAC,MAAM,IAAI,cACtB,sBAAsB,cACtB,sBAAsB,iBAAiB,IAAI,WAAW,IAAI;CAC/D;AAEM,sBAAA,iBAAiB,aAAa,YAAY;EAC/C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,aAAa,CAAC,IAAI,MAAQ;EACvC,YAAY,CAAC,MAAM,sBAAsB;EACzC,kBAAkB,CAAC,MAAM,sBAAsB;EAC/C,eAAe,IAAI,cAAc,KAAK,GAAG,IAAI,EAAE;CAChD;AAEM,sBAAA,wBAAwB,aAAa,YAAY;EACtD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,aAAa,CAAC,IAAI,KAAO;EACtC,YAAY,CAAC,MAAM,sBAAsB;EACzC,kBAAkB,CAAC,MAAM,sBAAsB;EAC/C,eAAe,IAAI,cAAc,GAAG,KAAK,GAAG,EAAE;CAC/C;AAEM,sBAAA,iBAAiB,aAAa,YAAY;EAC/C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,aAAa,CAAC,IAAI,KAAO;EACtC,cAAc;EACd,YAAY,CAAC,MAAM,sBAAsB,eAAe,CAAC;EACzD,eAAe,IAAI,cAAc,GAAG,GAAG,GAAG,GAAG;EAC7C,eAAe,CAAC,MAAM,IAAI,cACtB,sBAAsB,gBACtB,sBAAsB,mBAAmB,IAAI,WAAW,IAAI;CACjE;AAEM,sBAAA,oBAAoB,aAAa,YAAY;EAClD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,aAAa,CAAC,IAAI,KAAO;EACtC,cAAc;EACd,YAAY,CAAC,MAAM,sBAAsB,eAAe,CAAC;EACzD,eAAe,IAAI,cAAc,GAAG,GAAG,GAAG,GAAG;EAC7C,eAAe,CAAC,MAAM,IAAI,cACtB,sBAAsB,gBACtB,sBAAsB,mBAAmB,IAAI,WAAW,IAAI;CACjE;AAEM,sBAAA,mBAAmB,aAAa,YAAY;EACjD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM;EACb,YAAY,CAAC,MAAM,sBAAsB;EACzC,kBAAkB,CAAC,MAAM,sBAAsB;EAC/C,eAAe,IAAI,cAAc,KAAK,GAAG,IAAI,EAAE;CAChD;AAEM,sBAAA,0BAA0B,aAAa,YAAY;EACxD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,aAAa,CAAC,IAAI,KAAO;EACtC,YAAY,CAAC,MAAM,sBAAsB;EACzC,kBAAkB,CAAC,MAAM,sBAAsB;EAC/C,eAAe,IAAI,cAAc,GAAG,KAAK,GAAG,EAAE;CAC/C;AAEM,sBAAA,gBAAgB,aAAa,YAAY;EAC9C,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,aAAa,CAAC,IAAI,KAAO;EACtC,cAAc;EACd,YAAY,CAAC,MAAM,sBAAsB,eAAe,CAAC;EACzD,eAAe,IAAI,cAAc,GAAG,GAAG,GAAG,GAAG;EAC7C,eAAe,CAAC,MAAM,IAAI,cACtB,sBAAsB,eACtB,sBAAsB,kBAAkB,IAAI,WAAW,IAAI;CAChE;AAEM,sBAAA,mBAAmB,aAAa,YAAY;EACjD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,aAAa,CAAC,IAAI,KAAO;EACtC,cAAc;EACd,YAAY,CAAC,MAAM,sBAAsB,eAAe,CAAC;EACzD,eAAe,IAAI,cAAc,GAAG,GAAG,GAAG,GAAG;EAC7C,eAAe,CAAC,MAAM,IAAI,cACtB,sBAAsB,eACtB,sBAAsB,kBAAkB,IAAI,WAAW,IAAI;CAChE;AAEM,sBAAA,kBAAkB,aAAa,YAAY;EAChD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,aAAa,CAAC,IAAI,MAAQ;EACvC,YAAY,CAAC,MAAM,sBAAsB;EACzC,kBAAkB,CAAC,MAAM,sBAAsB;EAC/C,eAAe,IAAI,cAAc,KAAK,GAAG,IAAI,EAAE;CAChD;AAEM,sBAAA,yBAAyB,aAAa,YAAY;EACvD,MAAM;EACN,SAAS,CAAC,MAAM,EAAE;EAClB,MAAM,CAAC,MAAM,aAAa,CAAC,IAAI,KAAO;EACtC,YAAY,CAAC,MAAM,sBAAsB;EACzC,kBAAkB,CAAC,MAAM,sBAAsB;EAC/C,eAAe,IAAI,cAAc,GAAG,KAAK,GAAG,EAAE;CAC/C;;;ACvkBG,IAAO,gBAAP,MAAoB;EA6DxB,YAAY,MAA0B;AACpC,SAAK,kBAAkB,KAAK;AAC5B,SAAK,UAAU,KAAK;AACpB,SAAK,gBAAgB,KAAK;AAC1B,SAAK,SAAS,KAAK;AACnB,SAAK,iBAAiB,IAAI,QAAQ,KAAK,eAAe;AACtD,SAAK,iBAAiB,KAAK;AAC3B,SAAK,mBAAmB,KAAK;AAC7B,SAAK,kBAAkB,KAAK;AAC5B,SAAK,iBAAiB,KAAK;AAC3B,SAAK,wBAAwB,KAAK;AAClC,SAAK,eAAe,aAAa,iBAAiB,IAAM,EAAI;EAC9D;;;;;;;;;;;EAYA,OAAO,cAAc,aAAkB,MAAgB,WAAmB;AAExE,UAAM,YAAY,YAAY;AAC9B,QAAI,KAAK,WAAW,UAAU,QAAQ;AACpC,YAAM,IAAI,MAAM,+BAA+B,KAAK,MAAM,gBACtD,UAAU,MAAM,EAAE;;AAExB,QAAI,UAAU,WAAW,GAAG;AAC1B,aAAY,sBAAsB,YAAY,MAAM,UAAU,CAAC,CAAC;;AAElE,UAAM,OAAO,KAAK;AAClB,aAAS,IAAI,GAAG,KAAK,OAAO,GAAG,KAAK;AAClC,YAAM,UAAU,KAAK,CAAC;AACtB,YAAM,UAAU,KAAK,IAAI,CAAC;AAC1B,UAAI,UAAU,aAAa,YAAY,SAAS;AAC9C,eAAY,sBAAsB,YAAY,UAAU,CAAC,CAAC;;;AAK9D,WAAO;EACT;EAGA,QAAQ,cAA0B;AAChC,WAAO,aAAa,QAAQ,IAAI;EAClC;EAEA,OAAO,cAA0B;AAC/B,WAAO,aAAa,OAAO,IAAI;EACjC;EAEA,IAAI,yBAAsB;AACxB,WAAO,KAAK,QAAQ,sBAAsB,sBAAsB;EAClE;EAEA,IAAI,2BAAwB;AAC1B,WAAO,KAAK,QAAQ,sBAAsB,wBAAwB;EACpE;EAEA,IAAI,0BAAuB;AACzB,WAAO,KAAK,QAAQ,sBAAsB,uBAAuB;EACnE;EAEA,IAAI,yBAAsB;AACxB,WAAO,KAAK,QAAQ,sBAAsB,sBAAsB;EAClE;EAEA,IAAI,gCAA6B;AAC/B,WAAO,KAAK,QAAQ,sBAAsB,6BAA6B;EACzE;EAEA,IAAI,aAAU;AACZ,WAAO,KAAK,QAAQ,sBAAsB,UAAU;EACtD;EAEA,IAAI,eAAY;AACd,WAAO,KAAK,QAAQ,sBAAsB,YAAY;EACxD;EAEA,IAAI,UAAO;AACT,WAAO,KAAK,QAAQ,sBAAsB,OAAO;EACnD;EAEA,IAAI,aAAU;AACZ,WAAO,KAAK,QAAQ,sBAAsB,UAAU;EACtD;EAEA,IAAI,gBAAa;AACf,WAAO,KAAK,QAAQ,sBAAsB,aAAa;EACzD;EAEA,IAAI,yBAAsB;AACxB,WAAO,KAAK,QAAQ,sBAAsB,sBAAsB;EAClE;EAEA,IAAI,sBAAmB;AACrB,WAAO,KAAK,QAAQ,sBAAsB,mBAAmB;EAC/D;EAEA,IAAI,mBAAgB;AAClB,WAAO,KAAK,QAAQ,sBAAsB,gBAAgB;EAC5D;EAEA,IAAI,uBAAoB;AACtB,WAAO,KAAK,QAAQ,sBAAsB,oBAAoB;EAChE;EAEA,IAAI,0BAAuB;AACzB,WAAO,KAAK,QAAQ,sBAAsB,uBAAuB;EACnE;EAEA,IAAI,YAAS;AACX,WAAO,KAAK,QAAQ,sBAAsB,SAAS;EACrD;EAEA,IAAI,iBAAc;AAChB,WAAO,KAAK,QAAQ,sBAAsB,cAAc;EAC1D;EAEA,IAAI,mBAAgB;AAClB,WAAO,KAAK,QAAQ,sBAAsB,gBAAgB;EAC5D;EAEA,IAAI,iBAAc;AAChB,WAAO,KAAK,QAAQ,sBAAsB,cAAc;EAC1D;EAEA,IAAI,mBAAgB;AAClB,WAAO,KAAK,QAAQ,sBAAsB,gBAAgB;EAC5D;EAEA,IAAI,UAAO;AACT,WAAO,KAAK,QAAQ,sBAAsB,OAAO;EACnD;EAEA,IAAI,iBAAc;AAChB,WAAO,KAAK,QAAQ,sBAAsB,cAAc;EAC1D;EAEA,IAAI,SAAM;AACR,WAAO,KAAK,QAAQ,sBAAsB,MAAM;EAClD;EAEA,IAAI,QAAK;AACP,WAAO,KAAK,QAAQ,sBAAsB,KAAK;EACjD;EAEA,IAAI,cAAW;AACb,WAAO,KAAK,QAAQ,sBAAsB,WAAW;EACvD;EAEA,IAAI,UAAO;AACT,WAAO,KAAK,QAAQ,sBAAsB,OAAO;EACnD;EAEA,IAAI,YAAS;AACX,WAAO,KAAK,QAAQ,sBAAsB,SAAS;EACrD;EAEA,IAAI,mBAAgB;AAClB,WAAO,KAAK,QAAQ,sBAAsB,gBAAgB;EAC5D;EAEA,IAAI,qBAAkB;AACpB,WAAO,KAAK,QAAQ,sBAAsB,kBAAkB;EAC9D;EAEA,IAAI,iBAAc;AAChB,WAAO,KAAK,QAAQ,sBAAsB,cAAc;EAC1D;EAEA,IAAI,YAAS;AACX,WAAO,KAAK,QAAQ,sBAAsB,SAAS;EACrD;EAEA,IAAI,cAAW;AACb,WAAO,KAAK,QAAQ,sBAAsB,WAAW;EACvD;EAEA,IAAI,qBAAkB;AACpB,WAAO,KAAK,QAAQ,sBAAsB,kBAAkB;EAC9D;EAEA,IAAI,uBAAoB;AACtB,WAAO,KAAK,QAAQ,sBAAsB,oBAAoB;EAChE;EAEA,IAAI,WAAQ;AACV,WAAO,KAAK,QAAQ,sBAAsB,QAAQ;EACpD;EAEA,IAAI,aAAU;AACZ,WAAO,KAAK,QAAQ,sBAAsB,UAAU;EACtD;EAEA,IAAI,oBAAiB;AACnB,WAAO,KAAK,QAAQ,sBAAsB,iBAAiB;EAC7D;EAEA,IAAI,sBAAmB;AACrB,WAAO,KAAK,QAAQ,sBAAsB,mBAAmB;EAC/D;EAEA,IAAI,QAAK;AACP,WAAO,KAAK,QAAQ,sBAAsB,KAAK;EACjD;EAEA,IAAI,UAAO;AACT,WAAO,KAAK,QAAQ,sBAAsB,OAAO;EACnD;EAEA,IAAI,iBAAc;AAChB,WAAO,KAAK,QAAQ,sBAAsB,cAAc;EAC1D;EAEA,IAAI,mBAAgB;AAClB,WAAO,KAAK,QAAQ,sBAAsB,gBAAgB;EAC5D;EAEA,IAAI,eAAY;AACd,WAAO,KAAK,QAAQ,sBAAsB,YAAY;EACxD;EAEA,IAAI,kBAAe;AACjB,WAAO,KAAK,QAAQ,sBAAsB,eAAe;EAC3D;EAEA,IAAI,iBAAc;AAChB,WAAO,KAAK,QAAQ,sBAAsB,cAAc;EAC1D;EAEA,IAAI,wBAAqB;AACvB,WAAO,KAAK,QAAQ,sBAAsB,qBAAqB;EACjE;EAEA,IAAI,iBAAc;AAChB,WAAO,KAAK,QAAQ,sBAAsB,cAAc;EAC1D;EAEA,IAAI,oBAAiB;AACnB,WAAO,KAAK,QAAQ,sBAAsB,iBAAiB;EAC7D;EAEA,IAAI,mBAAgB;AAClB,WAAO,KAAK,QAAQ,sBAAsB,gBAAgB;EAC5D;EAEA,IAAI,0BAAuB;AACzB,WAAO,KAAK,QAAQ,sBAAsB,uBAAuB;EACnE;EAEA,IAAI,gBAAa;AACf,WAAO,KAAK,QAAQ,sBAAsB,aAAa;EACzD;EAEA,IAAI,mBAAgB;AAClB,WAAO,KAAK,QAAQ,sBAAsB,gBAAgB;EAC5D;EAEA,IAAI,kBAAe;AACjB,WAAO,KAAK,QAAQ,sBAAsB,eAAe;EAC3D;EAEA,IAAI,yBAAsB;AACxB,WAAO,KAAK,QAAQ,sBAAsB,sBAAsB;EAClE;;;;ACrXI,IAAO,mBAAP,MAAO,0BAAyB,cAAa;EAiDjD,YAAY,gBAAqB,QAAiB,eAAqB;AACrE,UAAM;MACJ,iBAAiB,eAAe,MAAK;MACrC,SAAS,QAAQ;MACjB;MACA;MACA,gBAAgB,aAAa,iBACpB,sBAAsB,eAAe,MAAM,GAAK,GAAG,EAAI;MAChE,kBAAkB,aAAa,iBAC3B,cAAc,cACV,gBAAgB,kBAAiB,MACjC,kBAAiB,kBAAkB,GACvC,EAAI;MACR,iBAAiB,aAAa,iBAC1B,cAAc,cACV,gBAAgB,kBAAiB,MACjC,kBAAiB,iBAAiB,GACtC,EAAI;MACR,gBACI,aAAa,iBAAiB,eAAe,MAAM,IAAI,CAAG;MAC9D,uBACI,aAAa,iBAAiB,eAAe,MAAM,IAAI,EAAI;KAChE;EACH;;AAnEwB,iBAAA,OAAiB;EACvC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAOsB,iBAAA,qBAA+B;EACrD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAOsB,iBAAA,oBAA8B;EACpD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;;;AC9CE,IAAO,gBAAP,MAAO,uBAAsB,cAAa;EAiD9C,YAAY,gBAAqB,QAAiB,eAAqB;AACrE,UAAM;MACJ,iBAAiB,eAAe,MAAK;MACrC,SAAS,QAAQ;MACjB;MACA;MACA,gBAAgB,aAAa,iBAAiB,eAAe,KAAK,GAAK;MACvE,kBAAkB,aAAa,iBAC3B,cAAc,cACV,gBAAgB,eAAc,MAC9B,eAAc,kBAAkB,GACpC,EAAI;MACR,iBAAiB,aAAa,iBAC1B,cAAc,cACV,gBAAgB,eAAc,MAC9B,eAAc,iBAAiB,GACnC,EAAI;MACR,gBAAgB,aAAa,iBAAiB,eAAe,KAAK,EAAI;MACtE,uBACI,aAAa,iBAAiB,eAAe,KAAK,EAAI;KAC3D;EACH;;AAjEwB,cAAA,OAAO;EAC7B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAOsB,cAAA,qBAAqB;EAC3C;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAOsB,cAAA,oBAAoB;EAC1C;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;;;ACrCJ,IAAM,wBAAwB;EAC5B,SAAS;EACT,mBAAmB;EACnB,QAAQ;;;AAGV,SAAS,QAAQ,GAA8B,GAA4B;AACzE,MAAI,EAAE,QAAQ,EAAE,OAAO;AACrB,WAAO;aACE,EAAE,QAAQ,EAAE,OAAO;AAC5B,WAAO;;AAET,SAAO;AACT;AAUM,IAAO,QAAP,MAAO,OAAK;EAQhB,cAAA;EAAuB;;;;;;;;;;;;;;EAevB,OAAO,MACL,oBAAyC,SAAsB;AAE/D,UAAM,EAAC,SAAS,mBAAmB,OAAM,IAAI,EAAC,GAAG,uBAAuB,GAAG,QAAO;AAGlF,UAAM,YAAmB,CAAA;AACzB,UAAM,gBAAgB,IAAI,MAAc,GAAG,EAAE,KAAK,CAAC;AACnD,QAAI,gBAAgB;AACpB,eAAW,CAAC,MAAM,UAAU,KAAK,mBAAmB,QAAO,GAAI;AAC7D,YAAM,MAAM,IAAI,QAAQ,IAAI;AAC5B,gBAAU,KAAK,GAAG;AAClB,YAAM,MAAM,KAAK,MAAM,IAAI,GAAG;AAC9B,oBAAc,GAAG,KAAK;AACtB,uBAAiB;;AAInB,UAAM,wBAAwB,IAAI,MAAc,GAAG,EAAE,KAAK,CAAG;AAC7D,aAAS,MAAM,GAAG,MAAM,KAAK,OAAO;AAClC,YAAM,aAAa,cAAc,GAAG,IAAI;AACxC,eAAS,IAAI,MAAM,IAAI,IAAI,MAAM,IAAI,KAAK;AACxC,cAAM,cAAmB,mBAAmB,CAAC;AAC7C,8BAAsB,WAAW,KAAK;;;AAM1C,UAAM,YAAY,IAAI,MAAK;AAC3B,eAAW,OAAO,WAAW;AAC3B,YAAM,MAAW,mBAAmB,KAAK,MAAM,IAAI,GAAG,CAAC;AACvD,YAAM,aAAa,sBAAsB,GAAG;AAC5C,UAAI,WAAW,IAAI,SAAS,OAAM,iBAAiB,cAAc,OAAM,4BAA4B;AACjG;;AAGF,YAAM,kBAAkB,aAAa,MAAQ,OAAM;AACnD,YAAM,eAAe,IAAI,SAAS,OAAM,gBAAgB,OAAM,sBAAsB,OAAM;AAC1F,YAAM,eAAe,IAAI,SAAS,OAAM,iBAAiB;AACzD,YAAM,QAAQ,kBAAkB;AAChC,gBAAU,KAAK,EAAC,KAAK,MAAK,CAAC;;AAG7B,cAAU,KAAK,OAAO;AAMtB,UAAM,eAAsB,CAAA;AAC5B,aAASC,qBAAoB,IAAIA,sBAAqB,IAAIA,sBAAqB;AAC7E,mBAAa,SAAS;AACtB,iBAAW,EAAC,IAAG,KAAK,WAAW;AAC7B,cAAM,eAAe,aAAa,KAAK,eAAY;AACjD,iBAAY,kBAAkB,IAAI,KAAK,UAAU,GAAG,IAAIA;QAC1D,CAAC;AACD,YAAI,CAAC,cAAc;AACjB,uBAAa,KAAK,GAAG;;AAEvB,YAAI,aAAa,UAAU;AAAS;;AAEtC,UAAI,aAAa,UAAU;AAAS;;AAEtC,UAAM,SAAmB,CAAA;AACzB,QAAI,aAAa,WAAW,GAAG;AAC7B,aAAO,KAAK,iBAAiB;;AAE/B,eAAW,aAAa,cAAc;AACpC,aAAO,KAAK,UAAU,MAAK,CAAE;;AAE/B,WAAO;EACT;;AA9FwB,MAAA,gBAAgB;AAChB,MAAA,oBAAoB;AACpB,MAAA,sBAAsB;AACtB,MAAA,sBAAsB;AACtB,MAAA,gBAAgB;AAChB,MAAA,4BAA4B;;;ACrChD,SAAU,YAAY,MAAY;AACtC,QAAM,IAAe,YAAY,IAAI;AACrC,QAAM,IAAe,cAAc,IAAI;AACvC,QAAM,IAAe,aAAa,IAAI;AACtC,QAAM,WAAW,CAAC,EAAE,SAAS,EAAE,GAAG,EAAE,SAAS,EAAE,GAAG,EAAE,SAAS,EAAE,CAAC;AAGhE,aAAW,CAAC,GAAG,IAAI,KAAK,SAAS,QAAO,GAAI;AAC1C,QAAI,KAAK,WAAW,GAAG;AACrB,eAAS,CAAC,IAAI,MAAM;;;AAIxB,SAAO,MAAM,SAAS,KAAK,EAAE;AAC/B;AAQM,SAAU,YAAY,KAAW;AACrC,QAAM,IAAI,QAAQ,KAAK,EAAE;AACzB,QAAM,UAAU,IAAI,WAAW;AAC/B,QAAM,QAAQ,IAAI,WAAW;AAC7B,QAAM,UAAU,IAAI,WAAW;AAC/B,MAAI,CAAC,WAAW,CAAC,SAAS,CAAC,SAAS;AAClC,UAAM,IAAI,MAAM,oBAAoB,GAAG;;AAEzC,MAAI,IAAI;AACR,MAAI,IAAI;AACR,MAAI,IAAI;AACR,MAAI,SAAS;AACX,QAAI,YAAY,IAAI,MAAM,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC;AACzC,QAAI,YAAY,IAAI,MAAM,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC;AACzC,QAAI,YAAY,IAAI,MAAM,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC;aAChC,OAAO;AAChB,QAAI,YAAY,IAAI,MAAM,GAAG,CAAC,CAAC;AAC/B,QAAI,YAAY,IAAI,MAAM,GAAG,CAAC,CAAC;AAC/B,QAAI,YAAY,IAAI,MAAM,GAAG,CAAC,CAAC;aACtB,SAAS;AAClB,QAAI,YAAY,IAAI,MAAM,GAAG,CAAC,CAAC;AAC/B,QAAI,YAAY,IAAI,MAAM,GAAG,CAAC,CAAC;AAC/B,QAAI,YAAY,IAAI,MAAM,GAAG,CAAC,CAAC;;AAGjC,UACM,OAAO,MAAQ,IAAI,QAAU,MAAQ,IAAI,QAAU,IAAM,IAAI,SAC/D;AACN;AAEA,SAAS,YAAY,OAAa;AAEhC,SAAO,SAAS,OAAO,EAAE;AAC3B;;;AC/EA,SAAS,WAAW,KAAK;AACrB,SAAO,sCAAsC,KAAK,GAAG;AACzD;AAKA,SAAS,iBAAiB,OAAO;AAC7B,MAAI,UAAU,MAAM,KAAK;AAEzB,MAAI,QAAQ,WAAW,GAAG,GAAG;AACzB,QAAI,CAAC,WAAW,OAAO,GAAG;AACtB,YAAM,IAAI,MAAM,sBAAsB,OAAO,KAAK,CAAC;AAAA,IACvD;AACA,WAAO,YAAY,OAAO;AAAA,EAC9B;AAEA,MAAI,WAAW,QAAQ,MAAM,4CAA4C;AACzE,MAAI,UAAU;AACV,QAAI,IAAI,SAAS,SAAS,CAAC,CAAC;AAC5B,QAAI,IAAI,SAAS,SAAS,CAAC,CAAC;AAC5B,QAAI,IAAI,SAAS,SAAS,CAAC,CAAC;AAC5B,WAAO,YAAY,GAAG,GAAG,CAAC;AAAA,EAC9B;AACA,QAAM,IAAI,MAAM,6BAA6B,OAAO,OAAO,0CAA0C,CAAC;AAC1G;AACO,SAAS,SAAS,UAAU;AAC/B,SAAO,YAAY,SAAS,MAAM,CAAC;AACvC;AACO,SAAS,SAAS,OAAO;AAC5B,MAAI,OAAO,iBAAiB,KAAK;AACjC,SAAO,IAAI,QAAQ,IAAI;AAC3B;AACO,SAAS,UAAU,KAAK,QAAQ,MAAM;AACzC,SAAO,IAAI,KAAK,KAAK,QAAQ,IAAI;AACrC;;;ACpCA,IAAI;AAAA;AAAA,GAAsC,WAAY;AAClD,aAASC,sBAAqB,sBAAsB,WAAW;AAC3D,WAAK,sBAAsB;AAC3B,WAAK,YAAY,cAAc,QAAQ,cAAc,SAAS,YAAY;AAAA,IAC9E;AACA,IAAAA,sBAAqB,UAAU,yBAAyB,SAAU,UAAU;AACxE,UAAI,OAAO,KAAK,MAAM,SAAS,IAAI;AACnC,eAAS,KAAK,GAAG,KAAK,KAAK,qBAAqB,KAAK,GAAG,QAAQ,MAAM;AAClE,YAAI,WAAW,GAAG,EAAE;AACpB,YAAI,QAAQ,SAAS,WAAW,QAAQ,SAAS,SAAS;AACtD,iBAAO;AAAA,QACX;AAAA,MACJ;AAEA,UAAI,cAAc,KAAK,qBAAqB,IAAI;AAChD,eAAS,KAAK,GAAG,KAAK,KAAK,qBAAqB,KAAK,GAAG,QAAQ,MAAM;AAClE,YAAI,WAAW,GAAG,EAAE;AACpB,YAAI,eAAe,SAAS,WAAW,eAAe,SAAS,SAAS;AACpE,iBAAO;AAAA,QACX;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AACA,IAAAA,sBAAqB,UAAU,uBAAuB,SAAU,WAAW;AACvE,UAAI,cAAc;AAClB,UAAI,cAAc;AAClB,UAAI,eAAe,YAAY;AAC/B,eAAS,KAAK,GAAG,KAAK,KAAK,qBAAqB,KAAK,GAAG,QAAQ,MAAM;AAClE,YAAI,OAAO,GAAG,EAAE;AAChB,YAAI,WAAW,KAAK,UAAU,KAAK,WAAW;AAC9C,YAAI,WAAW,KAAK,IAAI,YAAY,OAAO;AAC3C,YAAI,WAAW,aAAa;AACxB,wBAAc;AACd,wBAAc;AAAA,QAClB,WACS,aAAa,eAAe,gBAAgB,UAAU,aAAa;AACxE,wBAAc;AAAA,QAClB;AAAA,MACJ;AACA,aAAO,KAAK,MAAM,WAAW;AAAA,IACjC;AACA,IAAAA,sBAAqB,UAAU,yBAAyB,SAAU,UAAU,UAAU;AAClF,UAAI,cAAc,SAAS,OAAO,SAAS,YAAY,SAAS,UAAU,SAAS;AACnF,aAAO,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,UAAU,CAAC;AAAA,IAC9C;AACA,IAAAA,sBAAqB,UAAU,4BAA4B,SAAU,UAAU,YAAY;AACvF,UAAI,WAAW,SAAS,WAAW,SAAS,UAAU,SAAS,WAAW;AAI1E,UAAI,gBAAgB;AACpB,UAAI,cAAc,OAAO,SAAS,QAAQ;AAC1C,UAAI,eAAe,KAAK;AAEpB,eAAO,YAAY,SAAS,UAAU,YAAY;AAAA,MACtD,OACK;AAED,eAAO,YAAY,WAAW,SAAS,WAAW;AAAA,MACtD;AAAA,IACJ;AACA,IAAAA,sBAAqB,UAAU,kBAAkB,SAAU,KAAK,MAAM;AAClE,aAAO;AAAA,IACX;AACA,IAAAA,sBAAqB,UAAU,uBAAuB,SAAU,KAAK,MAAM;AACvE,aAAO;AAAA,IACX;AACA,IAAAA,sBAAqB,UAAU,wBAAwB,SAAU,UAAU,MAAM;AAC7E,UAAI,MAAM,SAAS,QAAQ;AAC3B,YAAM,KAAK,gBAAgB,KAAK,IAAI;AACpC,aAAO,SAAS,GAAG;AAAA,IACvB;AACA,IAAAA,sBAAqB,UAAU,aAAa,SAAU,cAAc,YAAY,MAAM;AAClF,UAAI,eAAe,QAAQ;AAAE,qBAAa;AAAA,MAAM;AAChD,UAAI,eAAe,KAAK,gBAAgB,cAAc,YAAY,IAAI;AACtE,UAAI,gBAAgB,KAAK,qBAAqB,cAAc,IAAI;AAChE,UAAI,SAAS,KAAK,sBAAsB,aAAa;AACrD,aAAO,SAAS,EAAE,MAAM,aAAa,IAAI,GAAG,MAAM;AAAA,IACtD;AACA,IAAAA,sBAAqB,UAAU,kBAAkB,SAAU,UAAU,YAAY,MAAM;AACnF,UAAI,kBAAkB;AACtB,UAAI,YAAY;AACZ,YAAI,WAAW;AACf,mBAAW,KAAK,sBAAsB,UAAU,IAAI;AACpD,0BAAkB,aAAa;AAAA,MACnC;AACA,aAAO,EAAE,KAAK,UAAU,aAAa,gBAAgB;AAAA,IACzD;AACA,IAAAA,sBAAqB,UAAU,uBAAuB,SAAU,MAAM,MAAM;AACxE,UAAI,eAAe,SAAS,KAAK,GAAG;AACpC,UAAI,oBAAoB,KAAK,qBAAqB,cAAc,IAAI;AACpE,UAAI,2BAA2B,oBACzB,KAAK,oBAAoB,KAAK,SAAU,GAAG;AAAE,eAAO,EAAE,aAAa;AAAA,MAAmB,CAAC,IACvF,KAAK,uBAAuB,YAAY;AAC9C,UAAI,CAAC,0BAA0B;AAC3B,cAAM,IAAI,MAAM,cAAc,OAAO,KAAK,KAAK,oDAAoD,CAAC;AAAA,MACxG;AACA,UAAI,6BAA6B,oBAC3B,MACA,KAAK,uBAAuB,0BAA0B,YAAY;AACxE,aAAO;AAAA,QACH,KAAK,aAAa;AAAA,QAClB,QAAQ,KAAK,oBAAoB,aAAa,QAAQ,wBAAwB;AAAA,QAC9E,cAAc;AAAA,QACd,mBAAmB;AAAA,QACnB,SAAS,KAAK;AAAA,QACd,iBAAiB,KAAK;AAAA,QACtB;AAAA,MACJ;AAAA,IACJ;AACA,IAAAA,sBAAqB,UAAU,sBAAsB,SAAU,YAAY,UAAU;AACjF,UAAI,kBAAkB,KAAK,YAAY;AACvC,aAAO,kBAAkB,aAAa,aAAa,SAAS;AAAA,IAChE;AACA,IAAAA,sBAAqB,UAAU,wBAAwB,SAAU,UAAU;AACvE,UAAI,SAAS,CAAC;AACd,eAAS,KAAK,GAAG,KAAK,KAAK,qBAAqB,KAAK,GAAG,QAAQ,MAAM;AAClE,YAAI,QAAQ,GAAG,EAAE;AACjB,YAAI,OAAO,KAAK,0BAA0B,OAAO,SAAS,iBAAiB;AAC3E,YAAI,gBAAgB,SAAS,aAAa,aAAa,MAAM;AAC7D,YAAI,sBAAsB,SAAS,sBAAsB,MAAM;AAC/D,YAAI,iBAAiB,MAAM,iBAAiB,SAAS;AACrD,YAAI,iBAAiB,KAAK,WAAW;AACjC,2BAAiB,KAAK;AAAA,QAC1B;AACA,YAAI,eAAgB,iBAAiB,CAAC,SAAS,mBAAoB,sBAC7D,SAAS,UACT,SAAS,UAAU,SAAS,KAAK,gBAAgB,IAAI,CAAC;AAC5D,eAAO,MAAM,QAAQ,IAAI;AAAA,MAC7B;AACA,aAAO;AAAA,IACX;AACA,WAAOA;AAAA,EACX,GAAE;AAAA;;;ACpIF,IAAI,WAAW;AACf,IAAI,WAAW;AACf,IAAI,aAAa;AACjB,IAAI;AAAA;AAAA,GAA6C,SAAU,QAAQ;AAC/D,cAAUC,8BAA6B,MAAM;AAC7C,aAASA,+BAA8B;AACnC,aAAO,OAAO,KAAK,MAAM;AAAA;AAAA,QAErB,EAAE,UAAU,IAAI,gBAAgB,KAAK,SAAS,IAAI,SAAS,SAAS;AAAA,QACpE,EAAE,UAAU,KAAK,gBAAgB,KAAK,SAAS,IAAI,SAAS,GAAG;AAAA,QAC/D,EAAE,UAAU,KAAK,gBAAgB,KAAK,SAAS,IAAI,SAAS,GAAG;AAAA,QAC/D,EAAE,UAAU,KAAK,gBAAgB,KAAK,SAAS,IAAI,SAAS,GAAG;AAAA;AAAA,QAE/D,EAAE,UAAU,KAAK,gBAAgB,KAAK,SAAS,IAAI,SAAS,GAAG;AAAA,QAC/D,EAAE,UAAU,KAAK,gBAAgB,KAAK,SAAS,IAAI,SAAS,GAAG;AAAA,QAC/D,EAAE,UAAU,KAAK,gBAAgB,KAAK,SAAS,IAAI,SAAS,GAAG;AAAA;AAAA,QAE/D,EAAE,UAAU,KAAK,gBAAgB,MAAM,SAAS,IAAI,SAAS,GAAG;AAAA,QAChE,EAAE,UAAU,KAAK,gBAAgB,MAAM,SAAS,IAAI,SAAS,GAAG;AAAA,QAChE,EAAE,UAAU,KAAK,gBAAgB,MAAM,SAAS,IAAI,SAAS,GAAG;AAAA,QAChE,EAAE,UAAU,KAAK,gBAAgB,MAAM,SAAS,IAAI,SAAS,GAAG;AAAA,QAChE,EAAE,UAAU,KAAK,gBAAgB,MAAM,SAAS,IAAI,SAAS,GAAG;AAAA;AAAA,QAEhE,EAAE,UAAU,KAAK,gBAAgB,MAAM,SAAS,IAAI,SAAS,GAAG;AAAA,QAChE,EAAE,UAAU,KAAK,gBAAgB,MAAM,SAAS,IAAI,SAAS,GAAG;AAAA,QAChE,EAAE,UAAU,KAAK,gBAAgB,MAAM,SAAS,IAAI,SAAS,GAAG;AAAA,QAChE,EAAE,UAAU,KAAK,gBAAgB,MAAM,SAAS,IAAI,SAAS,GAAG;AAAA;AAAA,QAEhE,EAAE,UAAU,KAAK,gBAAgB,MAAM,SAAS,GAAG,SAAS,EAAE;AAAA,QAC9D,EAAE,UAAU,KAAK,gBAAgB,MAAM,SAAS,GAAG,SAAS,EAAE;AAAA,QAC9D,EAAE,UAAU,KAAK,gBAAgB,MAAM,SAAS,GAAG,SAAS,EAAE;AAAA,QAC9D,EAAE,UAAU,KAAM,gBAAgB,MAAM,SAAS,UAAU,SAAS,EAAE;AAAA;AAAA,MAC1E,GAAG,UAAU,KAAK;AAAA,IACtB;AACA,IAAAA,6BAA4B,UAAU,kBAAkB,SAAU,KAAK;AACnE,UAAI,IAAI,SAAS,YAAY;AACzB,eAAO,UAAU,IAAI,KAAK,YAAY,KAAK,qBAAqB,IAAI,IAAI,CAAC;AAAA,MAC7E;AACA,aAAO;AAAA,IACX;AACA,WAAOA;AAAA,EACX,GAAE,oBAAoB;AAAA;;;ACvCtB,IAAIC,YAAW;AACf,IAAIC,YAAW;AACf,IAAI;AAAA;AAAA,GAA6C,SAAU,QAAQ;AAC/D,cAAUC,8BAA6B,MAAM;AAC7C,aAASA,+BAA8B;AACnC,aAAO,OAAO,KAAK,MAAM;AAAA,QACrB;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAASD;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAAS;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAAS;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAAS;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAAS;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAAS;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAAS;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAAS;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAAS;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAAS;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAASD;AAAA,UACT,SAAS;AAAA,QACb;AAAA,MACJ,CAAC,KAAK;AAAA,IACV;AACA,IAAAE,6BAA4B,UAAU,kBAAkB,SAAU,KAAK,MAAM;AACzE,UAAI,OAAO,IAAI;AACf,UAAI,cAAc,KAAK,oBAAoB,KAAK,SAAU,GAAG;AAAE,eAAO,EAAE,aAAa;AAAA,MAAK,CAAC;AAC3F,UAAI,cAAc,KAAK,oBAAoB,KAAK,SAAU,GAAG;AAAE,eAAO,EAAE,aAAa;AAAA,MAAK,CAAC;AAC3F,UAAI,SAAS,WAAW,eAAe,OAAO,YAAY,SAAS;AAC/D,eAAO,IAAI,KAAK,IAAI,KAAK,IAAI,SAAS,YAAY,UAAU,YAAY,WAAW,CAAC;AAAA,MACxF;AACA,UAAI,SAAS,UAAU,eAAe,OAAO,YAAY,SAAS;AAC9D,eAAO,IAAI,KAAK,IAAI,KAAK,IAAI,SAAS,YAAY,UAAU,YAAY,WAAW,CAAC;AAAA,MACxF;AACA,aAAO;AAAA,IACX;AACA,IAAAA,6BAA4B,UAAU,uBAAuB,SAAU,KAAK,MAAM;AAC9E,UAAI,OAAO,IAAI;AACf,UAAI,cAAc,KAAK,oBAAoB,KAAK,SAAU,GAAG;AAAE,eAAO,EAAE,aAAa;AAAA,MAAK,CAAC;AAC3F,UAAI,cAAc,KAAK,oBAAoB,KAAK,SAAU,GAAG;AAAE,eAAO,EAAE,aAAa;AAAA,MAAK,CAAC;AAC3F,UAAI,SAAS,WAAW,eAAe,QAAQ,YAAY,SAAS;AAChE,eAAO;AAAA,MACX;AACA,UAAI,SAAS,UAAU,eAAe,QAAQ,YAAY,SAAS;AAC/D,eAAO;AAAA,MACX;AACA,aAAO;AAAA,IACX;AACA,WAAOA;AAAA,EACX,GAAE,oBAAoB;AAAA;;;ACpGtB,IAAIC,YAAW;AACf,IAAIC,YAAW;AACf,IAAI;AAAA;AAAA,GAA6C,SAAU,QAAQ;AAC/D,cAAUC,8BAA6B,MAAM;AAC7C,aAASA,+BAA8B;AACnC,aAAO,OAAO,KAAK,MAAM;AAAA,QACrB;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAASD;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAAS;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAAS;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAAS;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAAS;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAAS;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAAS;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAAS;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAAS;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,SAAS;AAAA,QACb;AAAA,QACA;AAAA,UACI,UAAU;AAAA,UACV,gBAAgB;AAAA,UAChB,SAASD;AAAA,UACT,SAAS;AAAA,QACb;AAAA,MACJ,CAAC,KAAK;AAAA,IACV;AACA,WAAOE;AAAA,EACX,GAAE,oBAAoB;AAAA;;;ACzEtB,IAAI,eAAe,oBAAI,IAAI;AAC3B,SAAS,YAAY,UAAU,MAAM,YAAY,MAAM;AACnD,SAAO,GAAG,OAAO,UAAU,GAAG,EAAE,OAAO,MAAM,GAAG,EAAE,OAAO,YAAY,GAAG,EAAE,OAAO,SAAS,QAAQ,SAAS,SAAS,OAAO,MAAM;AACrI;AAKO,SAAS,wBAAwB,UAAU,MAAM,YAAY,MAAM;AACtE,MAAI,eAAe,QAAQ;AAAE,iBAAa;AAAA,EAAM;AAChD,MAAI,WAAW,YAAY,UAAU,MAAM,YAAY,IAAI;AAC3D,MAAI,SAAS,aAAa,IAAI,QAAQ;AACtC,MAAI,QAAQ;AACR,WAAO;AAAA,EACX;AACA,MAAI,qBAAqB,IAAI,4BAA4B;AACzD,MAAI,qBAAqB,IAAI,4BAA4B;AACzD,MAAI,qBAAqB,IAAI,4BAA4B;AACzD,MAAI;AACJ,UAAQ,UAAU;AAAA,IACd,KAAK;AACD,oBAAc;AACd;AAAA,IACJ,KAAK;AACD,oBAAc;AACd;AAAA,IACJ,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL;AACI,oBAAc;AAAA,EACtB;AACA,MAAI,YAAY,YAAY,WAAW,MAAM,YAAY,IAAI;AAC7D,eAAa,IAAI,UAAU,SAAS;AACpC,SAAO;AACX;;;ACzCO,SAAS,iBAAiB,UAAU,OAAO,OAAO;AACrD,MAAI;AACJ,MAAI,kBAAkB,KAAK,MAAM,qBAAqB,QAAQ,OAAO,SAAS,SAAS,GAAG,QAAQ;AAClG,MAAI,CAAC;AACD,WAAO;AACX,SAAO,OAAO,QAAQ,cAAc,EAAE,KAAK,SAAUC,KAAI;AACrD,QAAI,OAAOA,IAAG,CAAC,GAAG,MAAMA,IAAG,CAAC;AAC5B,QAAI,CAAC;AACD,aAAO;AACX,WAAO,OAAO,KAAK,GAAG,EAAE,KAAK,SAAU,MAAM;AAAE,aAAO,2BAA2B,UAAU,MAAM,IAAI,MAAM;AAAA,IAAO,CAAC;AAAA,EACvH,CAAC;AACL;AACO,SAAS,cAAc,KAAK,QAAQ;AACvC,MAAI,WAAW,QAAQ;AAAE,aAAS,CAAC;AAAA,EAAG;AACtC,MAAI,SAAS,CAAC;AACd,MAAI,CAAC,OAAO,OAAO,QAAQ,UAAU;AACjC,WAAO;AAAA,EACX;AACA,WAAS,KAAK,GAAG,KAAK,OAAO,QAAQ,GAAG,GAAG,KAAK,GAAG,QAAQ,MAAM;AAC7D,QAAI,KAAK,GAAG,EAAE,GAAG,MAAM,GAAG,CAAC,GAAG,QAAQ,GAAG,CAAC;AAC1C,QAAI,OAAO,cAAc,cAAc,CAAC,GAAG,QAAQ,IAAI,GAAG,CAAC,GAAG,GAAG,KAAK;AACtE,QAAI,OAAO,UAAU,UAAU;AAC3B,aAAO,sBAAsB,MAAM,QAAQ,IAAI,CAAC,IAAI;AAAA,IACxD,WACS,YAAY,KAAK,GAAG;AAEzB,aAAO,sBAAsB,MAAM,QAAQ,IAAI,CAAC,IAAI;AAAA,IACxD,WACS,SAAS,OAAO,UAAU,UAAU;AACzC,aAAO,OAAO,QAAQ,cAAc,OAAO,IAAI,CAAC;AAAA,IACpD;AAAA,EACJ;AACA,SAAO;AACX;AACO,SAAS,wBAAwB;AACpC,MAAI,WAAW,CAAC;AAChB,WAAS,KAAK,GAAG,KAAK,UAAU,QAAQ,MAAM;AAC1C,aAAS,EAAE,IAAI,UAAU,EAAE;AAAA,EAC/B;AACA,SAAO,SAAS,OAAO,SAAU,KAAK,SAAS,OAAO;AAAE,WAAO,OAAO,UAAU,IAAI,UAAU,QAAQ,OAAO,CAAC,EAAE,YAAY,IAAI,QAAQ,MAAM,CAAC;AAAA,EAAI,GAAG,EAAE;AAC5J;AACO,SAAS,uBAAuB,OAAO;AAC1C,MAAI;AACJ,WAAS,KAAK,MAAM,qBAAqB,QAAQ,OAAO,SAAS,SAAS,GAAG,SAAS,cAAc,MAAM,gBAAgB,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC;AACnJ;AACO,SAAS,2BAA2B,UAAU,MAAM,MAAM;AAC7D,SAAO,sBAAsB,UAAU,MAAM,IAAI;AACrD;AACO,SAAS,QAAQ,KAAK;AACzB,SAAO,OAAO,QAAQ,YAAY,CAAC,YAAY,GAAG;AACtD;AACO,SAAS,YAAY,KAAK;AAC7B,SAAO,OAAO,QAAQ,YAAY,IAAI,OAAO,CAAC,MAAM,OAAO,IAAI,OAAO,IAAI,SAAS,CAAC,MAAM;AAC9F;AACO,SAAS,YAAY,KAAK;AAC7B,SAAQ,OAAO,QAAQ,YACnB,QAAQ,QACR,CAAC,MAAM,QAAQ,GAAG;AAAA,EAElB,CAAC,OAAO,KAAK,GAAG,EAAE,KAAK,SAAU,KAAK;AAAE,WAAO,CAAC,MAAM,OAAO,GAAG,CAAC;AAAA,EAAG,CAAC,KACrE,CAAC,OAAO,KAAK,GAAG,EAAE,KAAK,SAAU,OAAO;AAAE,WAAO,EAAE,QAAQ,IAAI,KAAK,CAAC,KAAK,YAAY,IAAI,KAAK,CAAC;AAAA,EAAI,CAAC;AAC7G;AACO,SAAS,oBAAoB,QAAQ,QAAQ;AAChD,SAAQ,WAAW,UACd,OAAO,WAAW,YACf,OAAO,UAAU,YACjB,OAAO,KAAK,MAAM,EAAE,WAAW,OAAO,KAAK,MAAM,EAAE,UACnD,OAAO,KAAK,MAAM,EAAE,MAAM,SAAU,KAAK;AAAE,WAAO,OAAO,GAAG,MAAM,OAAO,GAAG;AAAA,EAAG,CAAC;AAC5F;AACO,SAAS,gBAAgB,KAAK;AACjC,SAAO,cAAc;AACzB;AACO,SAAS,aAAa,WAAW;AACpC,SAAO,UAAU,MAAM,GAAG,UAAU,SAAS,CAAC;AAClD;AACO,SAAS,wBAAwB,OAAO,QAAQ;AACnD,MAAI,aAAa,oBAAI,IAAI;AACzB,MAAI,UAAU,oBAAI,IAAI;AACtB,MAAI,gBAAgB,SAAU,OAAO;AACjC,QAAI,YAAY,KAAK,GAAG;AACpB,iBAAW,IAAI,aAAa,KAAK,CAAC;AAAA,IACtC,WACS,YAAY,KAAK,GAAG;AACzB,aAAO,OAAO,KAAK,EAAE,QAAQ,aAAa;AAAA,IAC9C;AAAA,EACJ;AACA,MAAI,eAAe,SAAU,OAAO;AAChC,QAAI,QAAQ,IAAI,KAAK;AACjB;AACJ,YAAQ,IAAI,KAAK;AACjB,QAAI,QAAQ,MAAM,OAAO,KAAK;AAC9B,QAAI;AACA,oBAAc,KAAK;AACvB,WAAO,OAAO,MAAM,QAAQ,EAAE,QAAQ,SAAU,SAAS;AACrD,UAAI,eAAe,QAAQ,OAAO,KAAK;AACvC,UAAI;AACA,sBAAc,YAAY;AAAA,IAClC,CAAC;AAAA,EACL;AAEA,SAAO,QAAQ,YAAY;AAE3B,MAAI,eAAe;AACnB,MAAI,aAAa;AACjB,SAAO,WAAW,OAAO,gBAAgB,aAAa,IAAI;AACtD,mBAAe,WAAW;AAC1B,QAAI,YAAY,MAAM,KAAK,UAAU,EAAE,OAAO,SAAU,GAAG;AAAE,aAAO,CAAC,QAAQ,IAAI,CAAC;AAAA,IAAG,CAAC;AACtF,cAAU,QAAQ,YAAY;AAC9B;AAAA,EACJ;AACA,SAAO,MAAM,KAAK,UAAU;AAChC;AACO,SAAS,QAAQ,OAAO,OAAO;AAClC,MAAI;AACJ,MAAI,SAAS,MAAM,aAAa,KAAK;AACrC,UAAQ,KAAK,MAAM,MAAM,MAAM,OAAO,QAAQ,OAAO,SAAS,KAAK;AACvE;AACO,SAAS,gBAAgB,MAAM;AAClC,MAAI,SAAS,OAAO,KAAK,KAAK,MAAM;AACpC,WAAS,QAAQ,GAAG,QAAQ,OAAO,QAAQ,SAAS;AAChD,QAAI,QAAQ,OAAO,KAAK;AACxB,QAAI,SAAS,KAAK,OAAO,KAAK;AAC9B,QAAI,UAAU,aAAa,UAAU,OAAO,SAAS,GAAG;AACpD,aAAO;AAAA,IACX;AAAA,EACJ;AACA,QAAM,IAAI,MAAM,QAAQ,OAAO,KAAK,UAAU,IAAI,GAAG,gCAAgC,CAAC;AAC1F;AACO,SAAS,mBAAmB,MAAM;AACrC,SAAO,QAAQ,MAAM,QAAQ,OAAQ,OAAO,OAAO;AACvD;;;AC9HO,SAAS,uBAAuB,aAAa;AAChD,MAAI,kBAAkB,CAAC;AACvB,SAAO,QAAQ,WAAW,EAAE,QAAQ,SAAU,IAAI;AAC9C,QAAI,YAAY,GAAG,CAAC,GAAG,eAAe,GAAG,CAAC;AAC1C,QAAI,UAAU,yBAAyB,WAAW,YAAY;AAC9D,WAAO,QAAQ,OAAO,EAAE,QAAQ,SAAUC,KAAI;AAC1C,UAAI,OAAOA,IAAG,CAAC,GAAG,QAAQA,IAAG,CAAC;AAC9B,UAAI,SAAS,QAAQ;AACjB,YAAI,YAAY,2BAA2B,SAAS,WAAW,IAAI;AACnE,wBAAgB,SAAS,IAAI;AAAA,MACjC;AAAA,IACJ,CAAC;AAAA,EACL,CAAC;AACD,SAAO;AACX;AACA,SAAS,iBAAiB,UAAU,MAAM;AACtC,MAAI,CAAC;AACD,WAAO,CAAC;AACZ,MAAI,OAAO,SAAS,UAAU;AAC1B,WAAO,wBAAwB,UAAU,IAAI;AAAA,EACjD;AACA,MAAI,UAAU,CAAC;AACf,SAAO,QAAQ,IAAI,EAAE,QAAQ,SAAU,IAAI;AACvC,QAAI,OAAO,GAAG,CAAC,GAAG,YAAY,GAAG,CAAC;AAClC,QAAI,OAAO,cAAc;AACrB;AACJ,QAAI,cAAc,wBAAwB,UAAU,WAAW,MAAM,IAAI;AACzE,WAAO,QAAQ,WAAW,EAAE,QAAQ,SAAUA,KAAI;AAC9C,UAAI,IAAI;AACR,UAAI,OAAOA,IAAG,CAAC,GAAG,QAAQA,IAAG,CAAC;AAC9B,UAAI,cAAc,OAAO,IAAI;AAC7B,UAAI,CAAC,mBAAmB,WAAW;AAC/B;AACJ,UAAI,WAAW,QAAQ,WAAW;AAClC,cAAQ,WAAW,IAAI,OAAO,aAAa,WAAW,SAAS,SAAS,CAAC,GAAG,QAAQ,IAAI,KAAK,CAAC,GAAG,GAAG,IAAI,IAAI,OAAO,GAAG,KAAK,KAAK,CAAC,GAAG,GAAG,IAAI,IAAI,OAAO;AAAA,IAC1J,CAAC;AAAA,EACL,CAAC;AACD,SAAO;AACX;AACA,SAAS,mBAAmB,WAAW,OAAO;AAC1C,MAAI,SAAS,SAAS,CAAC,GAAG,SAAS;AACnC,SAAO,QAAQ,KAAK,EAAE,QAAQ,SAAU,IAAI;AACxC,QAAI,OAAO,GAAG,CAAC,GAAG,QAAQ,GAAG,CAAC;AAC9B,QAAI,SAAS,QAAQ;AACjB,aAAO,OAAO;AACd;AAAA,IACJ;AACA,QAAI,cAAc,OAAO,IAAI;AAC7B,QAAI,CAAC,SAAS,CAAC,mBAAmB,WAAW;AACzC;AACJ,QAAI,iBAAiB,UAAU,WAAW;AAE1C,WAAO,WAAW,IACd,OAAO,mBAAmB,YAAY,OAAO,UAAU,WAAW,SAAS,SAAS,CAAC,GAAG,cAAc,GAAG,KAAK,IAAI;AAAA,EAC1H,CAAC;AACD,SAAO;AACX;AACO,SAAS,yBAAyB,UAAU,OAAO;AACtD,MAAI,OAAO,UAAU,UAAU;AAC3B,WAAO,wBAAwB,UAAU,KAAK;AAAA,EAClD;AACA,MAAI,YAAY,iBAAiB,UAAU,MAAM,IAAI;AACrD,SAAO,mBAAmB,WAAW,KAAK;AAC9C;;;AClEA,IAAI;AAAA;AAAA,GAA8B,WAAY;AAC1C,aAASC,cAAa,IAAI,UAAU,OAAO;AACvC,WAAK,QAAQ;AAAA,QACT;AAAA,QACA;AAAA,QACA,OAAO,MAAM,OAAO,SAAU,KAAK,MAAM;AACrC,cAAI,KAAK,EAAE,IAAI;AACf,iBAAO;AAAA,QACX,GAAG,CAAC,CAAC;AAAA,QACL,QAAQ,CAAC;AAAA,QACT,UAAU,CAAC;AAAA,QACX,cAAc,CAAC;AAAA,MACnB;AAAA,IACJ;AACA,IAAAA,cAAa,UAAU,qBAAqB,SAAU,QAAQ,MAAM;AAChE,UAAI,UAAU,OAAO,KAAK,MAAM,EAAE,OAAO,SAAU,KAAK,OAAO;AAC3D,YAAI,KAAK,IAAI,KAAK;AAClB,eAAO;AAAA,MACX,GAAG,CAAC,CAAC;AACL,WAAK,MAAM,eAAe,SAAS,SAAS,CAAC,GAAG,KAAK,MAAM,YAAY,GAAG,OAAO;AAAA,IACrF;AACA,IAAAA,cAAa,UAAU,YAAY,SAAU,QAAQ,MAAM;AACvD,WAAK,MAAM,SAAS,SAAS,SAAS,CAAC,GAAG,KAAK,MAAM,MAAM,GAAG,MAAM;AACpE,UAAI,MAAM;AACN,aAAK,mBAAmB,QAAQ,IAAI;AAAA,MACxC;AACA,aAAO;AAAA,IACX;AACA,IAAAA,cAAa,UAAU,aAAa,SAAU,SAAS;AACnD,WAAK,MAAM,SAAS,QAAQ,EAAE,IAAI;AAClC,aAAO;AAAA,IACX;AACA,IAAAA,cAAa,UAAU,qBAAqB,SAAU,iBAAiB,MAAM;AACzE,WAAK,MAAM,kBAAkB;AAC7B,UAAI,gBAAgB,OAAO;AACvB,YAAI,kBAAkB,uBAAuB,gBAAgB,KAAK;AAClE,aAAK,MAAM,SAAS,SAAS,SAAS,CAAC,GAAG,eAAe,GAAG,KAAK,MAAM,MAAM;AAC7E,YAAI,MAAM;AACN,eAAK,mBAAmB,iBAAiB,IAAI;AAAA,QACjD;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AACA,IAAAA,cAAa,UAAU,QAAQ,WAAY;AACvC,aAAO,KAAK;AAAA,IAChB;AACA,WAAOA;AAAA,EACX,GAAE;AAAA;;;AC/CK,SAAS,UAAU,KAAK;AAC3B,SAAO,KAAK,MAAM,KAAK,UAAU,GAAG,CAAC;AACzC;AAIO,SAAS,QAAQ,KAAK;AACzB,SAAO,OAAO,KAAK,GAAG,EAAE,IAAI,SAAU,KAAK;AAAE,WAAO,CAAC,KAAK,IAAI,GAAG,CAAC;AAAA,EAAG,CAAC;AAC1E;AAMO,SAAS,YAAYC,UAAS;AACjC,SAAOA,SAAQ,OAAO,SAAU,KAAK,IAAI;AACrC,QAAI,MAAM,GAAG,CAAC,GAAG,QAAQ,GAAG,CAAC;AAC7B,QAAI,GAAG,IAAI;AACX,WAAO;AAAA,EACX,GAAG,CAAC,CAAC;AACT;AAMO,SAAS,OAAO,MAAM;AACzB,SAAO,OAAO,KAAK,IAAI,EAAE,IAAI,SAAU,KAAK;AAAE,WAAO,KAAK,GAAG;AAAA,EAAG,CAAC;AACrE;AAEO,SAAS,SAAS,SAAS,QAAQ;AACtC,SAAO,QAAQ,QAAQ,MAAM,IAAI;AACrC;;;AC3BO,SAAS,aAAa,OAAO,WAAW,eAAe;AAC1D,SAAO,sBAAsB,OAAO,WAAW,aAAa,EAAE;AAClE;AACO,SAAS,sBAAsB,OAAO,WAAW,eAAe;AACnE,MAAI;AACJ,MAAI,gBAAgB,CAAC;AACrB,MAAI,kBAAkB,CAAC;AACvB,SAAO,MAAM,KAAK,cAAc,QAAQ,cAAc,SAAS,SAAS,UAAU,YAAY,QAAQ,OAAO,SAAS,KAAK,MAAM,MAAM,EAAE,QAAQ,SAAU,OAAO;AAC9J,QAAI,OAAO,QAAQ,cAAc,QAAQ,cAAc,SAAS,YAAY,OAAO,KAAK;AACxF,QAAI,MAAM;AACN,UAAI,6BAA6B,CAAC;AAClC,UAAI,gBAAgB,OAAO,KAAK,KAAK,MAAM,EAAE,OAAO,SAAU,KAAK,OAAO;AACtE,mCAA2B,KAAK,IAAI,CAAC;AACrC,YAAI,KAAK,IAAI,aAAa,OAAO,OAAO,2BAA2B,KAAK,GAAG,OAAO,WAAW,aAAa;AAC1G,eAAO;AAAA,MACX,GAAG,CAAC,CAAC;AACL,UAAI,8CAA8C,OAAO,0BAA0B,EAAE,KAAK,SAAUC,sBAAqB;AACrH,eAAOA,qBAAoB,KAAK,SAAU,WAAW;AAAE,iBAAO,aAAa,MAAM;AAAA,QAAQ,CAAC;AAAA,MAC9F,CAAC;AACD,UAAI,CAAC,aAAa,6CAA6C;AAC3D,wBAAgB,KAAK,IAAI;AACzB,sBAAc,KAAK,IAAI;AAAA,MAC3B;AAAA,IACJ,OACK;AACD,UAAI,sBAAsB,CAAC;AAC3B,UAAI,gBAAgB,aAAa,OAAO,OAAO,qBAAqB,QAAW,WAAW,aAAa;AACvG,UAAI,CAAC,aAAa,oBAAoB,KAAK,SAAU,WAAW;AAAE,eAAO,aAAa,MAAM;AAAA,MAAQ,CAAC,GAAG;AACpG,wBAAgB,KAAK,IAAI;AACzB,sBAAc,KAAK,IAAI;AAAA,MAC3B;AAAA,IACJ;AAAA,EACJ,CAAC;AACD,SAAO,EAAE,eAA8B,gBAAiC;AAC5E;AACA,SAAS,aAAa,OAAO,OAAO,MAAM,OAAO,WAAW,eAAe;AACvE,MAAI,CAAC,MAAM,OAAO,KAAK,KAAK,EAAE,cAAc,QAAQ,cAAc,SAAS,SAAS,UAAU,OAAO,KAAK,IAAI;AAC1G,UAAM,IAAI,MAAM,SAAS,OAAO,OAAO,+BAA+B,CAAC;AAAA,EAC3E;AACA,MAAI,KAAK,SAAS,KAAK,GAAG;AACtB,UAAM,IAAI,MAAM,SAAS,OAAO,OAAO,6BAA6B,CAAC;AAAA,EACzE;AACA,OAAK,KAAK,KAAK;AACf,MAAI,aAAa,cAAc,OAAO,OAAO,OAAO,SAAS;AAC7D,MAAI,YAAY,UAAU,GAAG;AACzB,QAAI,MAAM,aAAa,UAAU;AACjC,SAAK,kBAAkB,QAAQ,kBAAkB,SAAS,SAAS,cAAc,GAAG,OAAO,MAAM,OAAO,GAAG,MAAM,cAAc,QAAQ,cAAc,SAAS,SAAS,UAAU,OAAO,GAAG,KAAK;AAC5L,aAAO,OAAO,OAAO,cAAc,GAAG,GAAG,GAAG;AAAA,IAChD;AACA,WAAO,aAAa,OAAO,KAAK,MAAM,OAAO,WAAW,aAAa;AAAA,EACzE;AACA,SAAO;AACX;AACA,SAAS,cAAc,OAAO,OAAO,OAAO,WAAW;AACnD,MAAI,aAAa,MAAM,OAAO,KAAK,MAAM,cAAc,QAAQ,cAAc,SAAS,SAAS,UAAU,OAAO,KAAK;AACrH,MAAI,CAAC,YAAY;AACb,UAAM,IAAI,MAAM,8BAA8B,OAAO,KAAK,CAAC;AAAA,EAC/D;AACA,MAAI,YAAY,UAAU,GAAG;AACzB,QAAI,CAAC,OAAO;AACR,YAAM,IAAI,MAAM,6BAA6B,OAAO,OAAO,wCAAwC,EAAE,OAAO,KAAK,UAAU,UAAU,CAAC,CAAC;AAAA,IAC3I;AACA,iBAAa,WAAW,KAAK;AAAA,EACjC;AACA,SAAO;AACX;AACO,SAAS,eAAe,OAAO,SAAS,WAAW,iBAAiB,eAAe;AACtF,MAAI,MAAM,UAAU,KAAK;AACzB,MAAI,QAAQ,eAAe,MAAM,OAAO;AACpC,+BAA2B,KAAK,SAAS,SAAS;AAAA,EACtD;AACA,MAAI,CAAC,aAAa,CAAC,iBAAiB;AAChC,QAAI,SAAS,SAAS,SAAS,CAAC,GAAG,IAAI,MAAM,GAAG,QAAQ,MAAM;AAC9D,WAAO,aAAa,KAAK,WAAW,aAAa;AAAA,EACrD;AACA,MAAI,SAAS,4BAA4B,OAAO,SAAS,WAAW,iBAAiB,aAAa;AAClG,SAAO,aAAa,KAAK,WAAW,aAAa;AACrD;AACA,SAAS,2BAA2B,OAAO,SAAS,WAAW;AAC3D,MAAI,CAAC,QAAQ,eAAe,CAAC,MAAM;AAC/B;AACJ,MAAI,cAAc,QAAQ;AAC1B,MAAI,OAAO,OAAO,OAAO,MAAM,KAAK,EAAE,KAAK,SAAU,GAAG;AAAE,WAAO,EAAE,OAAO,WAAW;AAAA,EAAG,CAAC;AACzF,MAAI,CAAC;AACD;AAIJ,SAAO,KAAK,MAAM,MAAM,EAAE,QAAQ,SAAU,OAAO;AAC/C,QAAI,iBAAiB,SAAS,OAAO,KAAK,GAAG;AACzC,UAAI,aAAa,MAAM,OAAO,KAAK;AACnC,UAAI,YAAY,UAAU,GAAG;AACzB,cAAM,OAAO,KAAK,IAAI,WAAW,WAAW;AAAA,MAChD;AAAA,IACJ;AAAA,EACJ,CAAC;AAED,MAAI,cAAc,SAAS,SAAS,CAAC,GAAG,KAAK,GAAG,EAAE,QAAQ,SAAS,SAAS,CAAC,GAAG,MAAM,MAAM,GAAG,QAAQ,MAAM,EAAE,CAAC;AAChH,MAAI,kBAAkB,sBAAsB,aAAa,SAAS,EAAE;AAEpE,yBAAuB,OAAO,eAAe,EAAE,QAAQ,SAAU,OAAO;AACpE,YAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK;AAAA,EAC9C,CAAC;AAED,MAAI,gBAAgB,IAAI,IAAI,OAAO,KAAK,QAAQ,MAAM,CAAC;AACvD,SAAO,KAAK,MAAM,MAAM,EAAE,QAAQ,SAAU,OAAO;AAC/C,QAAI,CAAC,cAAc,IAAI,KAAK,KAAK,gBAAgB,KAAK,GAAG;AACrD,UAAI,aAAa,uBAAuB,gBAAgB,KAAK,CAAC;AAC9D,UAAI,WAAW,KAAK,SAAU,WAAW;AAAE,eAAO,cAAc,IAAI,SAAS;AAAA,MAAG,CAAC,GAAG;AAChF,gBAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK;AAAA,MAC9C;AAAA,IACJ;AAAA,EACJ,CAAC;AACL;AACA,SAAS,4BAA4B,OAAO,SAAS,WAAW,iBAAiB,eAAe;AAc5F,MAAI,cAAc,UAAU,SAAS,QAAQ,EAAE;AAC/C,MAAI,iBAAiB,aAAa,WAAW,QAAW,aAAa;AACrE,MAAI,qBAAqB,aAAa,OAAO,WAAW,aAAa;AACrE,MAAI,cAAc,OAAO,KAAK,eAAe,EAAE,OAAO,SAAU,KAAK,KAAK;AACtE,QAAI,IAAI;AACR,QAAI,kBAAmB,EAAE,OAAO,YAAY,WAAW,EAAE,OAAO,MAAM,WAClE,oBAAoB,eAAe,GAAG,GAAG,mBAAmB,GAAG,CAAC;AACpE,QAAI,CAAC,iBAAiB;AAClB,UAAI,GAAG,KAAK,MAAM,KAAK,YAAY,OAAO,GAAG,OAAO,QAAQ,OAAO,SAAS,KAAK,MAAM,OAAO,GAAG,OAAO,QAAQ,OAAO,SAAS,KAAK,UAAU,OAAO,GAAG;AAAA,IAC7J;AACA,WAAO;AAAA,EACX,GAAG,CAAC,CAAC;AACL,SAAO,SAAS,SAAS,CAAC,GAAG,WAAW,GAAG,QAAQ,MAAM;AAC7D;AACO,SAAS,OAAO,YAAY,OAAO,SAAS,WAAW;AAC1D,SAAO,OAAO,KAAK,UAAU,EAAE,OAAO,SAAU,KAAK,OAAO;AACxD,QAAI,UAAU,QAAQ,WAAW,KAAK,GAAG,OAAO,OAAO,SAAS;AAChE,QAAI,SAAS;AACT,UAAI,KAAK,IAAI;AAAA,IACjB;AACA,WAAO;AAAA,EACX,GAAG,CAAC,CAAC;AACT;AACO,IAAI,kBAAkB,WAAY;AACrC,SAAO,SAAU,iBAAiB,OAAO,OAAO,WAAW;AACvD,QAAI,OAAO,QAAQ,cAAc,QAAQ,cAAc,SAAS,YAAY,OAAO,KAAK;AACxF,QAAI,QAAQ,sBAAsB,eAAe,GAAG;AAChD,UAAI,eAAe,gBAAgB,IAAI;AACvC,aAAO,gBAAgB,YAAY;AAAA,IACvC,WACS,0BAA0B,eAAe,GAAG;AACjD,aAAO;AAAA,IACX,OACK;AACD,YAAM,IAAI,MAAM,+BAA+B,OAAO,KAAK,UAAU,eAAe,GAAG,YAAY,EAAE,OAAO,IAAI,CAAC;AAAA,IACrH;AAAA,EACJ;AACJ;AACO,IAAI,cAAc,SAAU,MAAM,OAAO;AAC5C,SAAO,SAAU,iBAAiB,OAAO,OAAO,WAAW;AACvD,QAAI,YAAY,QAAQ,cAAc,QAAQ,cAAc,SAAS,YAAY,OAAO,KAAK;AAC7F,QAAI,aAAa,UAAU,OAAO,KAAK,MAAM,sBAAsB,eAAe,GAAG;AACjF,aAAO,gBAAgB,KAAK;AAAA,IAChC,WACS,0BAA0B,eAAe,GAAG;AACjD,aAAO;AAAA,IACX;AAAA,EACJ;AACJ;AAuBO,SAAS,sBAAsB,KAAK;AACvC,SAAO,OAAO,QAAQ;AAC1B;AACO,SAAS,0BAA0B,KAAK;AAC3C,SAAO,OAAO,QAAQ;AAC1B;AAEA,SAAS,uBAAuB,aAAa;AACzC,MAAI;AACJ,SAAO,OAAO,gBAAgB,YAAY,CAAC,MAAM,QAAQ,WAAW,KAC7D,KAAK,CAAC,GAAG,OAAO,MAAM,IAAI,OAAO,OAAO,WAAW,CAAC,IAAI;AACnE;AACA,SAAS,uBAAuB,OAAO,iBAAiB;AACpD,MAAI,kBAAkB,oBAAI,IAAI;AAC9B,SAAO,OAAO,eAAe,EAAE,QAAQ,SAAU,aAAa;AAC1D,QAAI,WAAW,uBAAuB,WAAW;AACjD,aAAS,QAAQ,SAAU,OAAO;AAC9B,UAAI,iBAAiB,SAAS,OAAO,KAAK,GAAG;AACzC,wBAAgB,IAAI,KAAK;AAAA,MAC7B;AAAA,IACJ,CAAC;AAAA,EACL,CAAC;AACD,SAAO;AACX;;;ACxNO,SAAS,iBAAiB,UAAU,WAAW,mBAAmB;AACrE,MAAI;AAIJ,MAAI,OAAO,SAAS,WAAW,YAAY,MAAM,QAAQ,SAAS,MAAM,KAAK,SAAS,WAAW,MAAM;AACnG,UAAM,IAAI,MAAM,6CAA+C,OAAO,KAAK,UAAU,QAAQ,CAAC,CAAC;AAAA,EACnG;AAEA,MAAI,+BAA+B,CAAC;AACpC,WAAS,YAAY,OAAO;AACxB,QAAIC,eAAc,SAAS,WAAW,KAAK;AAC3C,QAAI,CAACA,gBAAe,EAAE,SAAS,+BAA+B;AAC1D,cAAQ,KAAK,GAAG,OAAO,OAAO,sDAAsD,CAAC;AACrF,mCAA6B,KAAK,IAAI;AAAA,IAC1C;AACA,WAAOA;AAAA,EACX;AACA,WAAS,iBAAiB,WAAW;AACjC,QAAI,UAAU,SAAS,mBAAmB,SAAS;AACnD,QAAI,CAAC,SAAS;AACV,cAAQ,KAAK,GAAG,OAAO,WAAW,4EAA4E,CAAC;AAAA,IACnH;AACA,WAAO;AAAA,EACX;AACA,MAAI,gBAAgB,QAAQ,SAAS,MAAM,EAAE,OAAO,SAAUC,KAAI;AAC9D,QAAI,QAAQA,IAAG,CAAC;AAChB,WAAO,YAAY,KAAK;AAAA,EAC5B,CAAC;AACD,MAAI,kBAAkB,SAAS,WACzB,QAAQ,SAAS,QAAQ,EAAE,OAAO,SAAUA,KAAI;AAC9C,QAAI,UAAUA,IAAG,CAAC;AAClB,WAAO,YAAY;AAAA,EACvB,CAAC,IACC,CAAC,GACF,OAAO,SAAUA,KAAI;AACtB,QAAI,YAAYA,IAAG,CAAC;AACpB,WAAO,iBAAiB,SAAS;AAAA,EACrC,CAAC,EACI,IAAI,SAAUA,KAAI;AACnB,QAAI,YAAYA,IAAG,CAAC,GAAG,UAAUA,IAAG,CAAC;AACrC,QAAI,iBAAiB,QAAQ,QAAQ,MAAM,EAAE,OAAO,SAAUA,KAAI;AAC9D,UAAI,QAAQA,IAAG,CAAC;AAChB,aAAO,YAAY,KAAK;AAAA,IAC5B,CAAC;AACD,QAAI,OAAO,YAAY,cAAc;AACrC,QAAI,aAAa,SAAS,SAAS,CAAC,GAAG,OAAO,GAAG,EAAE,QAAQ,KAAK,CAAC;AACjE,WAAO,CAAC,WAAW,UAAU;AAAA,EACjC,CAAC;AACD,MAAI,iBAAiB,CAAC;AACtB,OAAK,KAAK,SAAS,qBAAqB,QAAQ,OAAO,SAAS,SAAS,GAAG,OAAO;AAC/E,QAAI,kBAAkB,uBAAuB,SAAS,gBAAgB,KAAK;AAE3E,qBAAiB,SAAS,SAAS,CAAC,GAAG,YAAY,aAAa,CAAC,GAAG,eAAe;AAAA,EACvF,OACK;AACD,qBAAiB,YAAY,aAAa;AAAA,EAC9C;AACA,SAAO;AAAA,IACH,UAAU,YAAY,cAAc;AAAA,IACpC,QAAQ;AAAA,IACR,iBAAiB,SAAS;AAAA,EAC9B;AACJ;AACO,SAAS,YAAY,QAAQ;AAChC,MAAI;AACJ,MAAI,SAAS,cAAc,CAAC,OAAO,KAAK,IAAK,KAAK,OAAO,eAAe,QAAQ,OAAO,SAAS,KAAK,CAAC,GAAI,IAAI;AAC9G,MAAI,WAAW,CAAC;AAChB,WAAS,KAAK,GAAG,WAAW,QAAQ,KAAK,SAAS,QAAQ,MAAM;AAC5D,QAAI,QAAQ,SAAS,EAAE;AACvB,WAAO,KAAK,MAAM,QAAQ,EAAE,QAAQ,SAAU,aAAa;AACvD,UAAI,SAAS,QAAQ,WAAW,MAAM,IAAI;AACtC,iBAAS,KAAK,WAAW;AAAA,MAC7B;AAAA,IACJ,CAAC;AAAA,EACL;AACA,SAAO;AACX;AACO,SAAS,mBAAmB,QAAQ,aAAa;AACpD,MAAI;AACJ,MAAI,CAAC,aAAa;AACd,WAAO,OAAO;AAAA,EAClB;AACA,MAAI,YAAY,cAAc,CAAC,OAAO,KAAK,IAAK,KAAK,OAAO,eAAe,QAAQ,OAAO,SAAS,KAAK,CAAC,GAAI,IAAI,EAAE,OAAO,SAAU,cAAc,cAAc;AAC5J,iBAAa,aAAa,EAAE,IAAI;AAChC,WAAO;AAAA,EACX,GAAG,CAAC,CAAC;AACL,MAAI,CAAC,UAAU,WAAW,GAAG;AACzB,UAAM,IAAI,MAAM,0BAA0B,OAAO,aAAa,2CAA2C,EAAE,OAAO,OAAO,KAAK,SAAS,EAClI,IAAI,SAAU,OAAO;AAAE,aAAO,IAAI,OAAO,OAAO,GAAG;AAAA,IAAG,CAAC,EACvD,KAAK,IAAI,GAAG,GAAG,CAAC;AAAA,EACzB;AACA,SAAO,UAAU,WAAW;AAChC;;;ACnGO,SAAS,aAAa,OAAO,UAAU;AAC1C,WAAS,iBAAiB,eAAe,OAAO,QAAQ;AACpD,QAAI,WAAW,QAAQ,MAAM,KAAK,YAAY,MAAM;AACpD,QAAI,OAAO,QAAQ,OAAO,KAAK;AAC/B,QAAI,QAAQ,UAAU;AAClB,aAAO,OAAO,KAAK,KAAK,MAAM,EAAE,OAAO,SAAU,KAAK,OAAO;AACzD,YAAI,KAAK,IAAI;AACb,eAAO;AAAA,MACX,GAAG,CAAC,CAAC;AAAA,IACT,YACU,YAAY,aAAa,KAAK,kBAAkB,WAAc,YAAY,MAAM,GAAG;AACzF,aAAO,SAAS,SAAS,CAAC,GAAG,aAAa,GAAG,MAAM;AAAA,IACvD,WACS,UAAU;AACf,aAAO;AAAA,IACX,OACK;AACD,cAAQ,KAAK,6DAA6D,KAAK;AAAA,IACnF;AAAA,EACJ;AAEA,UAAQ,SAAS,MAAM,EAAE,QAAQ,SAAU,IAAI;AAC3C,QAAI,QAAQ,GAAG,CAAC,GAAG,SAAS,GAAG,CAAC;AAChC,QAAI,WAAW,iBAAiB,MAAM,OAAO,KAAK,GAAG,OAAO,MAAM;AAClE,QAAI,UAAU;AACV,YAAM,OAAO,KAAK,IAAI;AAAA,IAC1B;AAAA,EACJ,CAAC;AAED,MAAI,SAAS,UAAU;AACnB,YAAQ,SAAS,QAAQ,EAAE,QAAQ,SAAU,IAAI;AAC7C,UAAI,YAAY,GAAG,CAAC,GAAG,UAAU,GAAG,CAAC;AACrC,UAAI,eAAe,MAAM,SAAS,SAAS;AAC3C,UAAI,CAAC,WAAW,CAAC,cAAc;AAC3B;AAAA,MACJ;AACA,cAAQ,QAAQ,MAAM,EAAE,QAAQ,SAAUC,KAAI;AAC1C,YAAI;AACJ,YAAI,QAAQA,IAAG,CAAC,GAAG,SAASA,IAAG,CAAC;AAChC,YAAI,iBAAiB,KAAK,aAAa,OAAO,KAAK,OAAO,QAAQ,OAAO,SAAS,KAAK,MAAM,OAAO,KAAK;AACzG,YAAI,WAAW,iBAAiB,eAAe,OAAO,MAAM;AAC5D,YAAI,UAAU;AACV,gBAAM,SAAS,SAAS,EAAE,OAAO,KAAK,IAAI;AAAA,QAC9C;AAAA,MACJ,CAAC;AAAA,IACL,CAAC;AAAA,EACL;AACA,SAAO;AACX;;;ACjDA,IAAI;AAAA;AAAA,GAA4B,WAAY;AACxC,aAASC,cAAa;AAClB,WAAK,WAAW,oBAAI,IAAI;AACxB,WAAK,QAAQ,oBAAI,IAAI;AACrB,WAAK,UAAU;AAAA,IACnB;AACA,IAAAA,YAAW,UAAU,aAAa,SAAU,MAAM;AAC9C,WAAK,SAAS,IAAI,KAAK,UAAU,CAAC,MAAM,KAAK,SAAS,CAAC;AAAA,IAC3D;AACA,IAAAA,YAAW,UAAU,qBAAqB,SAAU,MAAM,MAAM;AAC5D,WAAK,SAAS,IAAI,KAAK,UAAU,CAAC,MAAM,KAAK,SAAS,CAAC;AACvD,WAAK,MAAM,IAAI,MAAM,IAAI;AAAA,IAC7B;AACA,IAAAA,YAAW,UAAU,aAAa,SAAU,MAAM;AAC9C,WAAK,SAAS,QAAQ,EAAE,KAAK,QAAQ;AACrC,WAAK,MAAM,QAAQ,EAAE,IAAI;AAAA,IAC7B;AACA,IAAAA,YAAW,UAAU,WAAW,SAAU,UAAU;AAChD,UAAI,kBAAkB,KAAK,SAAS,IAAI,QAAQ;AAChD,aAAO,oBAAoB,QAAQ,oBAAoB,SAAS,SAAS,gBAAgB,CAAC;AAAA,IAC9F;AACA,IAAAA,YAAW,UAAU,UAAU,SAAU,MAAM;AAC3C,UAAI,OAAO,KAAK,MAAM,IAAI,IAAI;AAC9B,UAAI,CAAC,MAAM;AACP,cAAM,IAAI,MAAM,mCAAmC,OAAO,KAAK,QAAQ,CAAC;AAAA,MAC5E;AACA,aAAO;AAAA,IACX;AACA,IAAAA,YAAW,UAAU,cAAc,WAAY;AAC3C,UAAI,QAAQ,CAAC;AACb,WAAK,MAAM,QAAQ,SAAU,GAAG,KAAK;AAAE,eAAO,MAAM,KAAK,GAAG;AAAA,MAAG,CAAC;AAChE,aAAO;AAAA,IACX;AAIA,IAAAA,YAAW,UAAU,WAAW,WAAY;AACxC,aAAO,cAAc,KAAK,QAAQ,EAC7B,IAAI,SAAU,MAAM;AAAE,eAAO,KAAK,SAAS;AAAA,MAAG,CAAC,EAC/C,KAAK,IAAI;AAAA,IAClB;AACA,WAAOA;AAAA,EACX,GAAE;AAAA;AACF,IAAO,qBAAQ;AACf,IAAI;AAAA;AAAA,GAAsB,WAAY;AAClC,aAASC,MAAK,UAAU,OAAO;AAC3B,WAAK,kBAAkB,oBAAI,IAAI;AAC/B,WAAK,UAAU;AACf,WAAK,WAAW;AAChB,WAAK,QAAQ;AAAA,IACjB;AACA,IAAAA,MAAK,UAAU,oBAAoB,SAAU,aAAa;AACtD,WAAK,gBAAgB,IAAI,YAAY,UAAU,CAAC,aAAa,KAAK,SAAS,CAAC;AAAA,IAChF;AACA,IAAAA,MAAK,UAAU,QAAQ,WAAY;AAC/B,WAAK,kBAAkB,oBAAI,IAAI;AAC/B,WAAK,UAAU;AAAA,IACnB;AACA,IAAAA,MAAK,UAAU,qBAAqB,WAAY;AAC5C,aAAO,cAAc,KAAK,eAAe;AAAA,IAC7C;AACA,IAAAA,MAAK,UAAU,OAAO,WAAY;AAC9B,aAAO,KAAK,gBAAgB;AAAA,IAChC;AACA,IAAAA,MAAK,UAAU,WAAW,WAAY;AAClC,UAAI,QAAQ,cAAc,KAAK,eAAe,EAAE,IAAI,SAAU,MAAM;AAAE,eAAO,KAAK,SAAS;AAAA,MAAG,CAAC;AAC/F,UAAI,OAAO,GAAG,OAAO,KAAK,UAAU,MAAO,EAAE,OAAO,MAAM,KAAK,KAAM,GAAG,KAAK;AAC7E,UAAI,KAAK,OAAO;AACZ,eAAO,UAAU,OAAO,KAAK,OAAO,IAAI,EAAE,OAAO,MAAM,GAAG;AAAA,MAC9D;AACA,aAAO;AAAA,IACX;AACA,IAAAA,MAAK,UAAU,aAAa,WAAY;AACpC,aAAO,CAAC,CAAC,KAAK;AAAA,IAClB;AACA,WAAOA;AAAA,EACX,GAAE;AAAA;AAEF,IAAI;AAAA;AAAA,GAA6B,WAAY;AACzC,aAASC,aAAY,UAAU,OAAO;AAClC,WAAK,WAAW;AAChB,WAAK,QAAQ;AAAA,IACjB;AACA,IAAAA,aAAY,UAAU,WAAW,WAAY;AACzC,aAAO,GAAG,OAAO,KAAK,UAAU,GAAG,EAAE,OAAO,KAAK,OAAO,GAAG;AAAA,IAC/D;AACA,WAAOA;AAAA,EACX,GAAE;AAAA;AAEF,SAAS,cAAc,KAAK;AACxB,MAAI,MAAM,CAAC;AACX,MAAI,QAAQ,SAAU,IAAI;AACtB,QAAI,OAAO,GAAG,CAAC,GAAG,WAAW,GAAG,CAAC;AACjC,WAAO,IAAI,KAAK,CAAC,MAAM,QAAQ,CAAC;AAAA,EACpC,CAAC;AACD,MAAI,KAAK,SAAU,IAAI,IAAI;AACvB,QAAI,QAAQ,GAAG,CAAC,GAAG,OAAO,GAAG,CAAC;AAC9B,QAAI,QAAQ,GAAG,CAAC,GAAG,OAAO,GAAG,CAAC;AAC9B,WAAO,OAAO;AAAA,EAClB,CAAC;AACD,SAAO,IAAI,IAAI,SAAU,IAAI;AACzB,QAAI,OAAO,GAAG,CAAC;AACf,WAAO;AAAA,EACX,CAAC;AACL;;;AC5GA,IAAI;AAAA;AAAA,GAA6B,WAAY;AACzC,aAASC,aAAY,UAAU,UAAU;AACrC,WAAK,WAAW;AAChB,WAAK,WAAW;AAAA,IACpB;AACA,IAAAA,aAAY,UAAU,SAAS,SAAU,QAAQ,YAAY;AACzD,UAAI,QAAQ;AACZ,UAAI,OAAO,IAAI,KAAK,KAAK,YAAY,MAAM,GAAG,OAAO,KAAK;AAC1D,cAAQ,UAAU,EAAE,QAAQ,SAAU,IAAI;AACtC,YAAI,QAAQ,GAAG,CAAC,GAAG,QAAQ,GAAG,CAAC;AAC/B,YAAI,WAAW,MAAM,SAAS,IAAI,KAAK;AACvC,YAAI,UAAU;AACV,eAAK,kBAAkB,IAAI,YAAY,UAAU,KAAK,CAAC;AAAA,QAC3D;AAAA,MACJ,CAAC;AACD,aAAO;AAAA,IACX;AACA,IAAAA,aAAY,UAAU,cAAc,SAAU,QAAQ;AAClD,aAAO,KAAK,SAAS,KAAK,EAAE,MAAM;AAAA,IACtC;AACA,WAAOA;AAAA,EACX,GAAE;AAAA;;;AClBF,IAAI;AAAA;AAAA,GAAiC,WAAY;AAC7C,aAASC,mBAAkB;AAAA,IAC3B;AACA,IAAAA,iBAAgB,2BAA2B,SAAU,OAAO,MAAM;AAC9D,aAAO,KAAK,MAAM,KAAK,EAAE,QAAQ,SAAU,KAAK;AAC5C,YAAI,OAAO,MAAM,MAAM,GAAG;AAC1B,gBAAQ,KAAK,MAAM,EAAE,QAAQ,SAAU,IAAI;AACvC,cAAI,WAAW,GAAG,CAAC,GAAG,QAAQ,GAAG,CAAC;AAClC,cAAI,gBAAgB,KAAK,GAAG;AACxB,iBAAK,MAAM,QAAQ;AAAA,UACvB;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IACL;AACA,IAAAA,iBAAgB,iBAAiB,SAAU,OAAO,MAAM;AACpD,aAAO,KAAK,MAAM,QAAQ,EAAE,QAAQ,SAAU,KAAK;AAC/C,YAAI,UAAU,MAAM,SAAS,GAAG;AAChC,aAAK,OAAO;AAAA,MAChB,CAAC;AAAA,IACL;AACA,IAAAA,iBAAgB,wCAAwC,SAAU,OAAO,MAAM;AAC3E,MAAAA,iBAAgB,yBAAyB,OAAO,SAAU,MAAM,UAAU;AACtE,QAAAA,iBAAgB,eAAe,OAAO,SAAU,SAAS;AACrD,eAAK,SAAS,MAAM,QAAQ;AAAA,QAChC,CAAC;AAAA,MACL,CAAC;AAAA,IACL;AACA,IAAAA,iBAAgB,yBAAyB,SAAU,YAAY,MAAM,MAAM;AACvE,UAAI,KAAK,KAAK,GAAG;AACb,mBAAW,mBAAmB,MAAM,IAAI;AAAA,MAC5C;AAAA,IACJ;AACA,WAAOA;AAAA,EACX,GAAE;AAAA;;;ACpCK,SAAS,QAAQ,KAAK;AACzB,MAAI,SAAS,CAAC;AACd,WAAS,KAAK,GAAG,QAAQ,KAAK,KAAK,MAAM,QAAQ,MAAM;AACnD,QAAI,OAAO,MAAM,EAAE;AACnB,QAAI,SAAS,QAAW;AACpB,aAAO,KAAK,IAAI;AAAA,IACpB;AAAA,EACJ;AACA,SAAO;AACX;AAMO,SAAS,iBAAiB,OAAO;AACpC,MAAI,QAAQ,MAAM,MAAM,kBAAkB;AAC1C,SAAO,QAAQ,MAAM,CAAC,IAAI;AAC9B;;;ACbA,IAAI;AAAA;AAAA,GAAoC,SAAU,QAAQ;AACtD,cAAUC,qBAAoB,MAAM;AACpC,aAASA,oBAAmB,OAAO,aAAa,WAAW,eAAe;AACtE,UAAI,QAAQ,OAAO,KAAK,IAAI,KAAK;AACjC,YAAM,QAAQ;AACd,YAAM,YAAY;AAClB,YAAM,gBAAgB;AACtB,YAAM,aAAa,aAAa,OAAO,MAAM,WAAW,aAAa;AACrE,YAAM,cAAc;AACpB,aAAO;AAAA,IACX;AACA,IAAAA,oBAAmB,UAAU,SAAS,WAAY;AAC9C,UAAI,QAAQ;AACZ,UAAI,aAAa,IAAI,mBAAW;AAChC,UAAI,WAAW,OAAO,KAAK,YAAY,KAAK,OAAO,gBAAgB,GAAG,KAAK,SAAS;AACpF,UAAI,WAAW,KAAK,YAAY,OAAO,EAAE,QAAQ,CAAC,KAAK,MAAM,QAAQ,EAAE,GAAG,QAAQ;AAClF,MAAAA,oBAAmB,uBAAuB,YAAY,UAAU,CAAC,CAAC;AAClE,MAAAA,oBAAmB,yBAAyB,KAAK,OAAO,SAAU,MAAM,OAAO;AAC3E,YAAI,iBAAiB,OAAO,MAAM,YAAY,MAAM,OAAO,YAAY,MAAM,KAAK,GAAG,MAAM,SAAS;AACpG,YAAI,eAAe,KAAK,OAAO,KAAK;AACpC,YAAI,WAAW,MAAM,YAAY,OAAO,EAAE,QAAQ,CAAC,MAAM,MAAM,UAAU,aAAa,QAAQ,GAAG,OAAO,aAAa,MAAM,GAAG,cAAc;AAC5I,QAAAA,oBAAmB,uBAAuB,YAAY,UAAU,CAAC,QAAQ,CAAC;AAAA,MAC9E,CAAC;AACD,MAAAA,oBAAmB,eAAe,KAAK,OAAO,SAAU,SAAS;AAC7D,YAAI,oBAAoB,OAAO,eAAe,MAAM,OAAO,SAAS,MAAM,WAAW,MAAM,YAAY,MAAM,aAAa,GAAG,MAAM,OAAO,gBAAgB,GAAG,MAAM,SAAS;AAC5K,YAAI,cAAc,MAAM,YAAY,OAAO,EAAE,QAAQ,CAAC,MAAM,MAAM,QAAQ,GAAG,OAAO,CAAC,QAAQ,QAAQ,EAAE,GAAG,iBAAiB;AAC3H,QAAAA,oBAAmB,uBAAuB,YAAY,aAAa,CAAC,QAAQ,CAAC;AAC7E,YAAI,eAAe,MAAM,YAAY,OAAO,EAAE,QAAQ,CAAC,MAAM,MAAM,UAAU,QAAQ,QAAQ,EAAE,GAAG,iBAAiB;AACnH,QAAAA,oBAAmB,uBAAuB,YAAY,cAAc,CAAC,QAAQ,CAAC;AAAA,MAClF,CAAC;AACD,MAAAA,oBAAmB,sCAAsC,KAAK,OAAO,SAAU,SAAS,MAAM,OAAO;AACjG,YAAI,oBAAoB,OAAO,eAAe,MAAM,OAAO,SAAS,MAAM,WAAW,MAAM,YAAY,MAAM,aAAa,GAAG,MAAM,OAAO,YAAY,MAAM,KAAK,GAAG,MAAM,SAAS;AACnL,YAAI,eAAe,KAAK,OAAO,KAAK;AACpC,YAAI,qBAAqB,MAAM,YAAY,OAAO,EAAE,QAAQ,CAAC,MAAM,MAAM,UAAU,aAAa,QAAQ,GAAG,OAAO,CAAC,QAAQ,QAAQ,GAAG,OAAO,aAAa,MAAM,GAAG,iBAAiB;AACpL,YAAI,cAAc,WAAW,SAAS,MAAM,YAAY,YAAY,EAAE,QAAQ,CAAC,MAAM,MAAM,QAAQ,GAAG,OAAO,CAAC,QAAQ,QAAQ,EAAE,CAAC,CAAC;AAClI,YAAI,WAAW,WAAW,SAAS,MAAM,YAAY,YAAY;AAAA,UAC7D,QAAQ,CAAC,MAAM,MAAM,UAAU,KAAK,OAAO,KAAK,EAAE,QAAQ;AAAA,QAC9D,CAAC,CAAC;AACF,YAAI,oBAAoB,WAAW,SAAS,MAAM,YAAY,YAAY,EAAE,QAAQ,CAAC,MAAM,MAAM,UAAU,QAAQ,QAAQ,EAAE,CAAC,CAAC;AAC/H,QAAAA,oBAAmB,uBAAuB,YAAY,oBAAoB,QAAQ,CAAC,aAAa,UAAU,QAAQ,CAAC,CAAC;AACpH,YAAI,+BAA+B,MAAM,YAAY,OAAO,EAAE,QAAQ,CAAC,MAAM,MAAM,UAAU,aAAa,UAAU,QAAQ,QAAQ,GAAG,OAAO,aAAa,MAAM,GAAG,iBAAiB;AACrL,QAAAA,oBAAmB,uBAAuB,YAAY,8BAA8B,QAAQ,CAAC,mBAAmB,UAAU,QAAQ,CAAC,CAAC;AAAA,MACxI,CAAC;AACD,aAAO;AAAA,IACX;AACA,WAAOA;AAAA,EACX,GAAE,eAAe;AAAA;;;AChDjB,IAAI,oBAAoB;AACjB,SAAS,oBAAoB,UAAU;AAC1C,MAAI,KAAK,SAAS,MAAM,GAAG,GAAG,OAAO,GAAG,CAAC,GAAG,SAAS,GAAG,MAAM,CAAC;AAC/D,MAAI,eAAe,OAAO,SAAS,MAAM,OAAO,KAAK,GAAG,IAAI;AAC5D,SAAO,GAAG,OAAO,IAAI,EAAE,OAAO,iBAAiB,EAAE,OAAO,YAAY;AACxE;AAEO,IAAI,kBAAkB,CAAC,SAAS,QAAQ,MAAM;AAC9C,IAAI,mBAAmB,SAAU,UAAU;AAC9C,SAAO,gBAAgB,QAAQ,QAAQ,IAAI;AAC/C;AACO,SAAS,iBAAiB,UAAU;AACvC,SAAO,SAAS,MAAM,WAAW,EAAE,CAAC;AACxC;AAOO,SAAS,6BAA6B,WAAW;AACpD,MAAI,QAAQ,UAAU,MAAM,GAAG,EAAE,IAAI,sBAAsB;AAC3D,SAAO,MAAM,KAAK,GAAG;AACzB;AACA,SAAS,uBAAuB,UAAU;AACtC,MAAI,SAAS,cAAc,KAAK,QAAQ;AAExC,OAAK,WAAW,QAAQ,WAAW,SAAS,SAAS,OAAO,YAAY,GAAG;AACvE,QAAI,QAAQ,OAAO,CAAC;AACpB,QAAI,QAAQ,OAAO;AACnB,WAAO,GAAG,OAAO,SAAS,UAAU,GAAG,KAAK,CAAC,EAAE,OAAO,KAAK,EAAE,OAAO,SAAS,UAAU,KAAK,CAAC;AAAA,EACjG;AACA,SAAO,oBAAoB,QAAQ;AACvC;;;ACzBA,IAAI;AAAA;AAAA,GAAmC,SAAU,QAAQ;AACrD,cAAUC,oBAAmB,MAAM;AACnC,aAASA,mBAAkB,QAAQ,aAAa,eAAe;AAC3D,UAAI,QAAQ,OAAO,KAAK,IAAI,KAAK;AACjC,YAAM,SAAS;AACf,YAAM,cAAc;AACpB,YAAM,gBAAgB;AACtB,aAAO;AAAA,IACX;AACA,IAAAA,mBAAkB,UAAU,SAAS,WAAY;AAC7C,UAAI,QAAQ;AACZ,UAAI,eAAe,KAAK,OAAO,OAAO,SAAU,OAAO;AAAE,eAAO,iBAAiB,MAAM,QAAQ;AAAA,MAAG,CAAC;AACnG,UAAI,aAAa,SAAS,GAAG;AACzB,cAAM,IAAI,MAAM,UAAU,OAAO,aAC5B,IAAI,SAAU,IAAI;AACnB,cAAI,KAAK,GAAG;AACZ,iBAAO;AAAA,QACX,CAAC,EACI,KAAK,IAAI,GAAG,6HAA6H,CAAC;AAAA,MACnJ;AACA,UAAI,CAAC,aAAa,QAAQ;AAEtB,YAAI,cAAc,KAAK,OAAO,IAAI,SAAU,OAAO;AAC/C,iBAAO,IAAI,mBAAmB,OAAO,MAAM,aAAa,QAAW,MAAM,aAAa,EAAE,OAAO;AAAA,QACnG,CAAC;AACD,YAAI,WAAW,IAAI,mBAAW;AAC9B,oBAAY,QAAQ,SAAUC,aAAY;AACtC,UAAAA,YAAW,YAAY,EAAE,IAAI,SAAU,MAAM;AAAE,gBAAI;AAAI,mBAAO,SAAS,mBAAmB,OAAO,KAAKA,YAAW,QAAQ,IAAI,OAAO,QAAQ,OAAO,SAAS,KAAK,CAAC,CAAC;AAAA,UAAG,CAAC;AAAA,QAC3K,CAAC;AACD,eAAO;AAAA,MACX;AACA,UAAI,cAAc,aAAa,CAAC;AAChC,UAAI,aAAa,IAAI,mBAAmB,aAAa,KAAK,aAAa,QAAW,KAAK,aAAa,EAAE,OAAO;AAC7G,UAAI,cAAc,KAAK,iBAAiB,WAAW;AACnD,kBAAY,QAAQ,SAAU,WAAW;AACrC,cAAM,wBAAwB,YAAY,aAAa,SAAS;AAAA,MACpE,CAAC;AACD,aAAO;AAAA,IACX;AACA,IAAAD,mBAAkB,UAAU,0BAA0B,SAAU,YAAY,SAAS,WAAW;AAC5F,UAAI,QAAQ;AACZ,UAAI,sBAAsB,aAAa,WAAW,QAAW,KAAK,aAAa;AAC/E,UAAI,WAAW,OAAO,qBAAqB,WAAW,gBAAgB,CAAC;AACvE,UAAI,WAAW,KAAK,YAAY,OAAO,EAAE,QAAQ,CAAC,UAAU,QAAQ,EAAE,GAAG,QAAQ;AACjF,UAAI,aAAa,KAAK,SAAS,YAAY,EAAE,QAAQ,CAAC,QAAQ,QAAQ,EAAE,CAAC;AACzE,MAAAA,mBAAkB,uBAAuB,YAAY,UAAU,QAAQ,CAAC,UAAU,CAAC,CAAC;AACpF,MAAAA,mBAAkB,yBAAyB,WAAW,SAAU,MAAM,OAAO;AACzE,YAAI,gBAAgB,KAAK,OAAO,KAAK;AACrC,YAAI,iBAAiB,OAAO,qBAAqB,WAAW,YAAY,MAAM,KAAK,CAAC;AACpF,YAAI,WAAW,MAAM,YAAY,OAAO,EAAE,QAAQ,CAAC,UAAU,UAAU,cAAc,QAAQ,GAAG,OAAO,cAAc,MAAM,GAAG,cAAc;AAC5I,YAAI,iBAAiB,WAAW,SAAS,MAAM,YAAY,YAAY;AAAA,UACnE,QAAQ,CAAC,QAAQ,UAAU,cAAc,QAAQ;AAAA,QACrD,CAAC,CAAC;AACF,QAAAA,mBAAkB,uBAAuB,YAAY,UAAU,QAAQ,CAAC,UAAU,gBAAgB,UAAU,CAAC,CAAC;AAAA,MAClH,CAAC;AACD,MAAAA,mBAAkB,eAAe,WAAW,SAAU,SAAS;AAC3D,YAAI,oBAAoB,OAAO,eAAe,WAAW,SAAS,QAAW,QAAW,MAAM,aAAa,GAAG,WAAW,gBAAgB,CAAC;AAC1I,YAAI,cAAc,MAAM,YAAY,OAAO,EAAE,QAAQ,CAAC,UAAU,QAAQ,GAAG,OAAO,CAAC,QAAQ,QAAQ,EAAE,GAAG,iBAAiB;AACzH,YAAI,oBAAoB,WAAW,SAAS,MAAM,YAAY,YAAY;AAAA,UACtE,QAAQ,CAAC,QAAQ,QAAQ;AAAA,UACzB,OAAO,CAAC,QAAQ,QAAQ;AAAA,QAC5B,CAAC,CAAC;AACF,QAAAA,mBAAkB,uBAAuB,YAAY,aAAa,QAAQ,CAAC,mBAAmB,UAAU,UAAU,CAAC,CAAC;AACpH,YAAI,oBAAoB,MAAM,YAAY,OAAO,EAAE,QAAQ,CAAC,UAAU,UAAU,QAAQ,QAAQ,EAAE,GAAG,iBAAiB;AACtH,QAAAA,mBAAkB,uBAAuB,YAAY,mBAAmB,QAAQ,CAAC,UAAU,mBAAmB,UAAU,CAAC,CAAC;AAAA,MAC9H,CAAC;AACD,MAAAA,mBAAkB,sCAAsC,WAAW,SAAU,SAAS,MAAM,OAAO;AAC/F,YAAI,gBAAgB,KAAK,OAAO,KAAK;AACrC,YAAI,oBAAoB,OAAO,eAAe,WAAW,SAAS,QAAW,QAAW,MAAM,aAAa,GAAG,WAAW,YAAY,MAAM,KAAK,CAAC;AACjJ,YAAI,cAAc,MAAM,SAAS,YAAY,EAAE,QAAQ,CAAC,UAAU,QAAQ,GAAG,OAAO,CAAC,QAAQ,QAAQ,EAAE,CAAC;AACxG,YAAI,WAAW,MAAM,SAAS,YAAY;AAAA,UACtC,QAAQ,CAAC,UAAU,UAAU,cAAc,QAAQ;AAAA,QACvD,CAAC;AACD,YAAI,qBAAqB,MAAM,YAAY,OAAO;AAAA,UAC9C,QAAQ,CAAC,UAAU,UAAU,cAAc,QAAQ;AAAA,UACnD,OAAO,CAAC,QAAQ,QAAQ;AAAA,UACxB,OAAO,cAAc;AAAA,QACzB,GAAG,iBAAiB;AACpB,YAAI,oBAAoB,WAAW,SAAS,MAAM,YAAY,YAAY,EAAE,QAAQ,CAAC,QAAQ,QAAQ,GAAG,OAAO,CAAC,QAAQ,QAAQ,EAAE,CAAC,CAAC;AACpI,YAAI,iBAAiB,WAAW,SAAS,MAAM,YAAY,YAAY;AAAA,UACnE,QAAQ,CAAC,QAAQ,UAAU,cAAc,QAAQ;AAAA,QACrD,CAAC,CAAC;AACF,YAAI,2BAA2B,WAAW,SAAS,MAAM,YAAY,YAAY;AAAA,UAC7E,QAAQ,CAAC,QAAQ,UAAU,cAAc,QAAQ;AAAA,UACjD,OAAO,CAAC,QAAQ,QAAQ;AAAA,QAC5B,CAAC,CAAC;AACF,QAAAA,mBAAkB,uBAAuB,YAAY,oBAAoB,QAAQ;AAAA,UAC7E;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,QACJ,CAAC,CAAC;AACF,YAAI,iCAAiC,WAAW,SAAS,MAAM,YAAY,YAAY,EAAE,QAAQ,CAAC,UAAU,UAAU,QAAQ,QAAQ,EAAE,CAAC,CAAC;AAC1I,YAAI,2BAA2B,MAAM,YAAY,OAAO;AAAA,UACpD,QAAQ,CAAC,UAAU,UAAU,cAAc,UAAU,QAAQ,QAAQ;AAAA,UACrE,OAAO,cAAc;AAAA,QACzB,GAAG,iBAAiB;AACpB,QAAAA,mBAAkB,uBAAuB,YAAY,0BAA0B,QAAQ;AAAA,UACnF;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,QACJ,CAAC,CAAC;AAAA,MACN,CAAC;AACD,aAAO;AAAA,IACX;AACA,IAAAA,mBAAkB,UAAU,WAAW,SAAU,YAAY,QAAQ;AACjE,UAAI,OAAO,WAAW,SAAS,KAAK,YAAY,YAAY,MAAM,CAAC;AACnE,UAAI,CAAC,MAAM;AAGP,cAAM,IAAI,MAAM,wBAAwB,OAAO,KAAK,UAAU,MAAM,GAAG,QAAQ,CAAC;AAAA,MACpF;AACA,aAAO;AAAA,IACX;AACA,IAAAA,mBAAkB,UAAU,mBAAmB,SAAU,OAAO;AAC5D,UAAI,MAAM,KAAK,OAAO,QAAQ,KAAK;AACnC,aAAO,cAAc,cAAc,CAAC,GAAG,KAAK,OAAO,MAAM,GAAG,GAAG,GAAG,IAAI,GAAG,KAAK,OAAO,MAAM,MAAM,CAAC,GAAG,IAAI;AAAA,IAC7G;AACA,WAAOA;AAAA,EACX,GAAE,eAAe;AAAA;;;AC1IjB,IAAI;AAAA;AAAA,GAA0B,WAAY;AACtC,aAASE,UAAS,YAAY;AAC1B,WAAK,aAAa;AAAA,IACtB;AACA,IAAAA,UAAS,UAAU,KAAK,IAAI,SAAU,IAAI;AACtC,UAAI,SAAS,GAAG,QAAQ,QAAQ,GAAG;AACnC,UAAI,OAAO,WAAW,KAAK,EAAE,UAAU,QAAQ,UAAU,SAAS,SAAS,MAAM,WAAW,iBAAiB,OAAO,CAAC,CAAC,GAAG;AAErH,eAAO,KAAK,WAAW,OAAO,CAAC,CAAC;AAAA,MACpC;AACA,UAAI,qBAAqB,OAAO,OAAO,SAAU,GAAG;AAAE,eAAO,CAAC,iBAAiB,CAAC;AAAA,MAAG,CAAC;AACpF,UAAI,WAAW,KAAK,WAAW,kBAAkB;AACjD,UAAI,UAAU,QAAQ,UAAU,SAAS,SAAS,MAAM,QAAQ;AAC5D,oBAAY,IAAI,OAAO,KAAK,WAAW,KAAK,CAAC;AAAA,MACjD;AACA,aAAO,KAAK,WAAW,SAAS,KAAK,CAAC;AAAA,IAC1C;AACA,IAAAA,UAAS,UAAU,aAAa,SAAU,aAAa;AAEnD,UAAI,YAAY,SAAU,UAAU;AAChC,eAAO,CAAC,KAAK,KAAK,GAAG,EAAE,QAAQ,SAAS,OAAO,CAAC,CAAC,MAAM;AAAA,MAC3D;AACA,aAAO,YACF,MAAM,EACN,KAAK,SAAU,GAAG,GAAG;AACtB,YAAI,UAAU,CAAC,KAAK,CAAC,UAAU,CAAC;AAC5B,iBAAO;AACX,YAAI,CAAC,UAAU,CAAC,KAAK,UAAU,CAAC;AAC5B,iBAAO;AACX,eAAO,EAAE,cAAc,CAAC;AAAA,MAC5B,CAAC,EACI,KAAK,EAAE;AAAA,IAChB;AACA,WAAOA;AAAA,EACX,GAAE;AAAA;;;ACnCF,IAAI;AAAA;AAAA,GAAqC,WAAY;AACjD,aAASC,qBAAoB,eAAe;AACxC,WAAK,MAAM;AAAA,IACf;AACA,IAAAA,qBAAoB,UAAU,MAAM,SAAU,OAAO;AACjD,UAAI,WAAW,KAAK,IAAI,KAAK;AAC7B,UAAI,CAAC,UAAU;AACX,cAAM,IAAI,MAAM,SAAS,OAAO,OAAO,2BAA2B,CAAC;AAAA,MACvE;AACA,aAAO;AAAA,IACX;AACA,WAAOA;AAAA,EACX,GAAE;AAAA;AAEF,IAAI;AAAA;AAAA,GAAsC,WAAY;AAClD,aAASC,sBAAqB,eAAe,MAAM;AAC/C,WAAK,MAAM;AACX,WAAK,OAAO;AAAA,IAChB;AACA,IAAAA,sBAAqB,UAAU,MAAM,SAAU,OAAO;AAClD,UAAI,KAAK,KAAK,QAAQ,KAAK,IAAI,IAAI;AAC/B,eAAO,KAAK,IAAI,KAAK;AAAA,MACzB;AACA,aAAO;AAAA,IACX;AACA,WAAOA;AAAA,EACX,GAAE;AAAA;;;ACpBF,IAAI;AAAA;AAAA,GAAoC,WAAY;AAChD,aAASC,sBAAqB;AAAA,IAC9B;AACA,IAAAA,oBAAmB,UAAU,YAAY,SAAU,YAAY;AAC3D,UAAI,QAAQ,WAAW,YAAY;AACnC,UAAI,gBAAgB,MAAM,IAAI,SAAU,MAAM;AAAE,eAAQ;AAAA,UACpD;AAAA,UACA,MAAM,WAAW,QAAQ,IAAI;AAAA,QACjC;AAAA,MAAI,CAAC;AACL,UAAI,SAAS,cAAc,KAAK,SAAU,IAAI,IAAI;AAC9C,YAAI,QAAQ,GAAG;AACf,YAAI,QAAQ,GAAG;AACf,eAAO,MAAM,SAAS,MAAM;AAAA,MAChC,CAAC;AACD,aAAO,QAAQ,SAAU,IAAI;AACzB,YAAI,OAAO,GAAG,MAAM,OAAO,GAAG;AAC9B,YAAI,KAAK,WAAW,GAAG;AAEnB;AAAA,QACJ;AACA,YAAI,iBAAiB,CAAC;AACtB,iBAAS,IAAI,KAAK,SAAS,GAAG,KAAK,GAAG,KAAK;AACvC,cAAI,WAAW,KAAK,CAAC;AACrB,cAAI,eAAe,SAAS,mBAAmB;AAC/C,uBAAa,QAAQ,SAAU,MAAM;AACjC,2BAAe,KAAK,QAAQ,IAAI,KAAK;AAAA,UACzC,CAAC;AAAA,QACL;AACA,YAAI,YAAY,KAAK,mBAAmB,EAAE,OAAO,SAAU,KAAK,MAAM;AAClE,cAAI,KAAK,QAAQ,IAAI,KAAK;AAC1B,iBAAO;AAAA,QACX,GAAG,CAAC,CAAC;AACL,YAAI,OAAOC,YAAW,gBAAgB,SAAS;AAS/C,YAAI,gBAAgB,iBAAiB,KAAK,QAAQ;AAClD,YAAI,aAAa,KAAK,WAAW;AACjC,YAAI,iBAAiB,aAAa,GAAG;AACjC,eAAK,MAAM;AACX,kBAAQ,IAAI,EAAE,QAAQ,SAAUC,KAAI;AAChC,gBAAI,WAAWA,IAAG,CAAC,GAAG,QAAQA,IAAG,CAAC;AAClC,mBAAO,KAAK,kBAAkB,IAAI,YAAY,UAAU,KAAK,CAAC;AAAA,UAClE,CAAC;AACD,cAAI,KAAK,KAAK,MAAM,GAAG;AACnB,uBAAW,WAAW,IAAI;AAAA,UAC9B;AACA;AAAA,QACJ;AACA,YAAI,eAAe,SAAU,SAAS,SAAS;AAC3C,cAAI,YAAY,QAAQ;AAAE,sBAAU,oBAAI,IAAI;AAAA,UAAG;AAC/C,cAAI,QAAQ,IAAI,OAAO;AACnB,mBAAO;AACX,kBAAQ,IAAI,OAAO;AACnB,cAAI,uBAAuB,WAAW,aAAa,WAAW,kBAAkB,UAAU,OAAO,MAAM,eAAe,OAAO;AAC7H,cAAI;AACA,mBAAO;AACX,cAAI,gBAAgB,WAAW,YAAY,iBAAiB,UAAU,OAAO,CAAC,IAAI;AAClF,iBAAO,gBAAgB,aAAa,eAAe,OAAO,IAAI;AAAA,QAClE;AACA,eAAO,KAAK,SAAS,EAAE,QAAQ,SAAU,UAAU;AAC/C,cAAI,gBAAgB,iBAAiB,UAAU,QAAQ,CAAC;AACxD,cAAI,CAAC,iBAAiB,CAAC,aAAa,aAAa;AAC7C;AAGJ,cAAI,aAAa,cAAc,UAAU,QAAQ,MAAM,eAAe,QAAQ;AAC9E,cAAI;AACA;AACJ,cAAI,EAAE,YAAY,OAAO;AACrB,iBAAK,QAAQ,IAAI,UAAU,QAAQ;AAAA,UACvC;AAAA,QACJ,CAAC;AACD,aAAK,MAAM;AACX,gBAAQ,IAAI,EAAE,QAAQ,SAAUA,KAAI;AAChC,cAAI,WAAWA,IAAG,CAAC,GAAG,QAAQA,IAAG,CAAC;AAClC,iBAAO,KAAK,kBAAkB,IAAI,YAAY,UAAU,KAAK,CAAC;AAAA,QAClE,CAAC;AACD,YAAI,KAAK,KAAK,MAAM,GAAG;AACnB,qBAAW,WAAW,IAAI;AAAA,QAC9B;AAAA,MACJ,CAAC;AACD,aAAO;AAAA,IACX;AACA,WAAOF;AAAA,EACX,GAAE;AAAA;AAEF,SAASG,YAAW,MAAM,MAAM;AAC5B,MAAI,OAAO,CAAC;AACZ,SAAO,KAAK,IAAI,EAAE,QAAQ,SAAU,KAAK;AACrC,QAAI,KAAK,GAAG,MAAM,KAAK,GAAG,KAAK,KAAK,GAAG,MAAM,QAAW;AACpD,WAAK,GAAG,IAAI,KAAK,GAAG;AAAA,IACxB;AAAA,EACJ,CAAC;AACD,SAAO,KAAK,IAAI,EAAE,QAAQ,SAAU,KAAK;AACrC,QAAI,KAAK,GAAG,MAAM,KAAK,GAAG,KAAK,KAAK,GAAG,MAAM,QAAW;AACpD,WAAK,GAAG,IAAI,KAAK,GAAG;AAAA,IACxB;AAAA,EACJ,CAAC;AACD,SAAO;AACX;;;ACnGA,SAAS,mBAAmB,MAAM,UAAU;AACxC,MAAI,eAAe,UAAU,IAAI;AACjC,MAAI,gBAAgB,oBAAI,IAAI;AAC5B,SAAO,aAAa,QAAQ,EAAE,QAAQ,SAAU,SAAS;AACrD,WAAO,KAAK,QAAQ,MAAM,EAAE,QAAQ,SAAU,KAAK;AAC/C,UAAI,IAAI,IAAI;AACZ,UAAI,sBAAsB,SAAS,MAAM,MAAM,KAAK,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,cAAc,QAAQ,OAAO,SAAS,SAAS,GAAG,QAAQ,EAAE,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,YAAY,QAAQ,OAAO,SAAS,KAAK,CAAC;AAClQ,UAAI,EAAE,OAAO,SAAS,WAAW,CAAC,qBAAqB;AACnD,eAAO,QAAQ,OAAO,GAAG;AAAA,MAC7B,OACK;AACD,sBAAc,IAAI,GAAG;AAAA,MACzB;AAAA,IACJ,CAAC;AAAA,EACL,CAAC;AACD,SAAO,KAAK,aAAa,MAAM,EAAE,QAAQ,SAAU,KAAK;AACpD,QAAI,CAAC,cAAc,IAAI,GAAG,KAAK,EAAE,OAAO,SAAS,SAAS;AACtD,aAAO,aAAa,OAAO,GAAG;AAAA,IAClC;AAAA,EACJ,CAAC;AACD,SAAO,aAAa,cAAc,QAAQ;AAC9C;AACA,SAAS,yBAAyB,QAAQ,eAAe;AACrD,MAAI,kBAAkB,CAAC;AACvB,SAAO,QAAQ,SAAU,OAAO;AAAE,WAAO,gBAAgB,KAAK,MAAM,iBAAiB,OAAO,KAAK,uBAAuB,KAAK,CAAC,CAAC;AAAA,EAAG,CAAC;AACnI,MAAI,kBAAkB,IAAI,IAAI,cAAc,cAAc,CAAC,GAAG,eAAe,IAAI,GAAG,iBAAiB,IAAI,CAAC;AAC1G,MAAI,mBAAmB,CAAC;AACxB,SAAO,QAAQ,SAAU,OAAO;AAC5B,QAAI,aAAa,wBAAwB,OAAO,cAAc,cAAc,CAAC,GAAG,eAAe,IAAI,GAAG,iBAAiB,IAAI,CAAC;AAC5H,eAAW,QAAQ,SAAU,OAAO;AAChC,UAAI,CAAC,gBAAgB,IAAI,KAAK,GAAG;AAC7B,yBAAiB,KAAK,KAAK;AAC3B,wBAAgB,IAAI,KAAK;AAAA,MAC7B;AAAA,IACJ,CAAC;AAAA,EACL,CAAC;AACD,SAAO,EAAE,iBAAkC,iBAAmC;AAClF;AACA,SAAS,wBAAwB,OAAO,QAAQ,aAAa;AACzD,SAAO,QAAQ,SAAU,OAAO;AAC5B,QAAI,EAAE,SAAS,MAAM,WAAW,SAAS,YAAY,QAAQ;AACzD,YAAM,OAAO,KAAK,IAAI,YAAY,OAAO,KAAK;AAAA,IAClD;AAAA,EACJ,CAAC;AACL;AACO,SAAS,2BAA2B,MAAM,UAAU,eAAe,oBAAoB;AAC1F,MAAI,eAAe,mBAAmB,MAAM,QAAQ;AACpD,MAAI,gBAAgB,OAAO,KAAK,aAAa,MAAM;AACnD,MAAI,mBAAmB,yBAAyB,CAAC,IAAI,GAAG,aAAa,EAAE;AAGvE,0BAAwB,cAAc,kBAAkB,IAAI;AAC5D,MAAI,aAAa,cAAc,cAAc,CAAC,GAAG,eAAe,IAAI,GAAG,kBAAkB,IAAI;AAC7F,MAAI,cAAc,IAAI,YAAY,IAAI,SAAS,kBAAkB,GAAG,IAAI,qBAAqB,eAAe,UAAU,CAAC;AACvH,MAAI,aAAa,IAAI,mBAAmB,cAAc,aAAa,MAAM,aAAa,EAAE,OAAO;AAC/F,SAAO,IAAI,mBAAmB,EAAE,UAAU,UAAU,EAAE,SAAS;AACnE;;;AC3DO,SAAS,gBAAgB,SAAS,OAAO;AAC5C,MAAI,OAAO,SAAS,cAAc,OAAO;AACzC,MAAI,OAAO;AACP,SAAK,aAAa,SAAS,KAAK;AAAA,EACpC;AACA,OAAK,YAAY,SAAS,eAAe,OAAO,CAAC;AACjD,SAAO;AACX;AACO,SAAS,gBAAgB,MAAM,gBAAgB;AAClD,MAAI,mBAAmB,QAAQ;AAAE,qBAAiB;AAAA,EAAU;AAC5D,iBAAe,KAAK,YAAY,IAAI;AACxC;AAMO,SAAS,SAAS,gBAAgB;AACrC,MAAI;AACJ,MAAI,mBAAmB,QAAQ;AAAE,qBAAiB;AAAA,EAAU;AAC5D,MAAI,UAAU,eAAe,cAAc,oBAAoB;AAC/D,UAAQ,KAAK,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,aAAa,QAAQ,OAAO,SAAS,KAAK;AACrH;;;AC7BO,SAAS,2BAA2B,MAAM;AAG7C,SAAO,SAAU,UAAU;AACvB,WAAO,aAAa,OACd,6BAA6B,QAAQ,IACrC,oBAAoB,6BAA6B,QAAQ,CAAC;AAAA,EACpE;AACJ;;;ACHO,SAAS,wBAAwB,QAAQ;AAC5C,MAAI,WAAW,OAAO,UAAU,SAAS,OAAO,QAAQ,cAAc,OAAO;AAC7E,MAAI,oBAAoB,YAAY,MAAM;AAC1C,MAAI,YAAY,iBAAiB,UAAU,OAAO,WAAW,iBAAiB;AAC9E,MAAI,QAAQ,mBAAmB,QAAQ,WAAW;AAClD,SAAO,2BAA2B,OAAO,WAAW,OAAO,eAAe,2BAA2B,OAAO,MAAM,QAAQ,CAAC;AAC/H;AACO,SAAS,WAAW,QAAQ;AAC/B,MAAI,iBAAiB,OAAO;AAC5B,MAAI,UAAU,wBAAwB,MAAM;AAC5C,MAAI,QAAQ,SAAS,cAAc;AACnC,MAAI,YAAY,gBAAgB,SAAS,KAAK;AAC9C,kBAAgB,WAAW,cAAc;AACzC,SAAO;AAAA,IACH,OAAO,WAAY;AACf,gBAAU,OAAO;AAAA,IACrB;AAAA,EACJ;AACJ;",
  "names": ["delinearized", "delinearized", "Variant", "differenceDegrees", "PaletteSpecification", "NeutralPaletteSpecification", "MIN_TONE", "MAX_TONE", "PrimaryPaletteSpecification", "MIN_TONE", "MAX_TONE", "WarningPaletteSpecification", "_a", "_a", "ThemeBuilder", "entries", "tokenResolutionPath", "isThemeable", "_a", "_a", "Stylesheet", "Rule", "Declaration", "RuleCreator", "AbstractCreator", "SingleThemeCreator", "MultiThemeCreator", "stylesheet", "Selector", "AllPropertyRegistry", "UsedPropertyRegistry", "MinimalTransformer", "difference", "_a", "difference"]
}
